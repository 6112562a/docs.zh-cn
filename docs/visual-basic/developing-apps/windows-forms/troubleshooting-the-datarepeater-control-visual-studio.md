---
title: DataRepeater 控件疑难解答 (Visual Studio)
ms.date: 07/20/2015
dev_langs:
- csharp
- vb
helpviewer_keywords:
- DataRepeater, troubleshooting
ms.assetid: c0ab9469-eced-4f52-aa18-4bd8dd4f1a9a
ms.openlocfilehash: 7b045e1c45221cbde82c88286da8e698a763d844
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/23/2019
ms.locfileid: "54580598"
---
# <a name="troubleshooting-the-datarepeater-control-visual-studio"></a><span data-ttu-id="2f02f-102">DataRepeater 控件疑难解答 (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="2f02f-102">Troubleshooting the DataRepeater Control (Visual Studio)</span></span>
<span data-ttu-id="2f02f-103">本主题列出了你正在使用时，可能发生的常见问题<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>控件。</span><span class="sxs-lookup"><span data-stu-id="2f02f-103">This topic lists common issues that may occur when you are working with the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control.</span></span>  
  
## <a name="datarepeater-keyboard-and-mouse-events-are-not-raised"></a><span data-ttu-id="2f02f-104">DataRepeater 键盘和鼠标事件不会引发</span><span class="sxs-lookup"><span data-stu-id="2f02f-104">DataRepeater Keyboard and Mouse Events Are Not Raised</span></span>  
 <span data-ttu-id="2f02f-105">某些<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>控件事件，如键盘和鼠标事件不会引发。</span><span class="sxs-lookup"><span data-stu-id="2f02f-105">Some <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control events, such as keyboard and mouse events, are not raised.</span></span> <span data-ttu-id="2f02f-106">这是设计使然。</span><span class="sxs-lookup"><span data-stu-id="2f02f-106">This is by design.</span></span> <span data-ttu-id="2f02f-107"><xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>控件本身是一个用于<xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem>对象，并不能在运行时访问。</span><span class="sxs-lookup"><span data-stu-id="2f02f-107">The <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control itself is a container for <xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem> objects and cannot be accessed at run time.</span></span> <span data-ttu-id="2f02f-108"><xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem>不会在设计时公开的事件。</span><span class="sxs-lookup"><span data-stu-id="2f02f-108">The <xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem> does not expose events at design time.</span></span> <span data-ttu-id="2f02f-109">因此，单击某一项或项具有焦点时按某个键不会引发一个事件。</span><span class="sxs-lookup"><span data-stu-id="2f02f-109">Therefore, clicking an item or pressing a key when the item has focus does not raise an event.</span></span>  
  
 <span data-ttu-id="2f02f-110">此规则的例外是何时<xref:System.Windows.Forms.Control.Padding%2A>属性设置为一个较大要公开的边缘足够值<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>控件。</span><span class="sxs-lookup"><span data-stu-id="2f02f-110">The exception to this is when the <xref:System.Windows.Forms.Control.Padding%2A> property is set to a large enough value to expose the edges of the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control.</span></span> <span data-ttu-id="2f02f-111">在这种情况下，单击公开边缘，将引发鼠标事件。</span><span class="sxs-lookup"><span data-stu-id="2f02f-111">In this case, clicking in the exposed margin will raise mouse events.</span></span>  
  
 <span data-ttu-id="2f02f-112">若要解决此问题，请添加<xref:System.Windows.Forms.Panel>控制对<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemTemplate%2A>一部分<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>控制，以及如何将控件到其余<xref:System.Windows.Forms.Panel>。</span><span class="sxs-lookup"><span data-stu-id="2f02f-112">To resolve this issue, add a <xref:System.Windows.Forms.Panel> control to the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemTemplate%2A> section of the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control, and then add the rest of the controls to the <xref:System.Windows.Forms.Panel>.</span></span> <span data-ttu-id="2f02f-113">然后，可以添加到代码<xref:System.Windows.Forms.Panel>键盘和鼠标事件的控件的事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="2f02f-113">You can then add code to the <xref:System.Windows.Forms.Panel> control's event handlers for keyboard and mouse events.</span></span>  
  
## <a name="the-datarepeater-is-partially-hidden-behind-the-binding-navigator"></a><span data-ttu-id="2f02f-114">DataRepeater 部分隐藏在绑定导航器</span><span class="sxs-lookup"><span data-stu-id="2f02f-114">The DataRepeater Is Partially Hidden Behind the Binding Navigator</span></span>  
 <span data-ttu-id="2f02f-115">当首次添加<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>向窗体控件以及如何将数据绑定控件从**数据源**窗口中，<xref:System.Windows.Forms.BindingNavigator>控件可能出现的<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>控件。</span><span class="sxs-lookup"><span data-stu-id="2f02f-115">When you first add a <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control to a form and then add data-bound controls from the **Data Sources** window, the <xref:System.Windows.Forms.BindingNavigator> control may appear on top of the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control.</span></span> <span data-ttu-id="2f02f-116">这是一个已知的限制**数据源**窗口中，为与其他控件的行为一致例如<xref:System.Windows.Forms.DataGridView>控件。</span><span class="sxs-lookup"><span data-stu-id="2f02f-116">This is a known limitation of the **Data Sources** window and is consistent with the behavior of other controls, such as the <xref:System.Windows.Forms.DataGridView> control.</span></span>  
  
 <span data-ttu-id="2f02f-117">可以是移动<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>低于<xref:System.Windows.Forms.BindingNavigator>控制在设计时，或将类似于中的以下代码添加`Load`事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="2f02f-117">You can either move the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> lower than the <xref:System.Windows.Forms.BindingNavigator> control at design time, or add code resembling the following in the `Load` event handler.</span></span>  
  
```vb  
DataRepeater1.Top = ProductsBindingNavigator.Height  
```  
  
```csharp  
dataRepeater1.Top = productsBindingNavigator.Height;  
```  
  
## <a name="controls-are-not-displayed-correctly-at-run-time"></a><span data-ttu-id="2f02f-118">控件不在运行时正确显示</span><span class="sxs-lookup"><span data-stu-id="2f02f-118">Controls Are Not Displayed Correctly at Run Time</span></span>  
 <span data-ttu-id="2f02f-119">中的某些控件<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>控件可能不会按预期方式运行时显示。</span><span class="sxs-lookup"><span data-stu-id="2f02f-119">Some controls in a <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control may not be displayed as expected at run time.</span></span> <span data-ttu-id="2f02f-120">用于克隆中的控件的过程<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemTemplate%2A>到<xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem>始终无法确定的所有控件的所有属性。</span><span class="sxs-lookup"><span data-stu-id="2f02f-120">The process used to clone controls from the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemTemplate%2A> to the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem> cannot always determine all the properties of all controls.</span></span> <span data-ttu-id="2f02f-121">例如，如果您将添加未绑定<xref:System.Windows.Forms.ListBox>控制对<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>在设计时控件并填充其<xref:System.Windows.Forms.ListBox.Items%2A>集合具有列表的字符串，<xref:System.Windows.Forms.ListBox>在运行时将为空。</span><span class="sxs-lookup"><span data-stu-id="2f02f-121">For example, if you add an unbound <xref:System.Windows.Forms.ListBox> control to a <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control at design time and populate its <xref:System.Windows.Forms.ListBox.Items%2A> collection with a list of strings, the <xref:System.Windows.Forms.ListBox> will be empty at run time.</span></span> <span data-ttu-id="2f02f-122">这是因为克隆过程不能考虑到<xref:System.Windows.Forms.ListBox.Items%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="2f02f-122">This is because the cloning process cannot take into account the <xref:System.Windows.Forms.ListBox.Items%2A> property.</span></span>  
  
 <span data-ttu-id="2f02f-123">可以通过还原中缺少的属性来解决此问题<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemCloned>默认克隆完成后发生的事件。</span><span class="sxs-lookup"><span data-stu-id="2f02f-123">You can fix problems such as this by restoring the missing properties in the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemCloned> event, which occurs after the default cloning is completed.</span></span> <span data-ttu-id="2f02f-124">下面的示例演示如何修复<xref:System.Windows.Forms.ListBox.Items%2A>的集合<xref:System.Windows.Forms.ListBox>控制中<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemCloned>事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="2f02f-124">The following example demonstrates how to repair the <xref:System.Windows.Forms.ListBox.Items%2A> collection of a <xref:System.Windows.Forms.ListBox> control in the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemCloned> event handler.</span></span>  
  
 [!code-csharp[VbPowerPacksDataRepeaterItemCloned#1](../../../visual-basic/developing-apps/windows-forms/codesnippet/CSharp/troubleshooting-the-datarepeater-control-visual-studio_1.cs)]
 [!code-vb[VbPowerPacksDataRepeaterItemCloned#1](../../../visual-basic/developing-apps/windows-forms/codesnippet/VisualBasic/troubleshooting-the-datarepeater-control-visual-studio_1.vb)]  
  
## <a name="the-selection-symbol-on-the-item-header-is-missing"></a><span data-ttu-id="2f02f-125">缺少的项标头上的选择符号</span><span class="sxs-lookup"><span data-stu-id="2f02f-125">The Selection Symbol on the Item Header Is Missing</span></span>  
 <span data-ttu-id="2f02f-126">当你更改<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.SelectionColor%2A>属性中的项标头<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>控件中，一些颜色选择可能会导致选择符号消失。</span><span class="sxs-lookup"><span data-stu-id="2f02f-126">When you change the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.SelectionColor%2A> property of the item header in a <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control, some color choices may cause the selection symbol to disappear.</span></span> <span data-ttu-id="2f02f-127">更改<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemHeaderSize%2A>属性也可能会导致选择符号消失。</span><span class="sxs-lookup"><span data-stu-id="2f02f-127">Changing the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemHeaderSize%2A> property may also cause the selection symbol to disappear.</span></span>  
  
 <span data-ttu-id="2f02f-128">不能更改颜色和选择符号的大小。</span><span class="sxs-lookup"><span data-stu-id="2f02f-128">The color and size of the selection symbol cannot be changed.</span></span>  
  
-   <span data-ttu-id="2f02f-129">如果您设置<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.SelectionColor%2A>到<xref:System.Drawing.Color.White%2A>，选择符号首次选定项时将不可见。</span><span class="sxs-lookup"><span data-stu-id="2f02f-129">If you set the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.SelectionColor%2A> to <xref:System.Drawing.Color.White%2A>, the selection symbol will not be visible when an item is first selected.</span></span>  
  
-   <span data-ttu-id="2f02f-130">如果您设置<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.SelectionColor%2A>到<xref:System.Drawing.Color.Black%2A>，选择符号控件被选定，且铅笔符号将不会显示在控件处于编辑模式时将不可见。</span><span class="sxs-lookup"><span data-stu-id="2f02f-130">If you set the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.SelectionColor%2A> to <xref:System.Drawing.Color.Black%2A>, the selection symbol will not be visible when a control is selected, and the pencil symbol will not be visible when a control is in edit mode.</span></span>  
  
-   <span data-ttu-id="2f02f-131">如果<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemHeaderSize%2A>属性设置为小于 11 的值，将不会显示项标头中的指示符符号。</span><span class="sxs-lookup"><span data-stu-id="2f02f-131">If the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.ItemHeaderSize%2A> property is set to a value that is less than 11, the indicator symbols in the item header will not be displayed.</span></span>  
  
 <span data-ttu-id="2f02f-132">可以通过使用提供你自己的项标头和选择符号<xref:System.Windows.Forms.PictureBox>控制和监视<xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem.IsCurrent%2A>的属性<xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem>中<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.DrawItem>的事件<xref:Microsoft.VisualBasic.PowerPacks.DataRepeater>控件。</span><span class="sxs-lookup"><span data-stu-id="2f02f-132">You can provide your own item header and selection symbol by using a <xref:System.Windows.Forms.PictureBox> control and monitoring the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem.IsCurrent%2A> property of the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem> in the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater.DrawItem> event of the <xref:Microsoft.VisualBasic.PowerPacks.DataRepeater> control.</span></span> <span data-ttu-id="2f02f-133">有关详细信息，请参阅 <xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem.IsCurrent%2A>。</span><span class="sxs-lookup"><span data-stu-id="2f02f-133">For more information, see <xref:Microsoft.VisualBasic.PowerPacks.DataRepeaterItem.IsCurrent%2A>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2f02f-134">请参阅</span><span class="sxs-lookup"><span data-stu-id="2f02f-134">See also</span></span>
- [<span data-ttu-id="2f02f-135">DataRepeater 控件简介</span><span class="sxs-lookup"><span data-stu-id="2f02f-135">Introduction to the DataRepeater Control</span></span>](../../../visual-basic/developing-apps/windows-forms/introduction-to-the-datarepeater-control-visual-studio.md)
- [<span data-ttu-id="2f02f-136">如何：DataRepeater 控件中显示绑定的数据</span><span class="sxs-lookup"><span data-stu-id="2f02f-136">How to: Display Bound Data in a DataRepeater Control</span></span>](../../../visual-basic/developing-apps/windows-forms/how-to-display-bound-data-in-a-datarepeater-control-visual-studio.md)
- [<span data-ttu-id="2f02f-137">如何：DataRepeater 控件中显示未绑定的控件</span><span class="sxs-lookup"><span data-stu-id="2f02f-137">How to: Display Unbound Controls in a DataRepeater Control</span></span>](../../../visual-basic/developing-apps/windows-forms/how-to-display-unbound-controls-in-a-datarepeater-control-visual-studio.md)
- [<span data-ttu-id="2f02f-138">如何：更改 DataRepeater 控件的布局</span><span class="sxs-lookup"><span data-stu-id="2f02f-138">How to: Change the Layout of a DataRepeater Control</span></span>](../../../visual-basic/developing-apps/windows-forms/how-to-change-the-layout-of-a-datarepeater-control-visual-studio.md)
- [<span data-ttu-id="2f02f-139">如何：更改 DataRepeater 控件的外观</span><span class="sxs-lookup"><span data-stu-id="2f02f-139">How to: Change the Appearance of a DataRepeater Control</span></span>](../../../visual-basic/developing-apps/windows-forms/how-to-change-the-appearance-of-a-datarepeater-control-visual-studio.md)
- [<span data-ttu-id="2f02f-140">如何：DataRepeater 控件中显示项标头</span><span class="sxs-lookup"><span data-stu-id="2f02f-140">How to: Display Item Headers in a DataRepeater Control</span></span>](../../../visual-basic/developing-apps/windows-forms/how-to-display-item-headers-in-a-datarepeater-control-visual-studio.md)
- [<span data-ttu-id="2f02f-141">如何：禁止添加和删除 DataRepeater 项</span><span class="sxs-lookup"><span data-stu-id="2f02f-141">How to: Disable Adding and Deleting DataRepeater Items</span></span>](../../../visual-basic/developing-apps/windows-forms/how-to-disable-adding-and-deleting-datarepeater-items-visual-studio.md)
- [<span data-ttu-id="2f02f-142">如何：DataRepeater 控件中搜索数据</span><span class="sxs-lookup"><span data-stu-id="2f02f-142">How to: Search Data in a DataRepeater Control</span></span>](../../../visual-basic/developing-apps/windows-forms/how-to-search-data-in-a-datarepeater-control-visual-studio.md)
- [<span data-ttu-id="2f02f-143">如何：使用两个 DataRepeater 控件 (Visual Studio) 创建母版/详细信息窗体</span><span class="sxs-lookup"><span data-stu-id="2f02f-143">How to: Create a Master/Detail Form by Using Two DataRepeater Controls (Visual Studio)</span></span>](../../../visual-basic/developing-apps/windows-forms/how-to-create-a-master-detail-form-by-using-two-datarepeater-controls.md)
