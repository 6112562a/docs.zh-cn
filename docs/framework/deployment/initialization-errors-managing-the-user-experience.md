---
title: .NET Framework 初始化错误：管理用户体验
ms.date: 03/30/2017
helpviewer_keywords:
- no framework found experience
- initialization errors [.NET Framework]
- .NET Framework, initialization errors
ms.assetid: 680a7382-957f-4f6e-b178-4e866004a07e
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 02fa197b12e6a5bfb37cd0f275bc615dc179291b
ms.sourcegitcommit: a36cfc9dbbfc04bd88971f96e8a3f8e283c15d42
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/11/2019
ms.locfileid: "54222514"
---
# <a name="net-framework-initialization-errors-managing-the-user-experience"></a><span data-ttu-id="9cd6e-102">.NET Framework 初始化错误：管理用户体验</span><span class="sxs-lookup"><span data-stu-id="9cd6e-102">.NET Framework initialization errors: Managing the user experience</span></span>

<span data-ttu-id="9cd6e-103">公共语言运行时 (CLR) 激活系统确定将用于运行托管应用程序代码的 CLR 版本。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-103">The common language runtime (CLR) activation system determines the version of the CLR that will be used to run managed application code.</span></span> <span data-ttu-id="9cd6e-104">在某些情况下，激活系统可能无法找到要加载的 CLR 版本。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-104">In some cases, the activation system might not be able to find a version of the CLR to load.</span></span> <span data-ttu-id="9cd6e-105">如果应用程序所需的 CLR 版本无效或未安装在指定计算机上，则通常会出现这种情况。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-105">This situation typically occurs when an application requires a CLR version that is invalid or not installed on a given computer.</span></span> <span data-ttu-id="9cd6e-106">如果找不到请求的版本，CLR 激活系统将从调用的函数或接口返回一个 HRESULT 错误代码，并且会向正在运行该应用程序的用户显示一条错误消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-106">If the requested version is not found, the CLR activation system returns an HRESULT error code from the function or interface that was called, and may display an error message to the user who is running the application.</span></span> <span data-ttu-id="9cd6e-107">这篇文章提供 HRESULT 代码的列表，并解释如何才能防止显示错误消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-107">This article provides a list of HRESULT codes and explains how you can prevent the error message from being displayed.</span></span>

<span data-ttu-id="9cd6e-108">CLR 提供的日志记录基础结构有助于调试 CLR 激活问题，如[如何：调试 CLR 激活问题](../../../docs/framework/deployment/how-to-debug-clr-activation-issues.md)中所述。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-108">The CLR provides logging infrastructure to help you debug CLR activation issues, as described in [How to: Debug CLR Activation Issues](../../../docs/framework/deployment/how-to-debug-clr-activation-issues.md).</span></span> <span data-ttu-id="9cd6e-109">该基础结构不应与[程序集绑定日志](../../../docs/framework/tools/fuslogvw-exe-assembly-binding-log-viewer.md)混淆，两者完全不同。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-109">This infrastructure should not be confused with [assembly binding logs](../../../docs/framework/tools/fuslogvw-exe-assembly-binding-log-viewer.md), which are entirely different.</span></span>

## <a name="clr-activation-hresult-codes"></a><span data-ttu-id="9cd6e-110">CLR 激活 HRESULT 代码</span><span class="sxs-lookup"><span data-stu-id="9cd6e-110">CLR activation HRESULT codes</span></span>

<span data-ttu-id="9cd6e-111">CLR 激活 API 返回 HRESULT 代码以报告对主机的激活操作结果。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-111">The CLR activation APIs return HRESULT codes to report the result of an activation operation to a host.</span></span> <span data-ttu-id="9cd6e-112">在进行其他操作之前，CLR 主机应始终咨询这些返回值。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-112">CLR hosts should always consult these return values before proceeding with additional operations.</span></span>

- <span data-ttu-id="9cd6e-113">CLR_E_SHIM_RUNTIMELOAD</span><span class="sxs-lookup"><span data-stu-id="9cd6e-113">CLR_E_SHIM_RUNTIMELOAD</span></span>

- <span data-ttu-id="9cd6e-114">CLR_E_SHIM_RUNTIMEEXPORT</span><span class="sxs-lookup"><span data-stu-id="9cd6e-114">CLR_E_SHIM_RUNTIMEEXPORT</span></span>

- <span data-ttu-id="9cd6e-115">CLR_E_SHIM_INSTALLROOT</span><span class="sxs-lookup"><span data-stu-id="9cd6e-115">CLR_E_SHIM_INSTALLROOT</span></span>

- <span data-ttu-id="9cd6e-116">CLR_E_SHIM_INSTALLCOMP</span><span class="sxs-lookup"><span data-stu-id="9cd6e-116">CLR_E_SHIM_INSTALLCOMP</span></span>

- <span data-ttu-id="9cd6e-117">CLR_E_SHIM_LEGACYRUNTIMEALREADYBOUND</span><span class="sxs-lookup"><span data-stu-id="9cd6e-117">CLR_E_SHIM_LEGACYRUNTIMEALREADYBOUND</span></span>

- <span data-ttu-id="9cd6e-118">CLR_E_SHIM_SHUTDOWNINPROGRESS</span><span class="sxs-lookup"><span data-stu-id="9cd6e-118">CLR_E_SHIM_SHUTDOWNINPROGRESS</span></span>

## <a name="ui-for-initialization-errors"></a><span data-ttu-id="9cd6e-119">初始化错误的 UI</span><span class="sxs-lookup"><span data-stu-id="9cd6e-119">UI for initialization errors</span></span>

<span data-ttu-id="9cd6e-120">如果 CLR 激活系统无法加载应用程序所需运行时的正确版本，它将向用户显示一条错误消息，通知他们，他们的计算机未正确配置，无法运行该应用程序，并为他们提供机会来修复该问题。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-120">If the CLR activation system cannot load the correct version of the runtime that is required by an application, it displays an error message to users to inform them that their computer is not properly configured to run the application, and provides them with an opportunity to remedy the situation.</span></span> <span data-ttu-id="9cd6e-121">在此情况下通常会显示以下错误消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-121">The following error message is typically presented in this situation.</span></span> <span data-ttu-id="9cd6e-122">用户可以选择“是”以转到 Microsoft 网站，从中为应用程序下载正确的 .NET Framework 版本。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-122">The user can choose **Yes** to go to a Microsoft website where they can download the correct .NET Framework version for the application.</span></span>

<span data-ttu-id="9cd6e-123">![.NET framework 初始化错误对话框](../../../docs/framework/deployment/media/initerrordialog.png "InitErrorDialog") 初始化错误的典型错误消息</span><span class="sxs-lookup"><span data-stu-id="9cd6e-123">![.NET Framework Initialization Error dialog box](../../../docs/framework/deployment/media/initerrordialog.png "InitErrorDialog") Typical error message for initialization errors</span></span>

## <a name="resolving-the-initialization-error"></a><span data-ttu-id="9cd6e-124">解决初始化错误</span><span class="sxs-lookup"><span data-stu-id="9cd6e-124">Resolving the initialization error</span></span>

<span data-ttu-id="9cd6e-125">开发人员可以通过各种选项来控制 .NET Framework 初始化错误消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-125">As a developer, you have a variety of options for controlling the .NET Framework initialization error message.</span></span> <span data-ttu-id="9cd6e-126">例如，如下一节所述，可以使用 API 标志阻止显示消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-126">For example, you can use an API flag to prevent the message from being displayed, as discussed in the next section.</span></span> <span data-ttu-id="9cd6e-127">但仍需解决阻止应用程序加载请求运行时的问题。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-127">However, you still have to resolve the issue that prevented your application from loading the requested runtime.</span></span> <span data-ttu-id="9cd6e-128">否则，应用程序可能无法运行，或某些功能可能不可用。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-128">Otherwise, your application may not run at all, or some functionality may not be available.</span></span>

<span data-ttu-id="9cd6e-129">若要解决根本问题并提供最佳用户体验（更少错误消息），建议执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="9cd6e-129">To resolve the underlying issues and provide the best user experience (fewer error messages), we recommend the following:</span></span>

- <span data-ttu-id="9cd6e-130">对于 .NET Framework 3.5（和更低版本）应用程序：将应用程序配置为支持 .NET Framework 4 或更高版本（请参阅[说明](../../../docs/framework/migration-guide/how-to-configure-an-app-to-support-net-framework-4-or-4-5.md)）。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-130">For .NET Framework 3.5 (and earlier) applications: Configure your application to support the .NET Framework 4 or later versions (see [instructions](../../../docs/framework/migration-guide/how-to-configure-an-app-to-support-net-framework-4-or-4-5.md)).</span></span>

- <span data-ttu-id="9cd6e-131">对于 .NET Framework 4 应用程序：安装 .NET Framework 4 可再发行组件包，作为应用程序安装的一部分。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-131">For .NET Framework 4 applications: Install the .NET Framework 4 redistributable package as part of your application setup.</span></span> <span data-ttu-id="9cd6e-132">请参阅[面向开发人员的部署指南](../../../docs/framework/deployment/deployment-guide-for-developers.md)。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-132">See [Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md).</span></span>

## <a name="controlling-the-error-message"></a><span data-ttu-id="9cd6e-133">控制错误消息</span><span class="sxs-lookup"><span data-stu-id="9cd6e-133">Controlling the error message</span></span>

<span data-ttu-id="9cd6e-134">通过显示错误消息来传达找不到请求的 .NET Framework 版本，这种方法对用户而言既有用，又不太方便。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-134">Displaying an error message to communicate that a requested .NET Framework version was not found can be viewed as either a helpful service or a minor annoyance to users.</span></span> <span data-ttu-id="9cd6e-135">对于任何一种情况，都可通过将标志传递给激活 API 来控制此 UI。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-135">In either case, you can control this UI by passing flags to the activation APIs.</span></span>

<span data-ttu-id="9cd6e-136">[ICLRMetaHostPolicy::GetRequestedRuntime](../../../docs/framework/unmanaged-api/hosting/iclrmetahostpolicy-getrequestedruntime-method.md) 方法接受 [METAHOST_POLICY_FLAGS](../../../docs/framework/unmanaged-api/hosting/metahost-policy-flags-enumeration.md) 枚举作为输入。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-136">The [ICLRMetaHostPolicy::GetRequestedRuntime](../../../docs/framework/unmanaged-api/hosting/iclrmetahostpolicy-getrequestedruntime-method.md) method accepts a [METAHOST_POLICY_FLAGS](../../../docs/framework/unmanaged-api/hosting/metahost-policy-flags-enumeration.md) enumeration member as input.</span></span> <span data-ttu-id="9cd6e-137">可以包括 METAHOST_POLICY_SHOW_ERROR_DIALOG 标志，以在找不到请求的 CLR 版本时请求显示错误消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-137">You can include the METAHOST_POLICY_SHOW_ERROR_DIALOG flag to request an error message if the requested version of the CLR is not found.</span></span> <span data-ttu-id="9cd6e-138">默认情况下，不显示错误消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-138">By default, the error message is not displayed.</span></span> <span data-ttu-id="9cd6e-139">（[ICLRMetaHost::GetRuntime](../../../docs/framework/unmanaged-api/hosting/iclrmetahost-getruntime-method.md) 方法不接受此标志，且不提供任何显示该错误消息的其他方式。）</span><span class="sxs-lookup"><span data-stu-id="9cd6e-139">(The [ICLRMetaHost::GetRuntime](../../../docs/framework/unmanaged-api/hosting/iclrmetahost-getruntime-method.md) method does not accept this flag, and does not provide any other way to display the error message.)</span></span>

<span data-ttu-id="9cd6e-140">Windows 提供的 [SetErrorMode](https://go.microsoft.com/fwlink/p/?LinkID=255242) 函数可用于声名是否希望因代码在进程中运行而显示错误消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-140">Windows provides a [SetErrorMode](https://go.microsoft.com/fwlink/p/?LinkID=255242) function that you can use to declare whether you want error messages to be shown as a result of code that runs within your process.</span></span> <span data-ttu-id="9cd6e-141">可以指定 SEM_FAILCRITICALERRORS 标志来阻止显示错误消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-141">You can specify the SEM_FAILCRITICALERRORS flag to prevent the error message from being displayed.</span></span>

<span data-ttu-id="9cd6e-142">但是，在某些情况下，需要替代由应用程序进程设置的 SEM_FAILCRITICALERRORS 设置。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-142">However, in some scenarios, it is important to override the SEM_FAILCRITICALERRORS setting set by an application process.</span></span> <span data-ttu-id="9cd6e-143">例如，如果使用本机 COM 组件托管 CLR 且托管位置位于设置 SEM_FAILCRITICALERRORS 的进程，则建议替代该标志，具体取决于在该特定应用程序进程内显示的错误消息的影响。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-143">For example, if you have a native COM component that hosts the CLR and that is hosted in a process where SEM_FAILCRITICALERRORS is set, you may want to override the flag, depending on the impact of displaying error messages within that particular application process.</span></span> <span data-ttu-id="9cd6e-144">在这种情况下，可以使用以下一种标志替代 SEM_FAILCRITICALERRORS：</span><span class="sxs-lookup"><span data-stu-id="9cd6e-144">In this case, you can use one of the following flags to override SEM_FAILCRITICALERRORS:</span></span>

- <span data-ttu-id="9cd6e-145">将 METAHOST_POLICY_IGNORE_ERROR_MODE 与 [ICLRMetaHostPolicy::GetRequestedRuntime](../../../docs/framework/unmanaged-api/hosting/iclrmetahostpolicy-getrequestedruntime-method.md) 方法一起使用。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-145">Use METAHOST_POLICY_IGNORE_ERROR_MODE with the [ICLRMetaHostPolicy::GetRequestedRuntime](../../../docs/framework/unmanaged-api/hosting/iclrmetahostpolicy-getrequestedruntime-method.md) method.</span></span>

- <span data-ttu-id="9cd6e-146">将 RUNTIME_INFO_IGNORE_ERROR_MODE 与 [GetRequestedRuntimeInfo](../../../docs/framework/unmanaged-api/hosting/getrequestedruntimeinfo-function.md) 函数一起使用。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-146">Use RUNTIME_INFO_IGNORE_ERROR_MODE with the [GetRequestedRuntimeInfo](../../../docs/framework/unmanaged-api/hosting/getrequestedruntimeinfo-function.md) function.</span></span>

## <a name="ui-policy-for-clr-provided-hosts"></a><span data-ttu-id="9cd6e-147">用于提供 CLR 的主机的 UI 策略</span><span class="sxs-lookup"><span data-stu-id="9cd6e-147">UI policy for CLR-provided hosts</span></span>

<span data-ttu-id="9cd6e-148">CLR 包括一组适用于各种方案的主机，如果在加载所需运行时版本时遇到问题，这些主机均将显示错误消息。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-148">The CLR includes a set of hosts for a variety of scenarios, and these hosts all display an error message when they encounter problems loading the required version of the runtime.</span></span> <span data-ttu-id="9cd6e-149">下表提供了主机及其错误消息策略的列表。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-149">The following table provides a list of hosts and their error message policies.</span></span>

|<span data-ttu-id="9cd6e-150">CLR 主机</span><span class="sxs-lookup"><span data-stu-id="9cd6e-150">CLR host</span></span>|<span data-ttu-id="9cd6e-151">说明</span><span class="sxs-lookup"><span data-stu-id="9cd6e-151">Description</span></span>|<span data-ttu-id="9cd6e-152">错误消息策略</span><span class="sxs-lookup"><span data-stu-id="9cd6e-152">Error message policy</span></span>|<span data-ttu-id="9cd6e-153">是否可以禁用错误消息？</span><span class="sxs-lookup"><span data-stu-id="9cd6e-153">Can error message be disabled?</span></span>|
|--------------|-----------------|--------------------------|------------------------------------|
|<span data-ttu-id="9cd6e-154">托管 EXE 主机</span><span class="sxs-lookup"><span data-stu-id="9cd6e-154">Managed EXE host</span></span>|<span data-ttu-id="9cd6e-155">启动托管 EXE。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-155">Launches managed EXEs.</span></span>|<span data-ttu-id="9cd6e-156">缺少 .NET Framework 版本时显示</span><span class="sxs-lookup"><span data-stu-id="9cd6e-156">Is shown in case of a missing .NET Framework version</span></span>|<span data-ttu-id="9cd6e-157">No</span><span class="sxs-lookup"><span data-stu-id="9cd6e-157">No</span></span>|
|<span data-ttu-id="9cd6e-158">托管 COM 主机</span><span class="sxs-lookup"><span data-stu-id="9cd6e-158">Managed COM host</span></span>|<span data-ttu-id="9cd6e-159">将托管 COM 组件加载到进程。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-159">Loads managed COM components into a process.</span></span>|<span data-ttu-id="9cd6e-160">缺少 .NET Framework 版本时显示</span><span class="sxs-lookup"><span data-stu-id="9cd6e-160">Is shown in case of a missing .NET Framework version</span></span>|<span data-ttu-id="9cd6e-161">是，通过设置 SEM_FAILCRITICALERRORS 标志</span><span class="sxs-lookup"><span data-stu-id="9cd6e-161">Yes, by setting the SEM_FAILCRITICALERRORS flag</span></span>|
|<span data-ttu-id="9cd6e-162">ClickOnce 主机</span><span class="sxs-lookup"><span data-stu-id="9cd6e-162">ClickOnce host</span></span>|<span data-ttu-id="9cd6e-163">启动 ClickOnce 应用程序。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-163">Launches ClickOnce applications.</span></span>|<span data-ttu-id="9cd6e-164">缺少 .NET Framework 版本时显示，从 [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] 开始</span><span class="sxs-lookup"><span data-stu-id="9cd6e-164">Is shown in case of a missing .NET Framework version, starting with the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</span></span>|<span data-ttu-id="9cd6e-165">No</span><span class="sxs-lookup"><span data-stu-id="9cd6e-165">No</span></span>|
|<span data-ttu-id="9cd6e-166">XBAP 主机</span><span class="sxs-lookup"><span data-stu-id="9cd6e-166">XBAP host</span></span>|<span data-ttu-id="9cd6e-167">启动 WPF XBAP 应用程序。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-167">Launches WPF XBAP applications.</span></span>|<span data-ttu-id="9cd6e-168">缺少 .NET Framework 版本时显示，从 [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] 开始</span><span class="sxs-lookup"><span data-stu-id="9cd6e-168">Is shown in case of a missing .NET Framework version, starting with the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</span></span>|<span data-ttu-id="9cd6e-169">No</span><span class="sxs-lookup"><span data-stu-id="9cd6e-169">No</span></span>|

## <a name="windows-8-behavior-and-ui"></a><span data-ttu-id="9cd6e-170">Windows 8 行为和 UI</span><span class="sxs-lookup"><span data-stu-id="9cd6e-170">Windows 8 behavior and UI</span></span>

<span data-ttu-id="9cd6e-171">CLR 激活系统在 [!INCLUDE[win8](../../../includes/win8-md.md)] 上提供与在其他版本 Windows 操作系统上一样的行为和 UI，除非加载 CLR 2.0 时遇到问题。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-171">The CLR activation system provides the same behavior and UI on [!INCLUDE[win8](../../../includes/win8-md.md)] as it does on other versions of the Windows operating system, except when it encounters issues loading CLR 2.0.</span></span> [!INCLUDE[win8](../../../includes/win8-md.md)] <span data-ttu-id="9cd6e-172">包括使用 CLR 4.5 的 [!INCLUDE[net_v45](../../../includes/net-v45-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-172">includes the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], which uses CLR 4.5.</span></span> <span data-ttu-id="9cd6e-173">但是，[!INCLUDE[win8](../../../includes/win8-md.md)] 不包括 .NET Framework 2.0、3.0 或 3.5，它们都使用 CLR 2.0。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-173">However, [!INCLUDE[win8](../../../includes/win8-md.md)] does not include the .NET Framework 2.0, 3.0, or 3.5, which all use CLR 2.0.</span></span> <span data-ttu-id="9cd6e-174">结果，依赖于 CLR 2.0 的应用程序默认情况下在 [!INCLUDE[win8](../../../includes/win8-md.md)] 上不运行。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-174">As a result, applications that depend on CLR 2.0 do not run on [!INCLUDE[win8](../../../includes/win8-md.md)] by default.</span></span> <span data-ttu-id="9cd6e-175">相反，它们将显示下面的对话框，使用户能够安装 .NET Framework 3.5。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-175">Instead, they display the following dialog box to enable users to install the .NET Framework 3.5.</span></span> <span data-ttu-id="9cd6e-176">用户还可在“控制面板”中启用 .NET Framework 3.5。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-176">Users can also enable the .NET Framework 3.5 in Control Panel.</span></span> <span data-ttu-id="9cd6e-177">这两个选项将在[在 Windows 10、Windows 8.1 和 Windows 8 上安装 .NET Framework 3.5](../../../docs/framework/install/dotnet-35-windows-10.md)一文中进行讨论。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-177">Both options are discussed in the article [Install the .NET Framework 3.5 on Windows 10, Windows 8.1, and Windows 8](../../../docs/framework/install/dotnet-35-windows-10.md).</span></span>

<span data-ttu-id="9cd6e-178">![Windows 8 上用于 3.5 版本安装的对话框](../../../docs/framework/deployment/media/installdialog.png "installdialog")提示按需安装 .NET Framework 3.5</span><span class="sxs-lookup"><span data-stu-id="9cd6e-178">![Dialog box for 3.5 install on Windows 8](../../../docs/framework/deployment/media/installdialog.png "installdialog") Prompt for installing the .NET Framework 3.5 on demand</span></span>

> [!NOTE]
> <span data-ttu-id="9cd6e-179">[!INCLUDE[net_v45](../../../includes/net-v45-md.md)] 取代了用户计算机上的 .NET Framework 4 (CLR 4)。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-179">The [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] replaces the .NET Framework 4 (CLR 4) on the user's computer.</span></span> <span data-ttu-id="9cd6e-180">因此，.NET Framework 4 应用程序将在 [!INCLUDE[win8](../../../includes/win8-md.md)] 上顺畅运行，不会显示该对话框。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-180">Therefore, .NET Framework 4 applications run seamlessly, without displaying this dialog box, on [!INCLUDE[win8](../../../includes/win8-md.md)].</span></span>

<span data-ttu-id="9cd6e-181">安装 .NET Framework 3.5 后，用户可以在其 [!INCLUDE[win8](../../../includes/win8-md.md)] 计算机上运行依赖于 .NET Framework 2.0、3.0 或 3.5 的应用程序。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-181">When the .NET Framework 3.5 is installed, users can run applications that depend on the .NET Framework 2.0, 3.0, or 3.5 on their [!INCLUDE[win8](../../../includes/win8-md.md)] computers.</span></span> <span data-ttu-id="9cd6e-182">他们还可以运行 .NET Framework 1.0 和 1.1 应用程序，前提是这些应用程序未显式配置为仅在 .NET Framework 1.0 或 1.1 版上运行。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-182">They can also run .NET Framework 1.0 and 1.1 applications, provided that those applications are not explicitly configured to run only on the .NET Framework 1.0 or 1.1.</span></span> <span data-ttu-id="9cd6e-183">请参阅[从 .NET Framework 1.1 迁移](../../../docs/framework/migration-guide/migrating-from-the-net-framework-1-1.md)。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-183">See [Migrating from the .NET Framework 1.1](../../../docs/framework/migration-guide/migrating-from-the-net-framework-1-1.md).</span></span>

<span data-ttu-id="9cd6e-184">从 [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] 开始，CLR 激活日志记录获得了极大的改进，包括何时和为什么会显示初始化错误消息的日志条目。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-184">Starting with the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], CLR activation logging has been improved to include log entries that record when and why the initialization error message is displayed.</span></span> <span data-ttu-id="9cd6e-185">有关更多信息，请参见[如何：调试 CLR 激活问题](../../../docs/framework/deployment/how-to-debug-clr-activation-issues.md)。</span><span class="sxs-lookup"><span data-stu-id="9cd6e-185">For more information, see [How to: Debug CLR Activation Issues](../../../docs/framework/deployment/how-to-debug-clr-activation-issues.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="9cd6e-186">请参阅</span><span class="sxs-lookup"><span data-stu-id="9cd6e-186">See also</span></span>

- [<span data-ttu-id="9cd6e-187">面向开发人员的部署指南</span><span class="sxs-lookup"><span data-stu-id="9cd6e-187">Deployment Guide for Developers</span></span>](../../../docs/framework/deployment/deployment-guide-for-developers.md)
- [<span data-ttu-id="9cd6e-188">如何：将应用配置为支持 .NET Framework 4 或更高版本</span><span class="sxs-lookup"><span data-stu-id="9cd6e-188">How to: Configure an app to support .NET Framework 4 or later versions</span></span>](../../../docs/framework/migration-guide/how-to-configure-an-app-to-support-net-framework-4-or-4-5.md)
- [<span data-ttu-id="9cd6e-189">如何：调试 CLR 激活问题</span><span class="sxs-lookup"><span data-stu-id="9cd6e-189">How to: Debug CLR Activation Issues</span></span>](../../../docs/framework/deployment/how-to-debug-clr-activation-issues.md)
- [<span data-ttu-id="9cd6e-190">在 Windows 10、Windows 8.1 和 Windows 8 上安装 .NET Framework 3.5</span><span class="sxs-lookup"><span data-stu-id="9cd6e-190">Install the .NET Framework 3.5 on Windows 10, Windows 8.1, and Windows 8</span></span>](../../../docs/framework/install/dotnet-35-windows-10.md)