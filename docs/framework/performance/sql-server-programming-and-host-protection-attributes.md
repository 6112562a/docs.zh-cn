---
title: SQL Server 编程和宿主保护特性
ms.date: 03/30/2017
helpviewer_keywords:
- SQL Server [.NET Framework]
- permission sets, SQL Server
- SQL Server Programming and Host Protection Attributes
- managed code, SQL Server
- reliability [.NET Framework]
- writing reliable code
- hosts, reliability
- host protection attributes
- HostProtectionAttribute class, reliability
ms.assetid: 7dfa36b4-e773-4c75-a3ff-ff1af3ce4c4f
author: mairaw
ms.author: mairaw
ms.openlocfilehash: f1049187dabbea64599617bb4372ed50515a51e3
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/08/2019
ms.locfileid: "59088714"
---
# <a name="sql-server-programming-and-host-protection-attributes"></a><span data-ttu-id="951cf-102">SQL Server 编程和宿主保护特性</span><span class="sxs-lookup"><span data-stu-id="951cf-102">SQL Server Programming and Host Protection Attributes</span></span>
<span data-ttu-id="951cf-103">在 SQL Server 主机中加载和执行托管代码需要满足主机对代码访问安全性和主机资源保护的要求。</span><span class="sxs-lookup"><span data-stu-id="951cf-103">The ability to load and execute managed code in a SQL Server host requires meeting the host's requirements for both code access security and host resource protection.</span></span>  <span data-ttu-id="951cf-104">代码访问安全性要求由三个 SQL Server 权限集之一指定：SAFE、 EXTERNAL-ACCESS 或 UNSAFE。</span><span class="sxs-lookup"><span data-stu-id="951cf-104">The code access security requirements are specified by one of three SQL Server permission sets: SAFE, EXTERNAL-ACCESS, or UNSAFE.</span></span> <span data-ttu-id="951cf-105">在 SAFE 或 EXTERNAL-ACCESS 权限集内执行的代码必须避免某些类型或应用了 <xref:System.Security.Permissions.HostProtectionAttribute> 属性的成员。</span><span class="sxs-lookup"><span data-stu-id="951cf-105">Code executing within the SAFE or EXTERNAL-ACCESS permission sets must avoid certain types or members that have the <xref:System.Security.Permissions.HostProtectionAttribute> attribute applied.</span></span> <span data-ttu-id="951cf-106"><xref:System.Security.Permissions.HostProtectionAttribute> 不是可靠性保证的安全权限，因为它标识主机可能禁止的特定代码结构（类型或方法）。</span><span class="sxs-lookup"><span data-stu-id="951cf-106">The <xref:System.Security.Permissions.HostProtectionAttribute> is not a security permission as much as a reliability guarantee in that it identifies specific code constructs, either types or methods, that the host may disallow.</span></span>  <span data-ttu-id="951cf-107">使用 <xref:System.Security.Permissions.HostProtectionAttribute> 可执行有助于保护主机稳定性的编程模型。</span><span class="sxs-lookup"><span data-stu-id="951cf-107">The use of the <xref:System.Security.Permissions.HostProtectionAttribute> enforces a programming model that helps protect the stability of the host.</span></span>  
  
## <a name="host-protection-attributes"></a><span data-ttu-id="951cf-108">主机保护属性</span><span class="sxs-lookup"><span data-stu-id="951cf-108">Host Protection Attributes</span></span>  
 <span data-ttu-id="951cf-109">主机保护属性识别不符合主机编程模型的类型或成员，并表示以下级别的可靠性威胁：</span><span class="sxs-lookup"><span data-stu-id="951cf-109">Host protection attributes identify types or members that do not fit the host programming model and represent the following increasing levels of reliability threat:</span></span>  
  
-   <span data-ttu-id="951cf-110">为良性。</span><span class="sxs-lookup"><span data-stu-id="951cf-110">Are otherwise benign.</span></span>  
  
-   <span data-ttu-id="951cf-111">可能导致服务器托管的用户代码不稳定。</span><span class="sxs-lookup"><span data-stu-id="951cf-111">Could lead to destabilization of server-managed user code.</span></span>  
  
-   <span data-ttu-id="951cf-112">可能导致服务器进程本身不稳定。</span><span class="sxs-lookup"><span data-stu-id="951cf-112">Could lead to destabilization of the server process itself.</span></span>  
  
 <span data-ttu-id="951cf-113">SQL Server 不允许使用带有 <xref:System.Security.Permissions.HostProtectionAttribute> 的类型或成员，该属性指定 <xref:System.Security.Permissions.HostProtectionResource.SharedState>、<xref:System.Security.Permissions.HostProtectionResource.Synchronization>、<xref:System.Security.Permissions.HostProtectionResource.MayLeakOnAbort> 或 <xref:System.Security.Permissions.HostProtectionResource.ExternalProcessMgmt> 的 <xref:System.Security.Permissions.HostProtectionResource> 值。</span><span class="sxs-lookup"><span data-stu-id="951cf-113">SQL Server disallows the use of a type or member that has a <xref:System.Security.Permissions.HostProtectionAttribute> that specifies a <xref:System.Security.Permissions.HostProtectionResource> value of <xref:System.Security.Permissions.HostProtectionResource.SharedState>, <xref:System.Security.Permissions.HostProtectionResource.Synchronization>, <xref:System.Security.Permissions.HostProtectionResource.MayLeakOnAbort>, or <xref:System.Security.Permissions.HostProtectionResource.ExternalProcessMgmt>.</span></span> <span data-ttu-id="951cf-114">这样可防止程序集调用启用共享状态、执行同步、终止时可能导致资源泄漏或影响 SQL Server 进程的完整性的成员。</span><span class="sxs-lookup"><span data-stu-id="951cf-114">This prevents the assemblies from calling members that enable sharing state, perform synchronization, might cause a resource leak on termination, or affect the integrity of the SQL Server process.</span></span>  
  
### <a name="disallowed-types-and-members"></a><span data-ttu-id="951cf-115">不允许的类型和成员</span><span class="sxs-lookup"><span data-stu-id="951cf-115">Disallowed Types and Members</span></span>  
 <span data-ttu-id="951cf-116">下表标识了 SQL Server 禁止其 <xref:System.Security.Permissions.HostProtectionResource> 值的类型和成员。</span><span class="sxs-lookup"><span data-stu-id="951cf-116">The following table identifies types and members whose <xref:System.Security.Permissions.HostProtectionResource> values are disallowed by SQL Server.</span></span>  
  
|<span data-ttu-id="951cf-117">命名空间</span><span class="sxs-lookup"><span data-stu-id="951cf-117">Namespace</span></span>|<span data-ttu-id="951cf-118">类型或成员</span><span class="sxs-lookup"><span data-stu-id="951cf-118">Type or member</span></span>|  
|---------------|--------------------|  
|`Microsoft.Win32`|<xref:Microsoft.Win32.PowerModeChangedEventArgs> <span data-ttu-id="951cf-119">class</span><span class="sxs-lookup"><span data-stu-id="951cf-119">class</span></span><br /><br /> <xref:Microsoft.Win32.PowerModeChangedEventHandler> <span data-ttu-id="951cf-120">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-120">delegate</span></span><br /><br /> <xref:Microsoft.Win32.SessionEndedEventArgs> <span data-ttu-id="951cf-121">class</span><span class="sxs-lookup"><span data-stu-id="951cf-121">class</span></span><br /><br /> <xref:Microsoft.Win32.SessionEndedEventHandler> <span data-ttu-id="951cf-122">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-122">delegate</span></span><br /><br /> <xref:Microsoft.Win32.SessionEndingEventArgs> <span data-ttu-id="951cf-123">class</span><span class="sxs-lookup"><span data-stu-id="951cf-123">class</span></span><br /><br /> <xref:Microsoft.Win32.SessionEndingEventHandler> <span data-ttu-id="951cf-124">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-124">delegate</span></span><br /><br /> <xref:Microsoft.Win32.SessionSwitchEventArgs> <span data-ttu-id="951cf-125">class</span><span class="sxs-lookup"><span data-stu-id="951cf-125">class</span></span><br /><br /> <xref:Microsoft.Win32.SessionSwitchEventHandler> <span data-ttu-id="951cf-126">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-126">delegate</span></span><br /><br /> <xref:Microsoft.Win32.SystemEvents> <span data-ttu-id="951cf-127">class</span><span class="sxs-lookup"><span data-stu-id="951cf-127">class</span></span><br /><br /> <xref:Microsoft.Win32.TimerElapsedEventArgs> <span data-ttu-id="951cf-128">class</span><span class="sxs-lookup"><span data-stu-id="951cf-128">class</span></span><br /><br /> <xref:Microsoft.Win32.TimerElapsedEventHandler> <span data-ttu-id="951cf-129">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-129">delegate</span></span><br /><br /> <xref:Microsoft.Win32.UserPreferenceChangedEventArgs> <span data-ttu-id="951cf-130">class</span><span class="sxs-lookup"><span data-stu-id="951cf-130">class</span></span><br /><br /> <xref:Microsoft.Win32.UserPreferenceChangingEventArgs> <span data-ttu-id="951cf-131">class</span><span class="sxs-lookup"><span data-stu-id="951cf-131">class</span></span>|  
|`System.Collections`|<xref:System.Collections.ArrayList.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-132">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-132">method</span></span><br /><br /> <xref:System.Collections.Hashtable.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-133">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-133">method</span></span><br /><br /> <xref:System.Collections.Queue.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-134">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-134">method</span></span><br /><br /> <xref:System.Collections.SortedList.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-135">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-135">method</span></span><br /><br /> <xref:System.Collections.Stack.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-136">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-136">method</span></span>|  
|`System.ComponentModel`|<xref:System.ComponentModel.AddingNewEventArgs> <span data-ttu-id="951cf-137">class</span><span class="sxs-lookup"><span data-stu-id="951cf-137">class</span></span><br /><br /> <xref:System.ComponentModel.AddingNewEventHandler> <span data-ttu-id="951cf-138">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-138">delegate</span></span><br /><br /> <xref:System.ComponentModel.ArrayConverter> <span data-ttu-id="951cf-139">class</span><span class="sxs-lookup"><span data-stu-id="951cf-139">class</span></span><br /><br /> <xref:System.ComponentModel.AsyncCompletedEventArgs> <span data-ttu-id="951cf-140">class</span><span class="sxs-lookup"><span data-stu-id="951cf-140">class</span></span><br /><br /> <xref:System.ComponentModel.AsyncCompletedEventHandler> <span data-ttu-id="951cf-141">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-141">delegate</span></span><br /><br /> <xref:System.ComponentModel.AsyncOperation> <span data-ttu-id="951cf-142">class</span><span class="sxs-lookup"><span data-stu-id="951cf-142">class</span></span><br /><br /> <xref:System.ComponentModel.AsyncOperationManager> <span data-ttu-id="951cf-143">class</span><span class="sxs-lookup"><span data-stu-id="951cf-143">class</span></span><br /><br /> <xref:System.ComponentModel.AttributeCollection> <span data-ttu-id="951cf-144">class</span><span class="sxs-lookup"><span data-stu-id="951cf-144">class</span></span><br /><br /> <xref:System.ComponentModel.BackgroundWorker> <span data-ttu-id="951cf-145">class</span><span class="sxs-lookup"><span data-stu-id="951cf-145">class</span></span><br /><br /> <xref:System.ComponentModel.BaseNumberConverter> <span data-ttu-id="951cf-146">class</span><span class="sxs-lookup"><span data-stu-id="951cf-146">class</span></span><br /><br /> <xref:System.ComponentModel.BindingList%601> <span data-ttu-id="951cf-147">class</span><span class="sxs-lookup"><span data-stu-id="951cf-147">class</span></span><br /><br /> <xref:System.ComponentModel.BooleanConverter> <span data-ttu-id="951cf-148">class</span><span class="sxs-lookup"><span data-stu-id="951cf-148">class</span></span><br /><br /> <xref:System.ComponentModel.ByteConverter> <span data-ttu-id="951cf-149">class</span><span class="sxs-lookup"><span data-stu-id="951cf-149">class</span></span><br /><br /> <xref:System.ComponentModel.CancelEventArgs> <span data-ttu-id="951cf-150">class</span><span class="sxs-lookup"><span data-stu-id="951cf-150">class</span></span><br /><br /> <xref:System.ComponentModel.CancelEventHandler> <span data-ttu-id="951cf-151">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-151">delegate</span></span><br /><br /> <xref:System.ComponentModel.CharConverter> <span data-ttu-id="951cf-152">class</span><span class="sxs-lookup"><span data-stu-id="951cf-152">class</span></span><br /><br /> <xref:System.ComponentModel.CollectionChangeEventArgs> <span data-ttu-id="951cf-153">class</span><span class="sxs-lookup"><span data-stu-id="951cf-153">class</span></span><br /><br /> <xref:System.ComponentModel.CollectionChangeEventHandler> <span data-ttu-id="951cf-154">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-154">delegate</span></span><br /><br /> <xref:System.ComponentModel.CollectionConverter> <span data-ttu-id="951cf-155">class</span><span class="sxs-lookup"><span data-stu-id="951cf-155">class</span></span><br /><br /> <xref:System.ComponentModel.ComponentCollection> <span data-ttu-id="951cf-156">class</span><span class="sxs-lookup"><span data-stu-id="951cf-156">class</span></span><br /><br /> <xref:System.ComponentModel.ComponentConverter> <span data-ttu-id="951cf-157">class</span><span class="sxs-lookup"><span data-stu-id="951cf-157">class</span></span><br /><br /> <xref:System.ComponentModel.ComponentEditor> <span data-ttu-id="951cf-158">class</span><span class="sxs-lookup"><span data-stu-id="951cf-158">class</span></span><br /><br /> <xref:System.ComponentModel.ComponentResourceManager> <span data-ttu-id="951cf-159">class</span><span class="sxs-lookup"><span data-stu-id="951cf-159">class</span></span><br /><br /> <xref:System.ComponentModel.Container> <span data-ttu-id="951cf-160">class</span><span class="sxs-lookup"><span data-stu-id="951cf-160">class</span></span><br /><br /> <xref:System.ComponentModel.ContainerFilterService> <span data-ttu-id="951cf-161">class</span><span class="sxs-lookup"><span data-stu-id="951cf-161">class</span></span><br /><br /> <xref:System.ComponentModel.CultureInfoConverter> <span data-ttu-id="951cf-162">class</span><span class="sxs-lookup"><span data-stu-id="951cf-162">class</span></span><br /><br /> <xref:System.ComponentModel.CustomTypeDescriptor> <span data-ttu-id="951cf-163">class</span><span class="sxs-lookup"><span data-stu-id="951cf-163">class</span></span><br /><br /> <xref:System.ComponentModel.DateTimeConverter> <span data-ttu-id="951cf-164">class</span><span class="sxs-lookup"><span data-stu-id="951cf-164">class</span></span><br /><br /> <xref:System.ComponentModel.DecimalConverter> <span data-ttu-id="951cf-165">class</span><span class="sxs-lookup"><span data-stu-id="951cf-165">class</span></span><br /><br /> <xref:System.ComponentModel.Design.ActiveDesignerEventArgs> <span data-ttu-id="951cf-166">class</span><span class="sxs-lookup"><span data-stu-id="951cf-166">class</span></span><br /><br /> <xref:System.ComponentModel.Design.ActiveDesignerEventHandler> <span data-ttu-id="951cf-167">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-167">delegate</span></span><br /><br /> <xref:System.ComponentModel.Design.CheckoutException> <span data-ttu-id="951cf-168">class</span><span class="sxs-lookup"><span data-stu-id="951cf-168">class</span></span><br /><br /> <xref:System.ComponentModel.Design.CommandID> <span data-ttu-id="951cf-169">class</span><span class="sxs-lookup"><span data-stu-id="951cf-169">class</span></span><br /><br /> <xref:System.ComponentModel.Design.ComponentChangedEventArgs> <span data-ttu-id="951cf-170">class</span><span class="sxs-lookup"><span data-stu-id="951cf-170">class</span></span><br /><br /> <xref:System.ComponentModel.Design.ComponentChangedEventHandler> <span data-ttu-id="951cf-171">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-171">delegate</span></span><br /><br /> <xref:System.ComponentModel.Design.ComponentChangingEventArgs> <span data-ttu-id="951cf-172">class</span><span class="sxs-lookup"><span data-stu-id="951cf-172">class</span></span><br /><br /> <xref:System.ComponentModel.Design.ComponentChangingEventHandler> <span data-ttu-id="951cf-173">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-173">delegate</span></span><br /><br /> <xref:System.ComponentModel.Design.ComponentEventArgs> <span data-ttu-id="951cf-174">class</span><span class="sxs-lookup"><span data-stu-id="951cf-174">class</span></span><br /><br /> <xref:System.ComponentModel.Design.ComponentEventHandler> <span data-ttu-id="951cf-175">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-175">delegate</span></span><br /><br /> <xref:System.ComponentModel.Design.ComponentRenameEventArgs> <span data-ttu-id="951cf-176">class</span><span class="sxs-lookup"><span data-stu-id="951cf-176">class</span></span><br /><br /> <xref:System.ComponentModel.Design.ComponentRenameEventHandler> <span data-ttu-id="951cf-177">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-177">delegate</span></span><br /><br /> <xref:System.ComponentModel.Design.DesignerCollection> <span data-ttu-id="951cf-178">class</span><span class="sxs-lookup"><span data-stu-id="951cf-178">class</span></span><br /><br /> <xref:System.ComponentModel.Design.DesignerEventArgs> <span data-ttu-id="951cf-179">class</span><span class="sxs-lookup"><span data-stu-id="951cf-179">class</span></span><br /><br /> <xref:System.ComponentModel.Design.DesignerEventHandler> <span data-ttu-id="951cf-180">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-180">delegate</span></span><br /><br /> <xref:System.ComponentModel.Design.DesignerOptionService> <span data-ttu-id="951cf-181">class</span><span class="sxs-lookup"><span data-stu-id="951cf-181">class</span></span><br /><br /> <xref:System.ComponentModel.Design.DesignerTransaction> <span data-ttu-id="951cf-182">class</span><span class="sxs-lookup"><span data-stu-id="951cf-182">class</span></span><br /><br /> <xref:System.ComponentModel.Design.DesignerTransactionCloseEventArgs> <span data-ttu-id="951cf-183">class</span><span class="sxs-lookup"><span data-stu-id="951cf-183">class</span></span><br /><br /> <xref:System.ComponentModel.Design.DesignerTransactionCloseEventHandler> <span data-ttu-id="951cf-184">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-184">delegate</span></span><br /><br /> <xref:System.ComponentModel.Design.DesignerVerb> <span data-ttu-id="951cf-185">class</span><span class="sxs-lookup"><span data-stu-id="951cf-185">class</span></span><br /><br /> <xref:System.ComponentModel.Design.DesignerVerbCollection> <span data-ttu-id="951cf-186">class</span><span class="sxs-lookup"><span data-stu-id="951cf-186">class</span></span><br /><br /> <xref:System.ComponentModel.Design.DesigntimeLicenseContext> <span data-ttu-id="951cf-187">class</span><span class="sxs-lookup"><span data-stu-id="951cf-187">class</span></span><br /><br /> <xref:System.ComponentModel.Design.DesigntimeLicenseContextSerializer> <span data-ttu-id="951cf-188">class</span><span class="sxs-lookup"><span data-stu-id="951cf-188">class</span></span><br /><br /> <xref:System.ComponentModel.Design.MenuCommand> <span data-ttu-id="951cf-189">class</span><span class="sxs-lookup"><span data-stu-id="951cf-189">class</span></span><br /><br /> <xref:System.ComponentModel.Design.Serialization.ComponentSerializationService> <span data-ttu-id="951cf-190">class</span><span class="sxs-lookup"><span data-stu-id="951cf-190">class</span></span><br /><br /> <xref:System.ComponentModel.Design.Serialization.ContextStack> <span data-ttu-id="951cf-191">class</span><span class="sxs-lookup"><span data-stu-id="951cf-191">class</span></span><br /><br /> <xref:System.ComponentModel.Design.Serialization.DesignerLoader> <span data-ttu-id="951cf-192">class</span><span class="sxs-lookup"><span data-stu-id="951cf-192">class</span></span><br /><br /> <xref:System.ComponentModel.Design.Serialization.InstanceDescriptor> <span data-ttu-id="951cf-193">class</span><span class="sxs-lookup"><span data-stu-id="951cf-193">class</span></span><br /><br /> <xref:System.ComponentModel.Design.Serialization.MemberRelationshipService> <span data-ttu-id="951cf-194">class</span><span class="sxs-lookup"><span data-stu-id="951cf-194">class</span></span><br /><br /> <xref:System.ComponentModel.Design.Serialization.ResolveNameEventArgs> <span data-ttu-id="951cf-195">class</span><span class="sxs-lookup"><span data-stu-id="951cf-195">class</span></span><br /><br /> <xref:System.ComponentModel.Design.Serialization.ResolveNameEventHandler> <span data-ttu-id="951cf-196">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-196">delegate</span></span><br /><br /> <xref:System.ComponentModel.Design.Serialization.SerializationStore> <span data-ttu-id="951cf-197">class</span><span class="sxs-lookup"><span data-stu-id="951cf-197">class</span></span><br /><br /> <xref:System.ComponentModel.Design.ServiceContainer> <span data-ttu-id="951cf-198">class</span><span class="sxs-lookup"><span data-stu-id="951cf-198">class</span></span><br /><br /> <xref:System.ComponentModel.Design.ServiceCreatorCallback> <span data-ttu-id="951cf-199">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-199">delegate</span></span><br /><br /> <xref:System.ComponentModel.Design.StandardCommands> <span data-ttu-id="951cf-200">class</span><span class="sxs-lookup"><span data-stu-id="951cf-200">class</span></span><br /><br /> <xref:System.ComponentModel.Design.StandardToolWindows> <span data-ttu-id="951cf-201">class</span><span class="sxs-lookup"><span data-stu-id="951cf-201">class</span></span><br /><br /> <xref:System.ComponentModel.DoubleConverter> <span data-ttu-id="951cf-202">class</span><span class="sxs-lookup"><span data-stu-id="951cf-202">class</span></span><br /><br /> <xref:System.ComponentModel.DoWorkEventArgs> <span data-ttu-id="951cf-203">class</span><span class="sxs-lookup"><span data-stu-id="951cf-203">class</span></span><br /><br /> <xref:System.ComponentModel.DoWorkEventHandler> <span data-ttu-id="951cf-204">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-204">delegate</span></span><br /><br /> <xref:System.ComponentModel.EnumConverter> <span data-ttu-id="951cf-205">class</span><span class="sxs-lookup"><span data-stu-id="951cf-205">class</span></span><br /><br /> <xref:System.ComponentModel.EventDescriptor> <span data-ttu-id="951cf-206">class</span><span class="sxs-lookup"><span data-stu-id="951cf-206">class</span></span><br /><br /> <xref:System.ComponentModel.EventDescriptorCollection> <span data-ttu-id="951cf-207">class</span><span class="sxs-lookup"><span data-stu-id="951cf-207">class</span></span><br /><br /> <xref:System.ComponentModel.EventHandlerList> <span data-ttu-id="951cf-208">class</span><span class="sxs-lookup"><span data-stu-id="951cf-208">class</span></span><br /><br /> <xref:System.ComponentModel.ExpandableObjectConverter> <span data-ttu-id="951cf-209">class</span><span class="sxs-lookup"><span data-stu-id="951cf-209">class</span></span><br /><br /> <xref:System.ComponentModel.HandledEventArgs> <span data-ttu-id="951cf-210">class</span><span class="sxs-lookup"><span data-stu-id="951cf-210">class</span></span><br /><br /> <xref:System.ComponentModel.HandledEventHandler> <span data-ttu-id="951cf-211">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-211">delegate</span></span><br /><br /> <xref:System.ComponentModel.InstanceCreationEditor> <span data-ttu-id="951cf-212">class</span><span class="sxs-lookup"><span data-stu-id="951cf-212">class</span></span><br /><br /> <xref:System.ComponentModel.Int16Converter> <span data-ttu-id="951cf-213">class</span><span class="sxs-lookup"><span data-stu-id="951cf-213">class</span></span><br /><br /> <xref:System.ComponentModel.Int32Converter> <span data-ttu-id="951cf-214">class</span><span class="sxs-lookup"><span data-stu-id="951cf-214">class</span></span><br /><br /> <xref:System.ComponentModel.Int64Converter> <span data-ttu-id="951cf-215">class</span><span class="sxs-lookup"><span data-stu-id="951cf-215">class</span></span><br /><br /> <xref:System.ComponentModel.InvalidAsynchronousStateException> <span data-ttu-id="951cf-216">class</span><span class="sxs-lookup"><span data-stu-id="951cf-216">class</span></span><br /><br /> <xref:System.ComponentModel.InvalidEnumArgumentException> <span data-ttu-id="951cf-217">class</span><span class="sxs-lookup"><span data-stu-id="951cf-217">class</span></span><br /><br /> <xref:System.ComponentModel.ISynchronizeInvoke.BeginInvoke%2A> <span data-ttu-id="951cf-218">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-218">method</span></span><br /><br /> <xref:System.ComponentModel.License> <span data-ttu-id="951cf-219">class</span><span class="sxs-lookup"><span data-stu-id="951cf-219">class</span></span><br /><br /> <xref:System.ComponentModel.LicenseContext> <span data-ttu-id="951cf-220">class</span><span class="sxs-lookup"><span data-stu-id="951cf-220">class</span></span><br /><br /> <xref:System.ComponentModel.LicenseException> <span data-ttu-id="951cf-221">class</span><span class="sxs-lookup"><span data-stu-id="951cf-221">class</span></span><br /><br /> <xref:System.ComponentModel.LicenseManager> <span data-ttu-id="951cf-222">class</span><span class="sxs-lookup"><span data-stu-id="951cf-222">class</span></span><br /><br /> <xref:System.ComponentModel.LicenseProvider> <span data-ttu-id="951cf-223">class</span><span class="sxs-lookup"><span data-stu-id="951cf-223">class</span></span><br /><br /> <xref:System.ComponentModel.LicFileLicenseProvider> <span data-ttu-id="951cf-224">class</span><span class="sxs-lookup"><span data-stu-id="951cf-224">class</span></span><br /><br /> <xref:System.ComponentModel.ListChangedEventArgs> <span data-ttu-id="951cf-225">class</span><span class="sxs-lookup"><span data-stu-id="951cf-225">class</span></span><br /><br /> <xref:System.ComponentModel.ListChangedEventHandler> <span data-ttu-id="951cf-226">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-226">delegate</span></span><br /><br /> <xref:System.ComponentModel.ListSortDescription> <span data-ttu-id="951cf-227">class</span><span class="sxs-lookup"><span data-stu-id="951cf-227">class</span></span><br /><br /> <xref:System.ComponentModel.ListSortDescriptionCollection> <span data-ttu-id="951cf-228">class</span><span class="sxs-lookup"><span data-stu-id="951cf-228">class</span></span><br /><br /> <xref:System.ComponentModel.MaskedTextProvider> <span data-ttu-id="951cf-229">class</span><span class="sxs-lookup"><span data-stu-id="951cf-229">class</span></span><br /><br /> <xref:System.ComponentModel.MemberDescriptor> <span data-ttu-id="951cf-230">class</span><span class="sxs-lookup"><span data-stu-id="951cf-230">class</span></span><br /><br /> <xref:System.ComponentModel.MultilineStringConverter> <span data-ttu-id="951cf-231">class</span><span class="sxs-lookup"><span data-stu-id="951cf-231">class</span></span><br /><br /> <xref:System.ComponentModel.NestedContainer> <span data-ttu-id="951cf-232">class</span><span class="sxs-lookup"><span data-stu-id="951cf-232">class</span></span><br /><br /> <xref:System.ComponentModel.NullableConverter> <span data-ttu-id="951cf-233">class</span><span class="sxs-lookup"><span data-stu-id="951cf-233">class</span></span><br /><br /> <xref:System.ComponentModel.ProgressChangedEventArgs> <span data-ttu-id="951cf-234">class</span><span class="sxs-lookup"><span data-stu-id="951cf-234">class</span></span><br /><br /> <xref:System.ComponentModel.ProgressChangedEventHandler> <span data-ttu-id="951cf-235">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-235">delegate</span></span><br /><br /> <xref:System.ComponentModel.PropertyChangedEventArgs> <span data-ttu-id="951cf-236">class</span><span class="sxs-lookup"><span data-stu-id="951cf-236">class</span></span><br /><br /> <xref:System.ComponentModel.PropertyChangedEventHandler> <span data-ttu-id="951cf-237">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-237">delegate</span></span><br /><br /> <xref:System.ComponentModel.PropertyDescriptor> <span data-ttu-id="951cf-238">class</span><span class="sxs-lookup"><span data-stu-id="951cf-238">class</span></span><br /><br /> <xref:System.ComponentModel.PropertyDescriptorCollection> <span data-ttu-id="951cf-239">class</span><span class="sxs-lookup"><span data-stu-id="951cf-239">class</span></span><br /><br /> <xref:System.ComponentModel.ReferenceConverter> <span data-ttu-id="951cf-240">class</span><span class="sxs-lookup"><span data-stu-id="951cf-240">class</span></span><br /><br /> <xref:System.ComponentModel.RefreshEventArgs> <span data-ttu-id="951cf-241">class</span><span class="sxs-lookup"><span data-stu-id="951cf-241">class</span></span><br /><br /> <xref:System.ComponentModel.RefreshEventHandler> <span data-ttu-id="951cf-242">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-242">delegate</span></span><br /><br /> <xref:System.ComponentModel.RunWorkerCompletedEventArgs> <span data-ttu-id="951cf-243">class</span><span class="sxs-lookup"><span data-stu-id="951cf-243">class</span></span><br /><br /> <xref:System.ComponentModel.RunWorkerCompletedEventHandler> <span data-ttu-id="951cf-244">委托</span><span class="sxs-lookup"><span data-stu-id="951cf-244">delegate</span></span><br /><br /> <xref:System.ComponentModel.SByteConverter> <span data-ttu-id="951cf-245">class</span><span class="sxs-lookup"><span data-stu-id="951cf-245">class</span></span><br /><br /> <xref:System.ComponentModel.SingleConverter> <span data-ttu-id="951cf-246">class</span><span class="sxs-lookup"><span data-stu-id="951cf-246">class</span></span><br /><br /> <xref:System.ComponentModel.StringConverter> <span data-ttu-id="951cf-247">class</span><span class="sxs-lookup"><span data-stu-id="951cf-247">class</span></span><br /><br /> <xref:System.ComponentModel.SyntaxCheck> <span data-ttu-id="951cf-248">class</span><span class="sxs-lookup"><span data-stu-id="951cf-248">class</span></span><br /><br /> <xref:System.ComponentModel.TimeSpanConverter> <span data-ttu-id="951cf-249">class</span><span class="sxs-lookup"><span data-stu-id="951cf-249">class</span></span><br /><br /> <xref:System.ComponentModel.TypeConverter> <span data-ttu-id="951cf-250">class</span><span class="sxs-lookup"><span data-stu-id="951cf-250">class</span></span><br /><br /> <xref:System.ComponentModel.TypeDescriptionProvider> <span data-ttu-id="951cf-251">class</span><span class="sxs-lookup"><span data-stu-id="951cf-251">class</span></span><br /><br /> <xref:System.ComponentModel.TypeDescriptor> <span data-ttu-id="951cf-252">class</span><span class="sxs-lookup"><span data-stu-id="951cf-252">class</span></span><br /><br /> <xref:System.ComponentModel.TypeListConverter> <span data-ttu-id="951cf-253">class</span><span class="sxs-lookup"><span data-stu-id="951cf-253">class</span></span><br /><br /> <xref:System.ComponentModel.UInt16Converter> <span data-ttu-id="951cf-254">class</span><span class="sxs-lookup"><span data-stu-id="951cf-254">class</span></span><br /><br /> <xref:System.ComponentModel.UInt32Converter> <span data-ttu-id="951cf-255">class</span><span class="sxs-lookup"><span data-stu-id="951cf-255">class</span></span><br /><br /> <xref:System.ComponentModel.UInt64Converter> <span data-ttu-id="951cf-256">class</span><span class="sxs-lookup"><span data-stu-id="951cf-256">class</span></span><br /><br /> <xref:System.ComponentModel.WarningException> <span data-ttu-id="951cf-257">class</span><span class="sxs-lookup"><span data-stu-id="951cf-257">class</span></span><br /><br /> <xref:System.ComponentModel.Win32Exception> <span data-ttu-id="951cf-258">class</span><span class="sxs-lookup"><span data-stu-id="951cf-258">class</span></span>|  
|`System.Diagnostics`|<xref:System.Diagnostics.Debug.Listeners%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-259">属性</span><span class="sxs-lookup"><span data-stu-id="951cf-259">property</span></span><br /><br /> <xref:System.Diagnostics.Trace.Listeners%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-260">属性</span><span class="sxs-lookup"><span data-stu-id="951cf-260">property</span></span><br /><br /> <xref:System.Diagnostics.EventLog.SynchronizingObject%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-261">属性</span><span class="sxs-lookup"><span data-stu-id="951cf-261">property</span></span><br /><br /> <xref:System.Diagnostics.ConsoleTraceListener> <span data-ttu-id="951cf-262">class</span><span class="sxs-lookup"><span data-stu-id="951cf-262">class</span></span><br /><br /> <xref:System.Diagnostics.DefaultTraceListener> <span data-ttu-id="951cf-263">class</span><span class="sxs-lookup"><span data-stu-id="951cf-263">class</span></span><br /><br /> <xref:System.Diagnostics.DelimitedListTraceListener> <span data-ttu-id="951cf-264">class</span><span class="sxs-lookup"><span data-stu-id="951cf-264">class</span></span><br /><br /> <xref:System.Diagnostics.EventLogTraceListener> <span data-ttu-id="951cf-265">class</span><span class="sxs-lookup"><span data-stu-id="951cf-265">class</span></span><br /><br /> <xref:System.Diagnostics.PerformanceCounter> <span data-ttu-id="951cf-266">class</span><span class="sxs-lookup"><span data-stu-id="951cf-266">class</span></span><br /><br /> <xref:System.Diagnostics.PerformanceCounterCategory> <span data-ttu-id="951cf-267">class</span><span class="sxs-lookup"><span data-stu-id="951cf-267">class</span></span><br /><br /> <xref:System.Diagnostics.Process> <span data-ttu-id="951cf-268">class</span><span class="sxs-lookup"><span data-stu-id="951cf-268">class</span></span><br /><br /> <xref:System.Diagnostics.ProcessStartInfo> <span data-ttu-id="951cf-269">class</span><span class="sxs-lookup"><span data-stu-id="951cf-269">class</span></span><br /><br /> <xref:System.Diagnostics.TextWriterTraceListener> <span data-ttu-id="951cf-270">class</span><span class="sxs-lookup"><span data-stu-id="951cf-270">class</span></span><br /><br /> <xref:System.Diagnostics.TraceListener> <span data-ttu-id="951cf-271">class</span><span class="sxs-lookup"><span data-stu-id="951cf-271">class</span></span><br /><br /> <xref:System.Diagnostics.XmlWriterTraceListener> <span data-ttu-id="951cf-272">class</span><span class="sxs-lookup"><span data-stu-id="951cf-272">class</span></span><br /><br /> <xref:System.Diagnostics.TraceSource.Listeners%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-273">属性</span><span class="sxs-lookup"><span data-stu-id="951cf-273">property</span></span>|  
|`System.IO`|<xref:System.IO.Stream.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-274">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-274">method</span></span><br /><br /> <xref:System.IO.TextReader.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-275">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-275">method</span></span><br /><br /> <xref:System.IO.TextWriter.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-276">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-276">method</span></span>|  
|`System.Reflection.Emit`|<xref:System.Reflection.Emit.ConstructorBuilder> <span data-ttu-id="951cf-277">class</span><span class="sxs-lookup"><span data-stu-id="951cf-277">class</span></span><br /><br /> <xref:System.Reflection.Emit.EventBuilder> <span data-ttu-id="951cf-278">class</span><span class="sxs-lookup"><span data-stu-id="951cf-278">class</span></span><br /><br /> <xref:System.Reflection.Emit.FieldBuilder> <span data-ttu-id="951cf-279">class</span><span class="sxs-lookup"><span data-stu-id="951cf-279">class</span></span><br /><br /> <xref:System.Reflection.Emit.MethodBuilder> <span data-ttu-id="951cf-280">class</span><span class="sxs-lookup"><span data-stu-id="951cf-280">class</span></span><br /><br /> <xref:System.Reflection.Emit.CustomAttributeBuilder> <span data-ttu-id="951cf-281">class</span><span class="sxs-lookup"><span data-stu-id="951cf-281">class</span></span><br /><br /> <xref:System.Reflection.Emit.MethodRental> <span data-ttu-id="951cf-282">class</span><span class="sxs-lookup"><span data-stu-id="951cf-282">class</span></span><br /><br /> <xref:System.Reflection.Emit.ModuleBuilder> <span data-ttu-id="951cf-283">class</span><span class="sxs-lookup"><span data-stu-id="951cf-283">class</span></span><br /><br /> <xref:System.Reflection.Emit.PropertyBuilder> <span data-ttu-id="951cf-284">class</span><span class="sxs-lookup"><span data-stu-id="951cf-284">class</span></span><br /><br /> <xref:System.Reflection.Emit.TypeBuilder> <span data-ttu-id="951cf-285">class</span><span class="sxs-lookup"><span data-stu-id="951cf-285">class</span></span><br /><br /> <xref:System.Reflection.Emit.UnmanagedMarshal> <span data-ttu-id="951cf-286">class</span><span class="sxs-lookup"><span data-stu-id="951cf-286">class</span></span>|  
|`System.Text`|<xref:System.Text.RegularExpressions.Group.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-287">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-287">method</span></span><br /><br /> <xref:System.Text.RegularExpressions.Match.Synchronized%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-288">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-288">method</span></span>|  
|`System.Threading`|<xref:System.Threading.AutoResetEvent> <span data-ttu-id="951cf-289">class</span><span class="sxs-lookup"><span data-stu-id="951cf-289">class</span></span><br /><br /> <xref:System.Threading.EventWaitHandle> <span data-ttu-id="951cf-290">class</span><span class="sxs-lookup"><span data-stu-id="951cf-290">class</span></span><br /><br /> <xref:System.Threading.ManualResetEvent> <span data-ttu-id="951cf-291">class</span><span class="sxs-lookup"><span data-stu-id="951cf-291">class</span></span><br /><br /> <xref:System.Threading.Monitor> <span data-ttu-id="951cf-292">class</span><span class="sxs-lookup"><span data-stu-id="951cf-292">class</span></span><br /><br /> <xref:System.Threading.Mutex> <span data-ttu-id="951cf-293">class</span><span class="sxs-lookup"><span data-stu-id="951cf-293">class</span></span><br /><br /> <xref:System.Threading.ReaderWriterLock> <span data-ttu-id="951cf-294">class</span><span class="sxs-lookup"><span data-stu-id="951cf-294">class</span></span><br /><br /> <xref:System.Threading.Semaphore> <span data-ttu-id="951cf-295">class</span><span class="sxs-lookup"><span data-stu-id="951cf-295">class</span></span><br /><br /> <xref:System.Threading.Thread.AllocateNamedDataSlot%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-296">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-296">method</span></span><br /><br /> <xref:System.Threading.Thread.BeginCriticalRegion%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-297">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-297">method</span></span><br /><br /> <xref:System.Threading.Thread.EndCriticalRegion%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-298">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-298">method</span></span><br /><br /> <xref:System.Threading.Thread.FreeNamedDataSlot%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-299">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-299">method</span></span><br /><br /> <xref:System.Threading.Thread.GetData%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-300">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-300">method</span></span><br /><br /> <xref:System.Threading.Thread.Join%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-301">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-301">method</span></span><br /><br /> <xref:System.Threading.Thread.SetApartmentState%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-302">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-302">method</span></span><br /><br /> <xref:System.Threading.Thread.SetData%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-303">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-303">method</span></span><br /><br /> <xref:System.Threading.Thread.SpinWait%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-304">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-304">method</span></span><br /><br /> <xref:System.Threading.Thread.Start%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-305">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-305">method</span></span><br /><br /> <xref:System.Threading.Thread.TrySetApartmentState%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-306">方法</span><span class="sxs-lookup"><span data-stu-id="951cf-306">method</span></span><br /><br /> <xref:System.Threading.ThreadPool> <span data-ttu-id="951cf-307">class</span><span class="sxs-lookup"><span data-stu-id="951cf-307">class</span></span><br /><br /> <xref:System.Threading.Timer> <span data-ttu-id="951cf-308">class</span><span class="sxs-lookup"><span data-stu-id="951cf-308">class</span></span>|  
|`System.Timers`|<xref:System.Timers.Timer> <span data-ttu-id="951cf-309">class</span><span class="sxs-lookup"><span data-stu-id="951cf-309">class</span></span>|  
|`System.Web.Configuration`|<xref:System.Web.Configuration.MachineKeyValidationConverter> <span data-ttu-id="951cf-310">class</span><span class="sxs-lookup"><span data-stu-id="951cf-310">class</span></span>|  
|`System.Windows.Forms`|<xref:System.Windows.Forms.AutoCompleteStringCollection.SyncRoot%2A?displayProperty=nameWithType> <span data-ttu-id="951cf-311">属性</span><span class="sxs-lookup"><span data-stu-id="951cf-311">property</span></span>|  
  
## <a name="sql-server-permission-sets"></a><span data-ttu-id="951cf-312">SQL Server 权限集</span><span class="sxs-lookup"><span data-stu-id="951cf-312">SQL Server Permission Sets</span></span>  
 <span data-ttu-id="951cf-313">SQL Server 能让用户指定部署到数据库的代码可靠性要求。</span><span class="sxs-lookup"><span data-stu-id="951cf-313">SQL Server allows users to specify the reliability requirements for code deployed into a database.</span></span> <span data-ttu-id="951cf-314">当程序集上传到数据库时，程序集的作者可以指定三个权限集之一该程序集：SAFE、 EXTERNAL-ACCESS 或 UNSAFE。</span><span class="sxs-lookup"><span data-stu-id="951cf-314">When assemblies are uploaded into the database, the author of the assembly can specify one of three permission sets for that assembly: SAFE, EXTERNAL-ACCESS, or UNSAFE.</span></span>  
  
|<span data-ttu-id="951cf-315">权限集</span><span class="sxs-lookup"><span data-stu-id="951cf-315">Permission set</span></span>|<span data-ttu-id="951cf-316">SAFE</span><span class="sxs-lookup"><span data-stu-id="951cf-316">SAFE</span></span>|<span data-ttu-id="951cf-317">EXTERNAL-ACCESS</span><span class="sxs-lookup"><span data-stu-id="951cf-317">EXTERNAL-ACCESS</span></span>|<span data-ttu-id="951cf-318">UNSAFE</span><span class="sxs-lookup"><span data-stu-id="951cf-318">UNSAFE</span></span>|  
|--------------------|----------|----------------------|------------|  
|<span data-ttu-id="951cf-319">代码访问安全性</span><span class="sxs-lookup"><span data-stu-id="951cf-319">Code access security</span></span>|<span data-ttu-id="951cf-320">仅执行</span><span class="sxs-lookup"><span data-stu-id="951cf-320">Execute only</span></span>|<span data-ttu-id="951cf-321">执行+访问外部资源</span><span class="sxs-lookup"><span data-stu-id="951cf-321">Execute + access to external resources</span></span>|<span data-ttu-id="951cf-322">不受限制</span><span class="sxs-lookup"><span data-stu-id="951cf-322">Unrestricted</span></span>|  
|<span data-ttu-id="951cf-323">编程模型限制</span><span class="sxs-lookup"><span data-stu-id="951cf-323">Programming model restrictions</span></span>|<span data-ttu-id="951cf-324">是</span><span class="sxs-lookup"><span data-stu-id="951cf-324">Yes</span></span>|<span data-ttu-id="951cf-325">是</span><span class="sxs-lookup"><span data-stu-id="951cf-325">Yes</span></span>|<span data-ttu-id="951cf-326">无限制</span><span class="sxs-lookup"><span data-stu-id="951cf-326">No restrictions</span></span>|  
|<span data-ttu-id="951cf-327">可验证性要求</span><span class="sxs-lookup"><span data-stu-id="951cf-327">Verifiability requirement</span></span>|<span data-ttu-id="951cf-328">是</span><span class="sxs-lookup"><span data-stu-id="951cf-328">Yes</span></span>|<span data-ttu-id="951cf-329">是</span><span class="sxs-lookup"><span data-stu-id="951cf-329">Yes</span></span>|<span data-ttu-id="951cf-330">否</span><span class="sxs-lookup"><span data-stu-id="951cf-330">No</span></span>|  
|<span data-ttu-id="951cf-331">调用本机代码的能力</span><span class="sxs-lookup"><span data-stu-id="951cf-331">Ability to call native code</span></span>|<span data-ttu-id="951cf-332">否</span><span class="sxs-lookup"><span data-stu-id="951cf-332">No</span></span>|<span data-ttu-id="951cf-333">否</span><span class="sxs-lookup"><span data-stu-id="951cf-333">No</span></span>|<span data-ttu-id="951cf-334">是</span><span class="sxs-lookup"><span data-stu-id="951cf-334">Yes</span></span>|  
  
 <span data-ttu-id="951cf-335">SAFE 是最可靠且安全的模式，在允许的编程模型方面具有相关限制。</span><span class="sxs-lookup"><span data-stu-id="951cf-335">SAFE is the most reliable and secure mode with associated restrictions in terms of the allowed programming model.</span></span> <span data-ttu-id="951cf-336">SAFE 代码具有高可靠性和安全性功能。</span><span class="sxs-lookup"><span data-stu-id="951cf-336">SAFE code has high reliability and security features.</span></span> <span data-ttu-id="951cf-337">SAFE 程序集有足够的权限来运行、执行计算，并有权访问本地数据库。</span><span class="sxs-lookup"><span data-stu-id="951cf-337">SAFE assemblies are given enough permission to run, perform computations, and have access to the local database.</span></span> <span data-ttu-id="951cf-338">SAFE 程序集需要可验证类型安全，不允许调用非托管代码。</span><span class="sxs-lookup"><span data-stu-id="951cf-338">SAFE assemblies need to be verifiably type safe and are not allowed to call unmanaged code.</span></span>  
  
 <span data-ttu-id="951cf-339">EXTERNAL-ACCESS 提供了一个中间安全选项，允许代码访问数据库外部的资源，但仍具有 SAFE 的可靠性和安全性。</span><span class="sxs-lookup"><span data-stu-id="951cf-339">EXTERNAL-ACCESS provides an intermediate security option, allowing code to access resources external to the database but still having the reliability and safety of SAFE.</span></span>  
  
 <span data-ttu-id="951cf-340">UNSAFE 用于只能由数据库管理员创建的高度信任的代码。</span><span class="sxs-lookup"><span data-stu-id="951cf-340">UNSAFE is for highly trusted code that can only be created by database administrators.</span></span> <span data-ttu-id="951cf-341">这类信任代码没有代码访问限制，可以调用非托管（本机）代码。</span><span class="sxs-lookup"><span data-stu-id="951cf-341">This trusted code has no code access restrictions, and it can call unmanaged (native) code.</span></span>  
  
 <span data-ttu-id="951cf-342">SQL Server 使用主机级别代码访问安全策略层来设置主机策略，此策略根据 SQL Server 目录中存储的权限集授予三组权限之一。</span><span class="sxs-lookup"><span data-stu-id="951cf-342">SQL Server uses the host-level code access security policy layer to set up a host policy that grants one of the three sets of permissions based on the permission set stored in SQL Server catalogs.</span></span> <span data-ttu-id="951cf-343">在数据库内运行的托管代码始终能获得这些代码访问权限集之一。</span><span class="sxs-lookup"><span data-stu-id="951cf-343">Managed code running inside the database always gets one of these code access permission sets.</span></span>  
  
## <a name="programming-model-restrictions"></a><span data-ttu-id="951cf-344">编程模型限制</span><span class="sxs-lookup"><span data-stu-id="951cf-344">Programming Model Restrictions</span></span>  
 <span data-ttu-id="951cf-345">SQL Server 中托管代码的编程模型需要无需使用跨多个调用的状态保留或跨多个用户会话共享状态的功能、过程和类型。</span><span class="sxs-lookup"><span data-stu-id="951cf-345">The programming model for managed code in SQL Server requires functions, procedures, and types which do not require the use of state held across multiple invocations or the sharing of state across multiple user sessions.</span></span> <span data-ttu-id="951cf-346">此外，如前所述，共享状态的存在可能导致关键异常，这些异常会影响应用程序的可扩展性和可靠性。</span><span class="sxs-lookup"><span data-stu-id="951cf-346">Further, as described earlier, the presence of shared state can cause critical exceptions that impact the scalability and the reliability of the application.</span></span>  
  
 <span data-ttu-id="951cf-347">考虑到这些因素，SQL Server 不允许使用静态变量和静态数据成员。</span><span class="sxs-lookup"><span data-stu-id="951cf-347">Given these considerations, SQL Server disallows the use of static variables and static data members.</span></span> <span data-ttu-id="951cf-348">对于 SAFE 和 EXTERNAL-ACCESS 程序集，SQL Server 将在 CREATE ASSEMBLY 时间检查程序集的元数据，如果发现使用静态数据成员和变量，则无法创建此类程序集。</span><span class="sxs-lookup"><span data-stu-id="951cf-348">For SAFE and EXTERNAL-ACCESS assemblies, SQL Server examines the metadata of the assembly at CREATE ASSEMBLY time, and fails the creation of such assemblies if it finds the use of static data members and variables.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="951cf-349">请参阅</span><span class="sxs-lookup"><span data-stu-id="951cf-349">See also</span></span>

- <xref:System.Security.Permissions.HostProtectionAttribute>
- <xref:System.Security.Permissions.HostProtectionResource>
