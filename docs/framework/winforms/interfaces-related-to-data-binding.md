---
title: 与数据绑定相关的接口
ms.date: 03/30/2017
helpviewer_keywords:
- data [Windows Forms], data-binding interfaces
- INotifyPropertyChanged interface
- IBindingListView interface
- IList interface [Windows Forms], Windows Forms data binding
- IBindingList interface [Windows Forms], Windows Forms data binding
- interfaces [Windows Forms], Windows Forms data binding
- IEditableObject interface [Windows Forms], Windows Forms data binding
- data binding [Windows Forms], interfaces
- IDataErrorInfo interface [Windows Forms], Windows Forms data binding
ms.assetid: 14e49a2e-3e46-47ca-b491-70d546333277
ms.openlocfilehash: ffda85b2704212ea5323117447e0cfe17ffb33db
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/23/2019
ms.locfileid: "61801772"
---
# <a name="interfaces-related-to-data-binding"></a><span data-ttu-id="4b559-102">与数据绑定相关的接口</span><span class="sxs-lookup"><span data-stu-id="4b559-102">Interfaces Related to Data Binding</span></span>

<span data-ttu-id="4b559-103">使用 [!INCLUDE[vstecado](../../../includes/vstecado-md.md)]，可以创建许多不同的数据结构，以满足应用程序和正在处理的数据的绑定需要。</span><span class="sxs-lookup"><span data-stu-id="4b559-103">With [!INCLUDE[vstecado](../../../includes/vstecado-md.md)], you can create many different data structures to suit the binding needs of your application and the data you are working with.</span></span> <span data-ttu-id="4b559-104">你可能希望创建自己的类，以便在 Windows 窗体中提供或使用数据。</span><span class="sxs-lookup"><span data-stu-id="4b559-104">You may want to create your own classes that provide or consume data in Windows Forms.</span></span> <span data-ttu-id="4b559-105">这些对象可以提供各种级别的功能和复杂性，从基本的数据绑定，到提供设计时支持、错误检查、更改通知，甚至是支持对数据本身所做更改的结构化回退。</span><span class="sxs-lookup"><span data-stu-id="4b559-105">These objects can offer varying levels of functionality and complexity, from basic data binding, to providing design-time support, error checking, change notification, or even support for a structured rollback of the changes made to the data itself.</span></span>

## <a name="consumers-of-data-binding-interfaces"></a><span data-ttu-id="4b559-106">数据绑定接口的使用者</span><span class="sxs-lookup"><span data-stu-id="4b559-106">Consumers of Data-Binding Interfaces</span></span>

<span data-ttu-id="4b559-107">以下部分描述两组接口对象。</span><span class="sxs-lookup"><span data-stu-id="4b559-107">Following sections describe two groups of interface objects.</span></span> <span data-ttu-id="4b559-108">第一组列出数据源作者在数据源上实现的接口。</span><span class="sxs-lookup"><span data-stu-id="4b559-108">The first group lists interfaces that are implemented on data sources by data source authors.</span></span> <span data-ttu-id="4b559-109">这些接口旨在由数据源使用者使用，在多数情况下，这些使用者是 Windows 窗体控件或组件。</span><span class="sxs-lookup"><span data-stu-id="4b559-109">These interfaces are designed to be consumed by data source consumers, which are in most cases Windows Forms controls or components.</span></span> <span data-ttu-id="4b559-110">第二组列出面向组件作者设计的接口。</span><span class="sxs-lookup"><span data-stu-id="4b559-110">The second group lists interfaces designed for use by component authors.</span></span> <span data-ttu-id="4b559-111">组件作者在创建支持数据绑定的组件时使用这些接口，以便它们能够被 Windows 窗体数据绑定引擎使用。</span><span class="sxs-lookup"><span data-stu-id="4b559-111">Component authors use these interfaces when they are creating a component that supports data binding to be consumed by the Windows Forms data-binding engine.</span></span> <span data-ttu-id="4b559-112">可以在与窗体关联的类中实现这些接口以启用数据绑定；每种情况都表示一个类，该类所实现的接口支持与数据进行交互。</span><span class="sxs-lookup"><span data-stu-id="4b559-112">You can implement these interfaces within classes associated with your form to enable data binding; each case presents a class that implements an interface that enables interaction with data.</span></span> <span data-ttu-id="4b559-113">Visual Studio 快速应用程序开发 (RAD) 数据设计体验工具已经利用此功能。</span><span class="sxs-lookup"><span data-stu-id="4b559-113">Visual Studio rapid application development (RAD) data design experience tools already take advantage of this functionality.</span></span>

### <a name="interfaces-for-implementation-by-data-source-authors"></a><span data-ttu-id="4b559-114">要由数据源作者实现的接口</span><span class="sxs-lookup"><span data-stu-id="4b559-114">Interfaces for Implementation by Data Source Authors</span></span>

<span data-ttu-id="4b559-115">下列接口设计为由 Windows 窗体控件使用：</span><span class="sxs-lookup"><span data-stu-id="4b559-115">The following interfaces are designed to be consumed by Windows Forms controls:</span></span>

- <span data-ttu-id="4b559-116"><xref:System.Collections.IList> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-116"><xref:System.Collections.IList> interface</span></span>

  <span data-ttu-id="4b559-117">实现的类<xref:System.Collections.IList>接口可能<xref:System.Array>， <xref:System.Collections.ArrayList>，或<xref:System.Collections.CollectionBase>。</span><span class="sxs-lookup"><span data-stu-id="4b559-117">A class that implements the <xref:System.Collections.IList> interface could be an <xref:System.Array>, <xref:System.Collections.ArrayList>, or <xref:System.Collections.CollectionBase>.</span></span> <span data-ttu-id="4b559-118">这些是类型的项的索引的列表<xref:System.Object>。</span><span class="sxs-lookup"><span data-stu-id="4b559-118">These are indexed lists of items of type <xref:System.Object>.</span></span> <span data-ttu-id="4b559-119">这些列表必须包含同源类型，因为索引中的第一项确定类型。</span><span class="sxs-lookup"><span data-stu-id="4b559-119">These lists must contain homogenous types, because the first item of the index determines the type.</span></span> <span data-ttu-id="4b559-120"><xref:System.Collections.IList> 将可用于仅在运行时绑定。</span><span class="sxs-lookup"><span data-stu-id="4b559-120"><xref:System.Collections.IList> would be available for binding only at run time.</span></span>

  > [!NOTE]
  >  <span data-ttu-id="4b559-121">如果你想要用 Windows 窗体中创建的绑定的业务对象的列表，则应考虑使用<xref:System.ComponentModel.BindingList%601>。</span><span class="sxs-lookup"><span data-stu-id="4b559-121">If you want to create a list of business objects for binding with Windows Forms, you should consider using the <xref:System.ComponentModel.BindingList%601>.</span></span> <span data-ttu-id="4b559-122"><xref:System.ComponentModel.BindingList%601>是可扩展的类实现双向 Windows 窗体数据绑定所需的主要接口。</span><span class="sxs-lookup"><span data-stu-id="4b559-122">The <xref:System.ComponentModel.BindingList%601> is an extensible class that implements the primary interfaces required for two-way Windows Forms data binding.</span></span>

- <span data-ttu-id="4b559-123"><xref:System.ComponentModel.IBindingList> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-123"><xref:System.ComponentModel.IBindingList> interface</span></span>

  <span data-ttu-id="4b559-124">实现的类<xref:System.ComponentModel.IBindingList>接口提供了高得多的数据绑定功能。</span><span class="sxs-lookup"><span data-stu-id="4b559-124">A class that implements the <xref:System.ComponentModel.IBindingList> interface provides a much higher level of data-binding functionality.</span></span> <span data-ttu-id="4b559-125">此实现在列表项更改时（例如，客户列表中的第三项更改了 Address 字段）和列表本身更改时（例如，列表中项的数量增加或减少）都提供基本的排序功能和更改通知。</span><span class="sxs-lookup"><span data-stu-id="4b559-125">This implementation offers you basic sorting capabilities and change notification, both for when the list items change (for example, the third item in a list of customers has a change to the Address field), as well as when the list itself changes (for example, the number of items in the list increases or decreases).</span></span> <span data-ttu-id="4b559-126">如果计划将多个控件绑定到同一个数据，但是希望将在其中某个控件中进行的数据更改传播到其他绑定控件，更改通知就非常重要。</span><span class="sxs-lookup"><span data-stu-id="4b559-126">Change notification is important if you plan to have multiple controls bound to the same data, and you want data changes made in one of the controls to propagate to the other bound controls.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4b559-127">为启用更改通知<xref:System.ComponentModel.IBindingList>通过接口<xref:System.ComponentModel.IBindingList.SupportsChangeNotification%2A>属性的当`true`，将引发<xref:System.ComponentModel.IBindingList.ListChanged>更改事件，指示已更改的列表或列表中的项。</span><span class="sxs-lookup"><span data-stu-id="4b559-127">Change notification is enabled for the <xref:System.ComponentModel.IBindingList> interface through the <xref:System.ComponentModel.IBindingList.SupportsChangeNotification%2A> property which, when `true`, raises a <xref:System.ComponentModel.IBindingList.ListChanged> event, indicating the list changed or an item in the list changed.</span></span>

  <span data-ttu-id="4b559-128">所描述的更改类型<xref:System.ComponentModel.ListChangedType>属性的<xref:System.ComponentModel.ListChangedEventArgs>参数。</span><span class="sxs-lookup"><span data-stu-id="4b559-128">The type of change is described by the <xref:System.ComponentModel.ListChangedType> property of the <xref:System.ComponentModel.ListChangedEventArgs> parameter.</span></span> <span data-ttu-id="4b559-129">因此，当数据模型进行更新时，任何依赖视图（例如，绑定到同一个数据源的其他控件）也会进行更新。</span><span class="sxs-lookup"><span data-stu-id="4b559-129">Hence, whenever the data model is updated, any dependent views, such as other controls bound to the same data source, will also be updated.</span></span> <span data-ttu-id="4b559-130">但是，在列表中包含的对象必须在更改，以便该列表可以引发时通知该列表<xref:System.ComponentModel.IBindingList.ListChanged>事件。</span><span class="sxs-lookup"><span data-stu-id="4b559-130">However, objects contained within the list will have to notify the list when they change so that the list can raise the <xref:System.ComponentModel.IBindingList.ListChanged> event.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4b559-131"><xref:System.ComponentModel.BindingList%601>提供的泛型实现<xref:System.ComponentModel.IBindingList>接口。</span><span class="sxs-lookup"><span data-stu-id="4b559-131">The <xref:System.ComponentModel.BindingList%601> provides a generic implementation of the <xref:System.ComponentModel.IBindingList> interface.</span></span>

- <span data-ttu-id="4b559-132"><xref:System.ComponentModel.IBindingListView> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-132"><xref:System.ComponentModel.IBindingListView> interface</span></span>

  <span data-ttu-id="4b559-133">实现的类<xref:System.ComponentModel.IBindingListView>接口提供的实现的所有功能<xref:System.ComponentModel.IBindingList>以及为筛选和高级排序功能。</span><span class="sxs-lookup"><span data-stu-id="4b559-133">A class that implements the <xref:System.ComponentModel.IBindingListView> interface provides all the functionality of an implementation of <xref:System.ComponentModel.IBindingList>, as well as filtering and advanced sorting functionality.</span></span> <span data-ttu-id="4b559-134">此实现使用属性描述符-方向对提供基于字符串的筛选和多列排序能力。</span><span class="sxs-lookup"><span data-stu-id="4b559-134">This implementation offers string-based filtering, and multicolumn sorting with property descriptor-direction pairs.</span></span>

- <span data-ttu-id="4b559-135"><xref:System.ComponentModel.IEditableObject> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-135"><xref:System.ComponentModel.IEditableObject> interface</span></span>

  <span data-ttu-id="4b559-136">实现的类<xref:System.ComponentModel.IEditableObject>接口允许对象以控制何时进行永久更改对该对象。</span><span class="sxs-lookup"><span data-stu-id="4b559-136">A class that implements the <xref:System.ComponentModel.IEditableObject> interface allows an object to control when changes to that object are made permanent.</span></span> <span data-ttu-id="4b559-137">此实现可为你提供<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>， <xref:System.ComponentModel.IEditableObject.EndEdit%2A>，和<xref:System.ComponentModel.IEditableObject.CancelEdit%2A>方法，以便你能够回滚对对象所做的更改。</span><span class="sxs-lookup"><span data-stu-id="4b559-137">This implementation affords you the <xref:System.ComponentModel.IEditableObject.BeginEdit%2A>, <xref:System.ComponentModel.IEditableObject.EndEdit%2A>, and <xref:System.ComponentModel.IEditableObject.CancelEdit%2A> methods, which enable you to roll back changes made to the object.</span></span> <span data-ttu-id="4b559-138">下面是简要解释的正常运行<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>， <xref:System.ComponentModel.IEditableObject.EndEdit%2A>，和<xref:System.ComponentModel.IEditableObject.CancelEdit%2A>方法以及它们如何协同工作以启用对数据所做的更改可能回滚中工作：</span><span class="sxs-lookup"><span data-stu-id="4b559-138">Following is a brief explanation of the functioning of the <xref:System.ComponentModel.IEditableObject.BeginEdit%2A>, <xref:System.ComponentModel.IEditableObject.EndEdit%2A>, and <xref:System.ComponentModel.IEditableObject.CancelEdit%2A> methods and how they work in conjunction with one another to enable a possible rollback of changes made to the data:</span></span>

  - <span data-ttu-id="4b559-139"><xref:System.ComponentModel.IEditableObject.BeginEdit%2A>方法表示对象上编辑操作的开始。</span><span class="sxs-lookup"><span data-stu-id="4b559-139">The <xref:System.ComponentModel.IEditableObject.BeginEdit%2A> method signals the start of an edit on an object.</span></span> <span data-ttu-id="4b559-140">实现此接口的对象需要存储任何更新之后<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>中，可以放弃所更新的方式的方法调用如果<xref:System.ComponentModel.IEditableObject.CancelEdit%2A>调用方法。</span><span class="sxs-lookup"><span data-stu-id="4b559-140">An object that implements this interface will need to store any updates after the <xref:System.ComponentModel.IEditableObject.BeginEdit%2A> method call in such a way that the updates can be discarded if the <xref:System.ComponentModel.IEditableObject.CancelEdit%2A> method is called.</span></span> <span data-ttu-id="4b559-141">在数据绑定 Windows 窗体，您可以调用<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>多次的单个作用域内编辑事务 (例如， <xref:System.ComponentModel.IEditableObject.BeginEdit%2A>， <xref:System.ComponentModel.IEditableObject.BeginEdit%2A>， <xref:System.ComponentModel.IEditableObject.EndEdit%2A>)。</span><span class="sxs-lookup"><span data-stu-id="4b559-141">In data binding Windows Forms, you can call <xref:System.ComponentModel.IEditableObject.BeginEdit%2A> multiple times within the scope of a single edit transaction (for example, <xref:System.ComponentModel.IEditableObject.BeginEdit%2A>, <xref:System.ComponentModel.IEditableObject.BeginEdit%2A>, <xref:System.ComponentModel.IEditableObject.EndEdit%2A>).</span></span> <span data-ttu-id="4b559-142">实现<xref:System.ComponentModel.IEditableObject>，确定是否应跟踪<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>已调用并忽略对后续调用<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>。</span><span class="sxs-lookup"><span data-stu-id="4b559-142">Implementations of <xref:System.ComponentModel.IEditableObject> should keep track of whether <xref:System.ComponentModel.IEditableObject.BeginEdit%2A> has already been called and ignore subsequent calls to <xref:System.ComponentModel.IEditableObject.BeginEdit%2A>.</span></span> <span data-ttu-id="4b559-143">可以多次调用此方法，因为它是重要的后续调用非破坏性;也就是说，后续<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>调用不能销毁所做的或更改已保存的数据的更新在第一天<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>调用。</span><span class="sxs-lookup"><span data-stu-id="4b559-143">Because this method can be called multiple times, it is important that subsequent calls to it are nondestructive; that is, subsequent <xref:System.ComponentModel.IEditableObject.BeginEdit%2A> calls cannot destroy the updates that have been made or change the data that was saved on the first <xref:System.ComponentModel.IEditableObject.BeginEdit%2A> call.</span></span>

  - <span data-ttu-id="4b559-144"><xref:System.ComponentModel.IEditableObject.EndEdit%2A>方法将推送之后的任何更改<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>当前编辑模式的对象是否调用到基础对象。</span><span class="sxs-lookup"><span data-stu-id="4b559-144">The <xref:System.ComponentModel.IEditableObject.EndEdit%2A> method pushes any changes since <xref:System.ComponentModel.IEditableObject.BeginEdit%2A> was called into the underlying object, if the object is currently in edit mode.</span></span>

  - <span data-ttu-id="4b559-145"><xref:System.ComponentModel.IEditableObject.CancelEdit%2A>方法会放弃对对象所做的任何更改。</span><span class="sxs-lookup"><span data-stu-id="4b559-145">The <xref:System.ComponentModel.IEditableObject.CancelEdit%2A> method discards any changes made to the object.</span></span>

  <span data-ttu-id="4b559-146">详细了解如何<xref:System.ComponentModel.IEditableObject.BeginEdit%2A>， <xref:System.ComponentModel.IEditableObject.EndEdit%2A>，并<xref:System.ComponentModel.IEditableObject.CancelEdit%2A>方法起作用，请参阅[将数据保存回数据库](/visualstudio/data-tools/save-data-back-to-the-database)。</span><span class="sxs-lookup"><span data-stu-id="4b559-146">For more information about how the <xref:System.ComponentModel.IEditableObject.BeginEdit%2A>, <xref:System.ComponentModel.IEditableObject.EndEdit%2A>, and <xref:System.ComponentModel.IEditableObject.CancelEdit%2A> methods work, see [Save data back to the database](/visualstudio/data-tools/save-data-back-to-the-database).</span></span>

  <span data-ttu-id="4b559-147">这种事务性概念的数据功能由<xref:System.Windows.Forms.DataGridView>控件。</span><span class="sxs-lookup"><span data-stu-id="4b559-147">This transactional notion of data functionality is used by the <xref:System.Windows.Forms.DataGridView> control.</span></span>

- <span data-ttu-id="4b559-148"><xref:System.ComponentModel.ICancelAddNew> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-148"><xref:System.ComponentModel.ICancelAddNew> interface</span></span>

  <span data-ttu-id="4b559-149">实现的类<xref:System.ComponentModel.ICancelAddNew>接口实现了通常<xref:System.ComponentModel.IBindingList>接口，并允许回滚对数据源所做的补充<xref:System.ComponentModel.IBindingList.AddNew%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="4b559-149">A class that implements the <xref:System.ComponentModel.ICancelAddNew> interface usually implements the <xref:System.ComponentModel.IBindingList> interface and allows you to roll back an addition made to the data source with the <xref:System.ComponentModel.IBindingList.AddNew%2A> method.</span></span> <span data-ttu-id="4b559-150">如果你的数据源实现<xref:System.ComponentModel.IBindingList>接口，您还应当让其实现<xref:System.ComponentModel.ICancelAddNew>接口。</span><span class="sxs-lookup"><span data-stu-id="4b559-150">If your data source implements the <xref:System.ComponentModel.IBindingList> interface, you should also have it implement the <xref:System.ComponentModel.ICancelAddNew> interface.</span></span>

- <span data-ttu-id="4b559-151"><xref:System.ComponentModel.IDataErrorInfo> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-151"><xref:System.ComponentModel.IDataErrorInfo> interface</span></span>

  <span data-ttu-id="4b559-152">实现的类<xref:System.ComponentModel.IDataErrorInfo>接口允许对象提供自定义错误信息向绑定控件：</span><span class="sxs-lookup"><span data-stu-id="4b559-152">A class that implements the <xref:System.ComponentModel.IDataErrorInfo> interface allows objects to offer custom error information to bound controls:</span></span>

  - <span data-ttu-id="4b559-153"><xref:System.ComponentModel.IDataErrorInfo.Error%2A>属性返回常规错误消息文本 （例如，"出现错误"）。</span><span class="sxs-lookup"><span data-stu-id="4b559-153">The <xref:System.ComponentModel.IDataErrorInfo.Error%2A> property returns general error message text (for example, "An error has occurred").</span></span>

  - <span data-ttu-id="4b559-154"><xref:System.ComponentModel.IDataErrorInfo.Item%2A>属性返回带有特定的错误消息的字符串列 (例如，"中的值`State`列无效，")。</span><span class="sxs-lookup"><span data-stu-id="4b559-154">The <xref:System.ComponentModel.IDataErrorInfo.Item%2A> property returns a string with the specific error message from the column (for example, "The value in the `State` column is invalid").</span></span>

- <span data-ttu-id="4b559-155"><xref:System.Collections.IEnumerable> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-155"><xref:System.Collections.IEnumerable> interface</span></span>

  <span data-ttu-id="4b559-156">实现的类<xref:System.Collections.IEnumerable>接口通常由[!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="4b559-156">A class that implements the <xref:System.Collections.IEnumerable> interface is typically consumed by [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)].</span></span> <span data-ttu-id="4b559-157">此接口的 Windows 窗体支持才可通过<xref:System.Windows.Forms.BindingSource>组件。</span><span class="sxs-lookup"><span data-stu-id="4b559-157">Windows Forms support for this interface is only available through the <xref:System.Windows.Forms.BindingSource> component.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4b559-158"><xref:System.Windows.Forms.BindingSource>组件将复制所有<xref:System.Collections.IEnumerable>出于绑定目的一个单独的列表项。</span><span class="sxs-lookup"><span data-stu-id="4b559-158">The <xref:System.Windows.Forms.BindingSource> component copies all <xref:System.Collections.IEnumerable> items into a separate list for binding purposes.</span></span>

- <span data-ttu-id="4b559-159"><xref:System.ComponentModel.ITypedList> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-159"><xref:System.ComponentModel.ITypedList> interface</span></span>

  <span data-ttu-id="4b559-160">实现的集合类<xref:System.ComponentModel.ITypedList>接口提供了控制顺序和向绑定控件公开的属性集的能力。</span><span class="sxs-lookup"><span data-stu-id="4b559-160">A collections class that implements the <xref:System.ComponentModel.ITypedList> interface provides the ability to control the order and the set of properties exposed to the bound control.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4b559-161">当您实现<xref:System.ComponentModel.ITypedList.GetItemProperties%2A>方法，和<xref:System.ComponentModel.PropertyDescriptor>数组不为 null，数组中的最后一项将描述是另一个列表项的列表属性的属性描述符。</span><span class="sxs-lookup"><span data-stu-id="4b559-161">When you implement the <xref:System.ComponentModel.ITypedList.GetItemProperties%2A> method, and the <xref:System.ComponentModel.PropertyDescriptor> array is not null, the last entry in the array will be the property descriptor that describes the list property that is another list of items.</span></span>

- <span data-ttu-id="4b559-162"><xref:System.ComponentModel.ICustomTypeDescriptor> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-162"><xref:System.ComponentModel.ICustomTypeDescriptor> interface</span></span>

  <span data-ttu-id="4b559-163">实现的类<xref:System.ComponentModel.ICustomTypeDescriptor>接口提供了有关其自身的动态信息。</span><span class="sxs-lookup"><span data-stu-id="4b559-163">A class that implements the <xref:System.ComponentModel.ICustomTypeDescriptor> interface provides dynamic information about itself.</span></span> <span data-ttu-id="4b559-164">此接口是类似于<xref:System.ComponentModel.ITypedList>，但用于对象而非列表。</span><span class="sxs-lookup"><span data-stu-id="4b559-164">This interface is similar to <xref:System.ComponentModel.ITypedList> but is used for objects rather than lists.</span></span> <span data-ttu-id="4b559-165">此接口由<xref:System.Data.DataRowView>基础行的架构。</span><span class="sxs-lookup"><span data-stu-id="4b559-165">This interface is used by <xref:System.Data.DataRowView> to project the schema of the underlying rows.</span></span> <span data-ttu-id="4b559-166">简单实现<xref:System.ComponentModel.ICustomTypeDescriptor>提供的<xref:System.ComponentModel.CustomTypeDescriptor>类。</span><span class="sxs-lookup"><span data-stu-id="4b559-166">A simple implementation of <xref:System.ComponentModel.ICustomTypeDescriptor> is provided by the <xref:System.ComponentModel.CustomTypeDescriptor> class.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4b559-167">若要支持设计时绑定到类型实现<xref:System.ComponentModel.ICustomTypeDescriptor>，该类型还必须实现<xref:System.ComponentModel.IComponent>并且存在于窗体上的实例。</span><span class="sxs-lookup"><span data-stu-id="4b559-167">To support design-time binding to types that implement <xref:System.ComponentModel.ICustomTypeDescriptor>, the type must also implement <xref:System.ComponentModel.IComponent> and exist as an instance on the Form.</span></span>

- <span data-ttu-id="4b559-168"><xref:System.ComponentModel.IListSource> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-168"><xref:System.ComponentModel.IListSource> interface</span></span>

  <span data-ttu-id="4b559-169">实现的类<xref:System.ComponentModel.IListSource>接口使非列表对象上的基于列表的绑定。</span><span class="sxs-lookup"><span data-stu-id="4b559-169">A class that implements the <xref:System.ComponentModel.IListSource> interface enables list-based binding on non-list objects.</span></span> <span data-ttu-id="4b559-170"><xref:System.ComponentModel.IListSource.GetList%2A>方法<xref:System.ComponentModel.IListSource>用于从不继承的对象返回可绑定列表<xref:System.Collections.IList>。</span><span class="sxs-lookup"><span data-stu-id="4b559-170">The <xref:System.ComponentModel.IListSource.GetList%2A> method of <xref:System.ComponentModel.IListSource> is used to return a bindable list from an object that does not inherit from <xref:System.Collections.IList>.</span></span> <span data-ttu-id="4b559-171"><xref:System.ComponentModel.IListSource> 由<xref:System.Data.DataSet>类。</span><span class="sxs-lookup"><span data-stu-id="4b559-171"><xref:System.ComponentModel.IListSource> is used by the <xref:System.Data.DataSet> class.</span></span>

- <span data-ttu-id="4b559-172"><xref:System.ComponentModel.IRaiseItemChangedEvents> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-172"><xref:System.ComponentModel.IRaiseItemChangedEvents> interface</span></span>

  <span data-ttu-id="4b559-173">实现的类<xref:System.ComponentModel.IRaiseItemChangedEvents>接口是可绑定的列表，还实现<xref:System.ComponentModel.IBindingList>接口。</span><span class="sxs-lookup"><span data-stu-id="4b559-173">A class that implements the <xref:System.ComponentModel.IRaiseItemChangedEvents> interface is a bindable list that also implements the <xref:System.ComponentModel.IBindingList> interface.</span></span> <span data-ttu-id="4b559-174">此接口用于指示类型是否引发<xref:System.ComponentModel.IBindingList.ListChanged>类型的事件<xref:System.ComponentModel.ListChangedType.ItemChanged>通过其<xref:System.ComponentModel.IRaiseItemChangedEvents.RaisesItemChangedEvents%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="4b559-174">This interface is used to indicate if your type raises <xref:System.ComponentModel.IBindingList.ListChanged> events of type <xref:System.ComponentModel.ListChangedType.ItemChanged> through its <xref:System.ComponentModel.IRaiseItemChangedEvents.RaisesItemChangedEvents%2A> property.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4b559-175">应实现<xref:System.ComponentModel.IRaiseItemChangedEvents>如果您的数据源提供的属性来列出事件转换前面所述，并与之交互<xref:System.Windows.Forms.BindingSource>组件。</span><span class="sxs-lookup"><span data-stu-id="4b559-175">You should implement the <xref:System.ComponentModel.IRaiseItemChangedEvents> if your data source provides the property to list event conversion described previously and is interacting with the <xref:System.Windows.Forms.BindingSource> component.</span></span> <span data-ttu-id="4b559-176">否则为<xref:System.Windows.Forms.BindingSource>也将执行属性来列出事件转换导致性能下降。</span><span class="sxs-lookup"><span data-stu-id="4b559-176">Otherwise, the <xref:System.Windows.Forms.BindingSource> will also perform property to list event conversion resulting in slower performance.</span></span>

- <span data-ttu-id="4b559-177"><xref:System.ComponentModel.ISupportInitialize> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-177"><xref:System.ComponentModel.ISupportInitialize> interface</span></span>

  <span data-ttu-id="4b559-178">实现的组件<xref:System.ComponentModel.ISupportInitialize>接口可利用批处理优化来设置属性并初始化共存属性。</span><span class="sxs-lookup"><span data-stu-id="4b559-178">A component that implements the <xref:System.ComponentModel.ISupportInitialize> interface takes advantages of batch optimizations for setting properties and initializing co-dependent properties.</span></span> <span data-ttu-id="4b559-179"><xref:System.ComponentModel.ISupportInitialize>包含两个方法：</span><span class="sxs-lookup"><span data-stu-id="4b559-179">The <xref:System.ComponentModel.ISupportInitialize> contains two methods:</span></span>

  - <span data-ttu-id="4b559-180"><xref:System.ComponentModel.ISupportInitialize.BeginInit%2A> 通知对象初始化即将开始。</span><span class="sxs-lookup"><span data-stu-id="4b559-180"><xref:System.ComponentModel.ISupportInitialize.BeginInit%2A> signals that object initialization is starting.</span></span>

  - <span data-ttu-id="4b559-181"><xref:System.ComponentModel.ISupportInitialize.EndInit%2A> 通知对象初始化已完成。</span><span class="sxs-lookup"><span data-stu-id="4b559-181"><xref:System.ComponentModel.ISupportInitialize.EndInit%2A> signals that object initialization is finishing.</span></span>

- <span data-ttu-id="4b559-182"><xref:System.ComponentModel.ISupportInitializeNotification> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-182"><xref:System.ComponentModel.ISupportInitializeNotification> interface</span></span>

  <span data-ttu-id="4b559-183">实现的组件<xref:System.ComponentModel.ISupportInitializeNotification>接口还实现<xref:System.ComponentModel.ISupportInitialize>接口。</span><span class="sxs-lookup"><span data-stu-id="4b559-183">A component that implements the <xref:System.ComponentModel.ISupportInitializeNotification> interface also implements the <xref:System.ComponentModel.ISupportInitialize> interface.</span></span> <span data-ttu-id="4b559-184">此接口，可以通知其他<xref:System.ComponentModel.ISupportInitialize>组件初始化已完成。</span><span class="sxs-lookup"><span data-stu-id="4b559-184">This interface allows you to notify other <xref:System.ComponentModel.ISupportInitialize> components that initialization is complete.</span></span> <span data-ttu-id="4b559-185"><xref:System.ComponentModel.ISupportInitializeNotification>接口包含两个成员：</span><span class="sxs-lookup"><span data-stu-id="4b559-185">The <xref:System.ComponentModel.ISupportInitializeNotification> interface contains two members:</span></span>

  - <span data-ttu-id="4b559-186"><xref:System.ComponentModel.ISupportInitializeNotification.IsInitialized%2A> 返回`boolean`值，该值指示是否初始化该组件。</span><span class="sxs-lookup"><span data-stu-id="4b559-186"><xref:System.ComponentModel.ISupportInitializeNotification.IsInitialized%2A> returns a `boolean` value indicating whether the component is initialized.</span></span>

  - <span data-ttu-id="4b559-187"><xref:System.ComponentModel.ISupportInitializeNotification.Initialized> 发生时<xref:System.ComponentModel.ISupportInitialize.EndInit%2A>调用。</span><span class="sxs-lookup"><span data-stu-id="4b559-187"><xref:System.ComponentModel.ISupportInitializeNotification.Initialized> occurs when <xref:System.ComponentModel.ISupportInitialize.EndInit%2A> is called.</span></span>

- <span data-ttu-id="4b559-188"><xref:System.ComponentModel.INotifyPropertyChanged> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-188"><xref:System.ComponentModel.INotifyPropertyChanged> interface</span></span>

  <span data-ttu-id="4b559-189">实现此接口的类是一个在其任何属性值更改时都会引发事件的类型。</span><span class="sxs-lookup"><span data-stu-id="4b559-189">A class that implements this interface is a type that raises an event when any of its property values change.</span></span> <span data-ttu-id="4b559-190">此接口旨在替换控件的每个属性都有一个更改事件这种模式。</span><span class="sxs-lookup"><span data-stu-id="4b559-190">This interface is designed to replace the pattern of having a change event for each property of a control.</span></span> <span data-ttu-id="4b559-191">在中使用时<xref:System.ComponentModel.BindingList%601>，业务对象应当实现<xref:System.ComponentModel.INotifyPropertyChanged>接口，BindingList\`1 会将转换<xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged>事件<xref:System.ComponentModel.BindingList%601.ListChanged>类型的事件<xref:System.ComponentModel.ListChangedType.ItemChanged>。</span><span class="sxs-lookup"><span data-stu-id="4b559-191">When used in a <xref:System.ComponentModel.BindingList%601>, a business object should implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface and the BindingList\`1 will convert <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> events to <xref:System.ComponentModel.BindingList%601.ListChanged> events of type <xref:System.ComponentModel.ListChangedType.ItemChanged>.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4b559-192">对于更改通知出现在绑定客户端和数据之间的绑定源绑定的数据源类型应是实现<xref:System.ComponentModel.INotifyPropertyChanged>接口 （首选） 或您可以提供*propertyName* `Changed`事件的绑定的类型，但您不应执行这项。</span><span class="sxs-lookup"><span data-stu-id="4b559-192">For change notification to occur in a binding between a bound client and a data source your bound data-source type should either implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface (preferred) or you can provide *propertyName*`Changed` events for the bound type, but you shouldn't do both.</span></span>

### <a name="interfaces-for-implementation-by-component-authors"></a><span data-ttu-id="4b559-193">要由组件作者实现的接口</span><span class="sxs-lookup"><span data-stu-id="4b559-193">Interfaces for Implementation by Component Authors</span></span>

<span data-ttu-id="4b559-194">下列接口设计为由 Windows 窗体数据绑定引擎使用：</span><span class="sxs-lookup"><span data-stu-id="4b559-194">The following interfaces are designed for consumption by the Windows Forms data-binding engine:</span></span>

- <span data-ttu-id="4b559-195"><xref:System.Windows.Forms.IBindableComponent> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-195"><xref:System.Windows.Forms.IBindableComponent> interface</span></span>

  <span data-ttu-id="4b559-196">实现此接口的类是支持数据绑定的非控件组件。</span><span class="sxs-lookup"><span data-stu-id="4b559-196">A class that implements this interface is a non-control component that supports data binding.</span></span> <span data-ttu-id="4b559-197">此类返回的数据绑定和绑定上下文的通过组件<xref:System.Windows.Forms.IBindableComponent.DataBindings%2A>和<xref:System.Windows.Forms.IBindableComponent.BindingContext%2A>此接口的属性。</span><span class="sxs-lookup"><span data-stu-id="4b559-197">This class returns the data bindings and binding context of the component through the <xref:System.Windows.Forms.IBindableComponent.DataBindings%2A> and <xref:System.Windows.Forms.IBindableComponent.BindingContext%2A> properties of this interface.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4b559-198">如果你的组件继承自<xref:System.Windows.Forms.Control>，不需要实现<xref:System.Windows.Forms.IBindableComponent>接口。</span><span class="sxs-lookup"><span data-stu-id="4b559-198">If your component inherits from <xref:System.Windows.Forms.Control>, you do not need to implement the <xref:System.Windows.Forms.IBindableComponent> interface.</span></span>

- <span data-ttu-id="4b559-199"><xref:System.Windows.Forms.ICurrencyManagerProvider> 接口</span><span class="sxs-lookup"><span data-stu-id="4b559-199"><xref:System.Windows.Forms.ICurrencyManagerProvider> interface</span></span>

  <span data-ttu-id="4b559-200">实现的类<xref:System.Windows.Forms.ICurrencyManagerProvider>接口是提供其自己的组件<xref:System.Windows.Forms.CurrencyManager>来管理与此特定组件关联的绑定。</span><span class="sxs-lookup"><span data-stu-id="4b559-200">A class that implements the <xref:System.Windows.Forms.ICurrencyManagerProvider> interface is a component that provides its own <xref:System.Windows.Forms.CurrencyManager> to manage the bindings associated with this particular component.</span></span> <span data-ttu-id="4b559-201">自定义权<xref:System.Windows.Forms.CurrencyManager>提供的<xref:System.Windows.Forms.ICurrencyManagerProvider.CurrencyManager%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="4b559-201">Access to the custom <xref:System.Windows.Forms.CurrencyManager> is provided by the <xref:System.Windows.Forms.ICurrencyManagerProvider.CurrencyManager%2A> property.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4b559-202">继承的类<xref:System.Windows.Forms.Control>管理绑定通过自动及其<xref:System.Windows.Forms.Control.BindingContext%2A>属性，因此，您需要实现<xref:System.Windows.Forms.ICurrencyManagerProvider>相当罕见。</span><span class="sxs-lookup"><span data-stu-id="4b559-202">A class that inherits from <xref:System.Windows.Forms.Control> manages bindings automatically through its <xref:System.Windows.Forms.Control.BindingContext%2A> property, so cases in which you need to implement the <xref:System.Windows.Forms.ICurrencyManagerProvider> are fairly rare.</span></span>

## <a name="see-also"></a><span data-ttu-id="4b559-203">请参阅</span><span class="sxs-lookup"><span data-stu-id="4b559-203">See also</span></span>

- [<span data-ttu-id="4b559-204">数据绑定和 Windows 窗体</span><span class="sxs-lookup"><span data-stu-id="4b559-204">Data Binding and Windows Forms</span></span>](data-binding-and-windows-forms.md)
- [<span data-ttu-id="4b559-205">如何：创建 Windows 窗体上的简单绑定控件</span><span class="sxs-lookup"><span data-stu-id="4b559-205">How to: Create a Simple-Bound Control on a Windows Form</span></span>](how-to-create-a-simple-bound-control-on-a-windows-form.md)
- [<span data-ttu-id="4b559-206">Windows 窗体数据绑定</span><span class="sxs-lookup"><span data-stu-id="4b559-206">Windows Forms Data Binding</span></span>](windows-forms-data-binding.md)
