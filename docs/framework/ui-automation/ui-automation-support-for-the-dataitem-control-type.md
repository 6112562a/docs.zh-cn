---
title: UI 自动化对 DataItem 控件类型的支持
ms.date: 03/30/2017
helpviewer_keywords:
- UI Automation, Data Item control type
- Data Item control type
- control types, Data Item
ms.assetid: 181708fd-2595-4c43-9abd-75811627d64c
author: Xansky
ms.author: mhopkins
ms.openlocfilehash: b738de06b04e48324436c9a454e5b5fdb52741d6
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/23/2019
ms.locfileid: "54726710"
---
# <a name="ui-automation-support-for-the-dataitem-control-type"></a><span data-ttu-id="e3e8a-102">UI 自动化对 DataItem 控件类型的支持</span><span class="sxs-lookup"><span data-stu-id="e3e8a-102">UI Automation Support for the DataItem Control Type</span></span>
> [!NOTE]
>  <span data-ttu-id="e3e8a-103">本文档适用于想要使用 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 命名空间中定义的托管 <xref:System.Windows.Automation> 类的 .NET Framework 开发人员。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-103">This documentation is intended for .NET Framework developers who want to use the managed [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] classes defined in the <xref:System.Windows.Automation> namespace.</span></span> <span data-ttu-id="e3e8a-104">有关最新信息[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]，请参阅[Windows 自动化 API:UI 自动化](https://go.microsoft.com/fwlink/?LinkID=156746)。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-104">For the latest information about [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)], see [Windows Automation API: UI Automation](https://go.microsoft.com/fwlink/?LinkID=156746).</span></span>  
  
 <span data-ttu-id="e3e8a-105">本主题介绍 DataItem 控件类型的 [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] 支持。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-105">This topic provides information about [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] support for the DataItem control type.</span></span> <span data-ttu-id="e3e8a-106">在 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 中，控件类型是一组条件，控件必须满足这些条件才能使用 <xref:System.Windows.Automation.AutomationElement.ControlTypeProperty> 属性。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-106">In [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] a control type is a set of conditions that a control must meet in order to use the <xref:System.Windows.Automation.AutomationElement.ControlTypeProperty> property.</span></span> <span data-ttu-id="e3e8a-107">这些条件包括针对 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 树结构、 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 属性值和控件模式的特定准则。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-107">The conditions include specific guidelines for [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree structure, [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] property values and control patterns.</span></span>  
  
 <span data-ttu-id="e3e8a-108">联系人列表中的条目是数据项控件的一个示例。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-108">An entry in a Contacts list is an example of a data item control.</span></span> <span data-ttu-id="e3e8a-109">数据项控件包含最终用户感兴趣的信息。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-109">A data item control contains information that is of interest to an end user.</span></span> <span data-ttu-id="e3e8a-110">它比简单列表项更复杂，因为它包含更丰富的信息。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-110">It is more complicated than the simple list item because it contains richer information.</span></span>  
  
 <span data-ttu-id="e3e8a-111">以下几节定义了 DataItem 控件类型必需的 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 树结构、属性、控件模式和事件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-111">The following sections define the required [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree structure, properties, control patterns, and events for the DataItem control type.</span></span> <span data-ttu-id="e3e8a-112">[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 要求适用于所有数据项控件，无论控件是 [!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)]、 [!INCLUDE[TLA#tla_win32](../../../includes/tlasharptla-win32-md.md)]还是 [!INCLUDE[TLA#tla_winforms](../../../includes/tlasharptla-winforms-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-112">The [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] requirements apply to all data item controls, whether [!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)], [!INCLUDE[TLA#tla_win32](../../../includes/tlasharptla-win32-md.md)], or [!INCLUDE[TLA#tla_winforms](../../../includes/tlasharptla-winforms-md.md)].</span></span>  
  
<a name="Required_UI_Automation_Tree_Structure"></a>   
## <a name="required-ui-automation-tree-structure"></a><span data-ttu-id="e3e8a-113">必需的 UI 自动化树结构</span><span class="sxs-lookup"><span data-stu-id="e3e8a-113">Required UI Automation Tree Structure</span></span>  
 <span data-ttu-id="e3e8a-114">下表描述了与数据项控件有关的 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 树的控件视图和内容视图，以及每个视图中可包含的内容。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-114">The following table depicts the control view and the content view of the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree that pertains to data item controls and describes what can be contained in each view.</span></span> <span data-ttu-id="e3e8a-115">有关 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 树的详细信息，请参阅 [UI Automation Tree Overview](../../../docs/framework/ui-automation/ui-automation-tree-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-115">For more information about the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree, see [UI Automation Tree Overview](../../../docs/framework/ui-automation/ui-automation-tree-overview.md).</span></span>  
  
|[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] <span data-ttu-id="e3e8a-116">树 - 控件视图</span><span class="sxs-lookup"><span data-stu-id="e3e8a-116">Tree - Control View</span></span>|[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] <span data-ttu-id="e3e8a-117">树 - 内容视图</span><span class="sxs-lookup"><span data-stu-id="e3e8a-117">Tree - Content View</span></span>|  
|------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|  
|<span data-ttu-id="e3e8a-118">DataItem</span><span class="sxs-lookup"><span data-stu-id="e3e8a-118">DataItem</span></span><br /><br /> <span data-ttu-id="e3e8a-119">-各不相同 (0 或更多; 可以采用层次结构)</span><span class="sxs-lookup"><span data-stu-id="e3e8a-119">-   Varies (0 or more; can be structured in hierarchy)</span></span>|<span data-ttu-id="e3e8a-120">DataItem</span><span class="sxs-lookup"><span data-stu-id="e3e8a-120">DataItem</span></span><br /><br /> <span data-ttu-id="e3e8a-121">-各不相同 (0 或更多; 可以采用层次结构)</span><span class="sxs-lookup"><span data-stu-id="e3e8a-121">-   Varies (0 or more; can be structured in hierarchy)</span></span>|  
  
 <span data-ttu-id="e3e8a-122">在数据网格中的数据项元素可以承载各种对象，包括另一层数据项或特定的网格元素（如文本、图像或编辑控件）。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-122">A data item element in a data grid can host a variety of objects, including another layer of data items, or specific grid elements such as text, images, or edit controls.</span></span> <span data-ttu-id="e3e8a-123">如果数据项元素具有特定的对象角色，该元素应作为一种特定的控件类型公开；例如，网格中可选择数据项的 ListItem 控件类型。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-123">If the data item element has a specific object role, the element should be exposed as a specific control type; for example, a ListItem control type for a selectable data item in the grid.</span></span>  
  
<a name="Required_UI_Automation_Properties"></a>   
## <a name="required-ui-automation-properties"></a><span data-ttu-id="e3e8a-124">必需的 UI 自动化属性</span><span class="sxs-lookup"><span data-stu-id="e3e8a-124">Required UI Automation Properties</span></span>  
 <span data-ttu-id="e3e8a-125">下表列出其值或定义与数据项控件尤其相关的属性。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-125">The following table lists the properties whose value or definition is especially relevant to data item controls.</span></span> <span data-ttu-id="e3e8a-126">有关 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 属性的详细信息，请参阅 [UI Automation Properties for Clients](../../../docs/framework/ui-automation/ui-automation-properties-for-clients.md)。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-126">For more information about [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] properties, see [UI Automation Properties for Clients](../../../docs/framework/ui-automation/ui-automation-properties-for-clients.md).</span></span>  
  
|<span data-ttu-id="e3e8a-127">属性</span><span class="sxs-lookup"><span data-stu-id="e3e8a-127">Property</span></span>|<span data-ttu-id="e3e8a-128">“值”</span><span class="sxs-lookup"><span data-stu-id="e3e8a-128">Value</span></span>|<span data-ttu-id="e3e8a-129">说明</span><span class="sxs-lookup"><span data-stu-id="e3e8a-129">Notes</span></span>|  
|--------------|-----------|-----------|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.AutomationIdProperty>|<span data-ttu-id="e3e8a-130">请参阅注释。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-130">See notes.</span></span>|<span data-ttu-id="e3e8a-131">此属性的值在应用程序的所有控件中都必须保持唯一。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-131">The value of this property needs to be unique across all controls in an application.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.BoundingRectangleProperty>|<span data-ttu-id="e3e8a-132">请参阅注释。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-132">See notes.</span></span>|<span data-ttu-id="e3e8a-133">包含整个控件的最外层矩形。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-133">The outermost rectangle that contains the whole control.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.ClickablePointProperty>|<span data-ttu-id="e3e8a-134">请参阅注释。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-134">See notes.</span></span>|<span data-ttu-id="e3e8a-135">如果存在边界矩形，则受支持。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-135">Supported if there is a bounding rectangle.</span></span> <span data-ttu-id="e3e8a-136">如果边界矩形中存在无法单击的点，而你要执行专门的命中测试，则重写并提供可单击的点。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-136">If not every point within the bounding rectangle is clickable, and you perform specialized hit testing, then override and provide a clickable point.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.ControlTypeProperty>|<span data-ttu-id="e3e8a-137">DataItem</span><span class="sxs-lookup"><span data-stu-id="e3e8a-137">DataItem</span></span>|<span data-ttu-id="e3e8a-138">此值对于所有 UI 框架均相同。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-138">This value is the same for all UI frameworks.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.IsContentElementProperty>|<span data-ttu-id="e3e8a-139">True</span><span class="sxs-lookup"><span data-stu-id="e3e8a-139">True</span></span>|<span data-ttu-id="e3e8a-140">数据项控件必须始终为内容。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-140">The data item control must always be content.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.IsControlElementProperty>|<span data-ttu-id="e3e8a-141">True</span><span class="sxs-lookup"><span data-stu-id="e3e8a-141">True</span></span>|<span data-ttu-id="e3e8a-142">数据项控件必须始终为控件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-142">The data item control must always be a control.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.IsKeyboardFocusableProperty>|<span data-ttu-id="e3e8a-143">请参阅注释。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-143">See notes.</span></span>|<span data-ttu-id="e3e8a-144">如果该控件可以接收键盘焦点，则它必须支持此属性。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-144">If the control can receive keyboard focus, it must support this property.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.ItemStatusProperty>|<span data-ttu-id="e3e8a-145">请参阅注释。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-145">See notes.</span></span>|<span data-ttu-id="e3e8a-146">如果控件包含正在动态更新的状态，则必须支持此属性，以便辅助技术可以在该元素的状态发生更改时接收更新。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-146">If the control contains status that is being updated dynamically then this property must be supported so that an assistive technology can receive updates when the status of the element changes.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.ItemTypeProperty>|<span data-ttu-id="e3e8a-147">请参阅注释。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-147">See notes.</span></span>|<span data-ttu-id="e3e8a-148">这是将项所表示的基础对象传达给最终用户的字符串值。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-148">This is the string value that conveys to the end user the underlying object that the item represents.</span></span> <span data-ttu-id="e3e8a-149">示例包括“媒体文件”或“联系人”。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-149">Examples are "Media File" or "Contact".</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.LabeledByProperty>|`Null`|<span data-ttu-id="e3e8a-150">数据项控件不具有静态文本标签。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-150">Data item controls do not have a static text label.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.LocalizedControlTypeProperty>|<span data-ttu-id="e3e8a-151">“数据项”</span><span class="sxs-lookup"><span data-stu-id="e3e8a-151">"data item"</span></span>|<span data-ttu-id="e3e8a-152">与 DataItem 控件类型相对应的本地化字符串。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-152">Localized string corresponding to the DataItem control type.</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.NameProperty>|<span data-ttu-id="e3e8a-153">请参阅注释。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-153">See notes.</span></span>|<span data-ttu-id="e3e8a-154">数据项控件始终包含与用户希望作为项的大多数语义标识符关联的内容相关的主要文本元素。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-154">The data item control always contains a primary text element that relates to what the user would associate as the most semantic identifier for the item.</span></span>|  
  
<a name="_Required_UI_Automation_Control_Patterns"></a>   
## <a name="required-ui-automation-control-patterns"></a><span data-ttu-id="e3e8a-155">必需的 UI 自动化控件模式</span><span class="sxs-lookup"><span data-stu-id="e3e8a-155">Required UI Automation Control Patterns</span></span>  
 <span data-ttu-id="e3e8a-156">下表列出需要由所有数据项控件支持的 [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] 控件模式。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-156">The following table lists the [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] control patterns required to be supported by all data item controls.</span></span> <span data-ttu-id="e3e8a-157">有关控件模式的详细信息，请参阅 [UI Automation Control Patterns Overview](../../../docs/framework/ui-automation/ui-automation-control-patterns-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-157">For more information about control patterns, see [UI Automation Control Patterns Overview](../../../docs/framework/ui-automation/ui-automation-control-patterns-overview.md).</span></span>  
  
|<span data-ttu-id="e3e8a-158">控件模式</span><span class="sxs-lookup"><span data-stu-id="e3e8a-158">Control Pattern</span></span>|<span data-ttu-id="e3e8a-159">支持</span><span class="sxs-lookup"><span data-stu-id="e3e8a-159">Support</span></span>|<span data-ttu-id="e3e8a-160">说明</span><span class="sxs-lookup"><span data-stu-id="e3e8a-160">Notes</span></span>|  
|---------------------|-------------|-----------|  
|<xref:System.Windows.Automation.Provider.IExpandCollapseProvider>|<span data-ttu-id="e3e8a-161">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-161">Depends</span></span>|<span data-ttu-id="e3e8a-162">如果可以展开或折叠数据项以显示和隐藏信息，则必须支持展开/折叠模式。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-162">If the data item can be expanded or collapsed to show and hide information, the Expand Collapse pattern must be supported.</span></span>|  
|<xref:System.Windows.Automation.Provider.IGridItemProvider>|<span data-ttu-id="e3e8a-163">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-163">Depends</span></span>|<span data-ttu-id="e3e8a-164">当数据项的集合在空间上可以逐项导航的容器内可用时，数据项将支持网格项模式。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-164">Data items will support the Grid Item pattern when a collection of data items is available within a container that can be spatially navigated item-to-item.</span></span>|  
|<xref:System.Windows.Automation.Provider.IScrollItemProvider>|<span data-ttu-id="e3e8a-165">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-165">Depends</span></span>|<span data-ttu-id="e3e8a-166">所有数据项在其数据容器内的项比适合屏幕的项多时，支持滚动到视图的功能。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-166">All data items support the ability to be scrolled into view with the Scroll Item pattern when their data container has more items than can fit on the screen.</span></span>|  
|<xref:System.Windows.Automation.Provider.ISelectionItemProvider>|<span data-ttu-id="e3e8a-167">是</span><span class="sxs-lookup"><span data-stu-id="e3e8a-167">Yes</span></span>|<span data-ttu-id="e3e8a-168">所有数据项必须支持选择项模式以指示何时选定项。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-168">All data items must support the Selection Item pattern to indicate when the item is selected.</span></span>|  
|<xref:System.Windows.Automation.Provider.ITableItemProvider>|<span data-ttu-id="e3e8a-169">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-169">Depends</span></span>|<span data-ttu-id="e3e8a-170">如果数据项包含在数据网格控件类型内，则它将支持此模式。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-170">If the data item is contained within a Data Grid control type then it will support this pattern.</span></span>|  
|<xref:System.Windows.Automation.Provider.IToggleProvider>|<span data-ttu-id="e3e8a-171">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-171">Depends</span></span>|<span data-ttu-id="e3e8a-172">如果数据项包含可以重复循环的状态。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-172">If the data item contains a state that can be cycled through.</span></span>|  
|<xref:System.Windows.Automation.Provider.IValueProvider>|<span data-ttu-id="e3e8a-173">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-173">Depends</span></span>|<span data-ttu-id="e3e8a-174">如果数据项的主文本是可编辑的，则必须支持 Value 模式。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-174">If the data item's primary text is editable then the Value pattern must be supported.</span></span>|  
  
<a name="Working_with_Data_Items_in_Large_Lists"></a>   
## <a name="working-with-data-items-in-large-lists"></a><span data-ttu-id="e3e8a-175">使用大型列表中的数据项</span><span class="sxs-lookup"><span data-stu-id="e3e8a-175">Working with Data Items in Large Lists</span></span>  
 <span data-ttu-id="e3e8a-176">大型列表通常是 [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] 框架内帮助提高性能的已虚拟化数据。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-176">Large lists are often data virtualized within [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] frameworks to assist in performance.</span></span> <span data-ttu-id="e3e8a-177">因此，UI 自动化客户端不能使用 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 查询功能以在其他项容器中的方式来擦除完整树的内容。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-177">Due to this, a UI Automation client cannot use the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] query feature to scrape the contents of the full tree in the same way that it can in other item containers.</span></span> <span data-ttu-id="e3e8a-178">客户端应该将项滚动到视图（或展开控件以显示所有有价值的选项），然后才从数据项访问完整的信息。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-178">A client should scroll the item into view (or expand the control to show all valuable options)prior to accessing the full set of information from the data item.</span></span>  
  
 <span data-ttu-id="e3e8a-179">在调用数据项的 `SetFocus` 元素上的 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 时， [!INCLUDE[TLA#tla_winexpl](../../../includes/tlasharptla-winexpl-md.md)] 用例将成功返回，并将焦点设置为数据项子树内的“编辑”。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-179">When calling `SetFocus` on the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] element for the data item, the [!INCLUDE[TLA#tla_winexpl](../../../includes/tlasharptla-winexpl-md.md)] case will return successfully and cause focus to be set to the Edit within the data item subtree.</span></span>  
  
<a name="Required_UI_Automation_Events"></a>   
## <a name="required-ui-automation-events"></a><span data-ttu-id="e3e8a-180">必需的 UI 自动化事件</span><span class="sxs-lookup"><span data-stu-id="e3e8a-180">Required UI Automation Events</span></span>  
 <span data-ttu-id="e3e8a-181">下表列出需要由所有数据项控件支持的 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 事件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-181">The following table lists the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] events required to be supported by all data item controls.</span></span> <span data-ttu-id="e3e8a-182">有关事件的详细信息，请参阅 [F:System.Windows.Automation.AutomationElementIdentifiers.IsEnabledProperty](../../../docs/framework/ui-automation/ui-automation-events-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-182">For more information about events, see [UI Automation Events Overview](../../../docs/framework/ui-automation/ui-automation-events-overview.md).</span></span>  
  
|[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] <span data-ttu-id="e3e8a-183">事件</span><span class="sxs-lookup"><span data-stu-id="e3e8a-183">Event</span></span>|<span data-ttu-id="e3e8a-184">支持</span><span class="sxs-lookup"><span data-stu-id="e3e8a-184">Support</span></span>|<span data-ttu-id="e3e8a-185">说明</span><span class="sxs-lookup"><span data-stu-id="e3e8a-185">Notes</span></span>|  
|---------------------------------------------------------------------------------|-------------|-----------|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.AutomationFocusChangedEvent>|<span data-ttu-id="e3e8a-186">必需</span><span class="sxs-lookup"><span data-stu-id="e3e8a-186">Required</span></span>|<span data-ttu-id="e3e8a-187">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-187">None</span></span>|  
|<span data-ttu-id="e3e8a-188"><xref:System.Windows.Automation.AutomationElementIdentifiers.BoundingRectangleProperty> 属性更改事件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-188"><xref:System.Windows.Automation.AutomationElementIdentifiers.BoundingRectangleProperty> property-changed event.</span></span>|<span data-ttu-id="e3e8a-189">必需</span><span class="sxs-lookup"><span data-stu-id="e3e8a-189">Required</span></span>|<span data-ttu-id="e3e8a-190">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-190">None</span></span>|  
|<span data-ttu-id="e3e8a-191"><xref:System.Windows.Automation.AutomationElementIdentifiers.IsEnabledProperty> 属性更改事件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-191"><xref:System.Windows.Automation.AutomationElementIdentifiers.IsEnabledProperty> property-changed event.</span></span>|<span data-ttu-id="e3e8a-192">必需</span><span class="sxs-lookup"><span data-stu-id="e3e8a-192">Required</span></span>|<span data-ttu-id="e3e8a-193">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-193">None</span></span>|  
|<span data-ttu-id="e3e8a-194"><xref:System.Windows.Automation.AutomationElementIdentifiers.IsOffscreenProperty> 属性更改事件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-194"><xref:System.Windows.Automation.AutomationElementIdentifiers.IsOffscreenProperty> property-changed event.</span></span>|<span data-ttu-id="e3e8a-195">必需</span><span class="sxs-lookup"><span data-stu-id="e3e8a-195">Required</span></span>|<span data-ttu-id="e3e8a-196">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-196">None</span></span>|  
|<span data-ttu-id="e3e8a-197"><xref:System.Windows.Automation.AutomationElementIdentifiers.NameProperty> 属性更改事件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-197"><xref:System.Windows.Automation.AutomationElementIdentifiers.NameProperty> property-changed event.</span></span>|<span data-ttu-id="e3e8a-198">必需</span><span class="sxs-lookup"><span data-stu-id="e3e8a-198">Required</span></span>|<span data-ttu-id="e3e8a-199">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-199">None</span></span>|  
|<xref:System.Windows.Automation.AutomationElementIdentifiers.StructureChangedEvent>|<span data-ttu-id="e3e8a-200">必需</span><span class="sxs-lookup"><span data-stu-id="e3e8a-200">Required</span></span>|<span data-ttu-id="e3e8a-201">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-201">None</span></span>|  
|<xref:System.Windows.Automation.InvokePatternIdentifiers.InvokedEvent>|<span data-ttu-id="e3e8a-202">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-202">Depends</span></span>|<span data-ttu-id="e3e8a-203">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-203">None</span></span>|  
|<span data-ttu-id="e3e8a-204"><xref:System.Windows.Automation.ExpandCollapsePatternIdentifiers.ExpandCollapseStateProperty> 属性更改事件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-204"><xref:System.Windows.Automation.ExpandCollapsePatternIdentifiers.ExpandCollapseStateProperty> property-changed event.</span></span>|<span data-ttu-id="e3e8a-205">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-205">Depends</span></span>|<span data-ttu-id="e3e8a-206">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-206">None</span></span>|  
|<xref:System.Windows.Automation.SelectionItemPatternIdentifiers.ElementAddedToSelectionEvent>|<span data-ttu-id="e3e8a-207">必需</span><span class="sxs-lookup"><span data-stu-id="e3e8a-207">Required</span></span>|<span data-ttu-id="e3e8a-208">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-208">None</span></span>|  
|<xref:System.Windows.Automation.SelectionItemPatternIdentifiers.ElementRemovedFromSelectionEvent>|<span data-ttu-id="e3e8a-209">必需</span><span class="sxs-lookup"><span data-stu-id="e3e8a-209">Required</span></span>|<span data-ttu-id="e3e8a-210">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-210">None</span></span>|  
|<xref:System.Windows.Automation.SelectionItemPatternIdentifiers.ElementSelectedEvent>|<span data-ttu-id="e3e8a-211">必需</span><span class="sxs-lookup"><span data-stu-id="e3e8a-211">Required</span></span>|<span data-ttu-id="e3e8a-212">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-212">None</span></span>|  
|<span data-ttu-id="e3e8a-213"><xref:System.Windows.Automation.TogglePatternIdentifiers.ToggleStateProperty> 属性更改事件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-213"><xref:System.Windows.Automation.TogglePatternIdentifiers.ToggleStateProperty> property-changed event.</span></span>|<span data-ttu-id="e3e8a-214">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-214">Depends</span></span>|<span data-ttu-id="e3e8a-215">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-215">None</span></span>|  
|<span data-ttu-id="e3e8a-216"><xref:System.Windows.Automation.ValuePatternIdentifiers.ValueProperty> 属性更改事件。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-216"><xref:System.Windows.Automation.ValuePatternIdentifiers.ValueProperty> property-changed event.</span></span>|<span data-ttu-id="e3e8a-217">视情况而定</span><span class="sxs-lookup"><span data-stu-id="e3e8a-217">Depends</span></span>|<span data-ttu-id="e3e8a-218">无</span><span class="sxs-lookup"><span data-stu-id="e3e8a-218">None</span></span>|  
  
<a name="Data_Item_Control_Type_Example"></a>   
## <a name="dataitem-control-type-example"></a><span data-ttu-id="e3e8a-219">DataItem 控件类型示例</span><span class="sxs-lookup"><span data-stu-id="e3e8a-219">DataItem Control Type Example</span></span>  
 <span data-ttu-id="e3e8a-220">下图说明了列表视图控件中的 DataItem 控件类型，其支持丰富的列表信息。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-220">The following image illustrates a DataItem control type in a List View control with support for rich information for the columns.</span></span>  
  
 <span data-ttu-id="e3e8a-221">![具有两个数据项的列表视图控件的图形](../../../docs/framework/ui-automation/media/uiauto-data-grid-detailed.GIF "uiauto_data_grid_detailed")</span><span class="sxs-lookup"><span data-stu-id="e3e8a-221">![Graphic of a List View control with two data items](../../../docs/framework/ui-automation/media/uiauto-data-grid-detailed.GIF "uiauto_data_grid_detailed")</span></span>  
  
 <span data-ttu-id="e3e8a-222">与数据项控件相关的 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 树的控件视图和内容视图如下所示。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-222">The Control View and the Content View of the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree that pertains to the data item control is displayed below.</span></span> <span data-ttu-id="e3e8a-223">每个自动化元素的控件模式均显示在括号中。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-223">The control patterns for each automation element are shown in parentheses.</span></span> <span data-ttu-id="e3e8a-224">“Contoso”组也是数据网格宿主控件的网格的一部分。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-224">The Group "Contoso" is also part of the grid of the Data Grid host control.</span></span>  
  
|[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] <span data-ttu-id="e3e8a-225">树 - 控件视图</span><span class="sxs-lookup"><span data-stu-id="e3e8a-225">Tree - Control View</span></span>|[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] <span data-ttu-id="e3e8a-226">树 - 内容视图</span><span class="sxs-lookup"><span data-stu-id="e3e8a-226">Tree - Content View</span></span>|  
|------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|  
|<span data-ttu-id="e3e8a-227">-组"Contoso"（表、 网格）</span><span class="sxs-lookup"><span data-stu-id="e3e8a-227">-   Group "Contoso" (Table, Grid)</span></span><br /><span data-ttu-id="e3e8a-228">-DataItem"Accounts Receivable.doc"(TableItem、 GridItem、 SelectionItem、 Invoke)</span><span class="sxs-lookup"><span data-stu-id="e3e8a-228">-   DataItem "Accounts Receivable.doc" (TableItem, GridItem, SelectionItem, Invoke)</span></span><br /><span data-ttu-id="e3e8a-229">-图像"Accounts Receivable.doc"</span><span class="sxs-lookup"><span data-stu-id="e3e8a-229">-   Image "Accounts Receivable.doc"</span></span><br /><span data-ttu-id="e3e8a-230">-编辑"Name"(TableItem、 GridItem、 Value"Accounts Receivable.doc")</span><span class="sxs-lookup"><span data-stu-id="e3e8a-230">-   Edit "Name" (TableItem, GridItem, Value "Accounts Receivable.doc")</span></span><br /><span data-ttu-id="e3e8a-231">-编辑"修改日期"(TableItem、 GridItem、 Value"8/25/2006年 3:29 PM")</span><span class="sxs-lookup"><span data-stu-id="e3e8a-231">-   Edit "Date modified" (TableItem, GridItem, Value "8/25/2006 3:29 PM")</span></span><br /><span data-ttu-id="e3e8a-232">-编辑"大小"(GridItem、 TableItem、 Value"11.0 KB)</span><span class="sxs-lookup"><span data-stu-id="e3e8a-232">-   Edit "Size" (GridItem, TableItem, Value "11.0 KB)</span></span><br /><span data-ttu-id="e3e8a-233">-DataItem"Accounts Payable.doc"(TableItem、 GridItem、 SelectionItem、 Invoke)</span><span class="sxs-lookup"><span data-stu-id="e3e8a-233">-   DataItem "Accounts Payable.doc" (TableItem, GridItem, SelectionItem, Invoke)</span></span><br /><span data-ttu-id="e3e8a-234">-   ...</span><span class="sxs-lookup"><span data-stu-id="e3e8a-234">-   ...</span></span>|<span data-ttu-id="e3e8a-235">-组"Contoso"（表、 网格）</span><span class="sxs-lookup"><span data-stu-id="e3e8a-235">-   Group "Contoso" (Table, Grid)</span></span><br /><span data-ttu-id="e3e8a-236">-DataItem"Accounts Receivable.doc"(TableItem、 GridItem、 SelectionItem、 Invoke)</span><span class="sxs-lookup"><span data-stu-id="e3e8a-236">-   DataItem "Accounts Receivable.doc" (TableItem, GridItem, SelectionItem, Invoke)</span></span><br /><span data-ttu-id="e3e8a-237">-图像"Accounts Receivable.doc"</span><span class="sxs-lookup"><span data-stu-id="e3e8a-237">-   Image "Accounts Receivable.doc"</span></span><br /><span data-ttu-id="e3e8a-238">-编辑"Name"(TableItem、 GridItem、 Value"Accounts Receivable.doc")</span><span class="sxs-lookup"><span data-stu-id="e3e8a-238">-   Edit "Name" (TableItem, GridItem, Value "Accounts Receivable.doc")</span></span><br /><span data-ttu-id="e3e8a-239">-编辑"修改日期"(TableItem、 GridItem、 Value"8/25/2006年 3:29 PM")</span><span class="sxs-lookup"><span data-stu-id="e3e8a-239">-   Edit "Date modified" (TableItem, GridItem, Value "8/25/2006 3:29 PM")</span></span><br /><span data-ttu-id="e3e8a-240">-编辑"大小"(GridItem、 TableItem、 Value"11.0 KB)</span><span class="sxs-lookup"><span data-stu-id="e3e8a-240">-   Edit "Size" (GridItem, TableItem, Value "11.0 KB)</span></span><br /><span data-ttu-id="e3e8a-241">-DataItem"Accounts Payable.doc"(TableItem、 GridItem、 SelectionItem、 Invoke)</span><span class="sxs-lookup"><span data-stu-id="e3e8a-241">-   DataItem "Accounts Payable.doc" (TableItem, GridItem, SelectionItem, Invoke)</span></span><br /><span data-ttu-id="e3e8a-242">-   …</span><span class="sxs-lookup"><span data-stu-id="e3e8a-242">-   …</span></span>|  
  
 <span data-ttu-id="e3e8a-243">如果一个网格表示可选择项的列表，则可以使用 ListItem 控件类型而不是 DataItem 控件类型公开相应的 UI 元素。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-243">If a grid represents a list of selectable items, the corresponding UI elements can be exposed with the ListItem control type instead of the DataItem control type.</span></span> <span data-ttu-id="e3e8a-244">在前面的示例中，可以通过将组（“Contoso”）下的 DataItem 元素（“Accounts Receivable.doc”和“Accounts Payable.doc”）作为 ListItem 控件类型公开来对其进行改进，因为该类型已支持 SelectionItem 控件模式。</span><span class="sxs-lookup"><span data-stu-id="e3e8a-244">In the preceding example, the DataItem elements ("Accounts Receivable.doc" and "Accounts Payable.doc") under Group ("Contoso") can be improved by exposing them as ListItem control types because that type already supports the SelectionItem control pattern.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e3e8a-245">请参阅</span><span class="sxs-lookup"><span data-stu-id="e3e8a-245">See also</span></span>
- <xref:System.Windows.Automation.ControlType.DataItem>
- [<span data-ttu-id="e3e8a-246">UI 自动化控件类型概述</span><span class="sxs-lookup"><span data-stu-id="e3e8a-246">UI Automation Control Types Overview</span></span>](../../../docs/framework/ui-automation/ui-automation-control-types-overview.md)
- [<span data-ttu-id="e3e8a-247">UI 自动化概述</span><span class="sxs-lookup"><span data-stu-id="e3e8a-247">UI Automation Overview</span></span>](../../../docs/framework/ui-automation/ui-automation-overview.md)
