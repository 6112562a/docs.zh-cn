---
title: 规划应用程序性能
ms.date: 03/30/2017
helpviewer_keywords:
- applications [WPF], optimizing
- WPF application [WPF], optimizing
ms.assetid: c91bd0c5-a193-46ff-9da1-eb7a3a76a3b3
ms.openlocfilehash: 3fadba2fe8036fc558e18f80bd7cb1ffc977b762
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/23/2019
ms.locfileid: "54632109"
---
# <a name="planning-for-application-performance"></a><span data-ttu-id="f5f2f-102">规划应用程序性能</span><span class="sxs-lookup"><span data-stu-id="f5f2f-102">Planning for Application Performance</span></span>
<span data-ttu-id="f5f2f-103">实现性能目标的成功取决于如何开发您性能的策略。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-103">The success of achieving your performance goals depends on how well you develop your performance strategy.</span></span> <span data-ttu-id="f5f2f-104">规划是在开发的任何产品的第一个阶段。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-104">Planning is the first stage in developing any product.</span></span> <span data-ttu-id="f5f2f-105">本主题介绍一些非常简单规则可用于开发良好的性能策略。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-105">This topic describes a few very simple rules for developing a good performance strategy.</span></span>  
  
## <a name="think-in-terms-of-scenarios"></a><span data-ttu-id="f5f2f-106">方案会想到</span><span class="sxs-lookup"><span data-stu-id="f5f2f-106">Think in Terms of Scenarios</span></span>  
 <span data-ttu-id="f5f2f-107">方案可帮助你专注于你的应用程序的关键组件。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-107">Scenarios can help you focus on the critical components of your application.</span></span> <span data-ttu-id="f5f2f-108">方案通常派生自你的客户，以及竞争对手的产品。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-108">Scenarios are generally derived from your customers, as well as competitive products.</span></span> <span data-ttu-id="f5f2f-109">始终研究你的客户，并找出真正让他们高兴您的产品和竞争对手的产品。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-109">Always study your customers and find out what really makes them excited about your product, and your competitors' products.</span></span> <span data-ttu-id="f5f2f-110">客户的反馈可以帮助您确定应用程序的主要方案。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-110">Your customers' feedback can help you to determine your application's primary scenario.</span></span> <span data-ttu-id="f5f2f-111">例如，如果您要设计一个组件，将使用在启动时，很可能，在应用程序启动时只有一次调用该组件。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-111">For instance, if you are designing a component that will be used at startup, it is likely that the component will be called only once, when the application starts up.</span></span> <span data-ttu-id="f5f2f-112">启动时间将成为你的密钥方案。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-112">Startup time becomes your key scenario.</span></span> <span data-ttu-id="f5f2f-113">关键方案的其他示例可能是所需的帧速率对于动画序列，或最大工作集允许的应用程序。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-113">Other examples of key scenarios could be the desired frame rate for animation sequences, or the maximum working set allowed for the application.</span></span>  
  
## <a name="define-goals"></a><span data-ttu-id="f5f2f-114">定义目标</span><span class="sxs-lookup"><span data-stu-id="f5f2f-114">Define Goals</span></span>  
 <span data-ttu-id="f5f2f-115">目标可帮助您确定应用程序的性能加快或减慢。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-115">Goals help you to determine whether an application is performing faster or slower.</span></span> <span data-ttu-id="f5f2f-116">应为每个方案定义目标。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-116">You should define goals for all of your scenarios.</span></span> <span data-ttu-id="f5f2f-117">您定义的所有性能目标应都基于客户的预期。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-117">All performance goals that you define should be based on your customers' expectations.</span></span> <span data-ttu-id="f5f2f-118">它可能很难制定性能在早期目标应用程序开发周期，仍有很多未解决的问题。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-118">It may be difficult to set performance goals early on in the application development cycle, when there are still many unresolved issues.</span></span> <span data-ttu-id="f5f2f-119">但是，最好设置一个初始目标和更高版本而不是将一个目标根本修改。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-119">However, it is better to set an initial goal and revise it later than not to have a goal at all.</span></span>  
  
## <a name="understand-your-platform"></a><span data-ttu-id="f5f2f-120">了解你的平台</span><span class="sxs-lookup"><span data-stu-id="f5f2f-120">Understand Your Platform</span></span>  
 <span data-ttu-id="f5f2f-121">始终保持度量、 调查、 在应用程序开发周期中简化/更正的周期。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-121">Always maintain the cycle of measuring, investigating, refining/correcting during your application development cycle.</span></span> <span data-ttu-id="f5f2f-122">从开始到开发周期结束时，需要可靠、 稳定的环境中的应用程序的性能进行测量。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-122">From the beginning to the end of the development cycle, you need to measure your application's performance in a reliable, stable environment.</span></span> <span data-ttu-id="f5f2f-123">应避免通过外部因素造成的变化。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-123">You should avoid variability caused by external factors.</span></span> <span data-ttu-id="f5f2f-124">例如，测试性能时，应禁用防病毒软件或任何自动更新功能 （如 SMS)，顺序不会对性能造成影响的测试结果。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-124">For example, when testing performance, you should disable anti-virus or any automatic update such as SMS, in order not to impact performance test results.</span></span> <span data-ttu-id="f5f2f-125">你已经度量出应用程序的性能，需要标识将导致最大的改进的更改。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-125">Once you have measured your application's performance, you need to identify the changes that will result in the biggest improvements.</span></span> <span data-ttu-id="f5f2f-126">一次修改了你的应用程序，再次启动该周期。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-126">Once you have modified your application, start the cycle again.</span></span>  
  
## <a name="make-performance-tuning-an-iterative-process"></a><span data-ttu-id="f5f2f-127">进行性能优化一个迭代过程</span><span class="sxs-lookup"><span data-stu-id="f5f2f-127">Make Performance Tuning an Iterative Process</span></span>  
 <span data-ttu-id="f5f2f-128">您应该知道将使用每个功能的相对成本。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-128">You should know the relative cost of each feature you will use.</span></span> <span data-ttu-id="f5f2f-129">例如，Microsoft.NET Framework 中对反射的使用通常是占用大量的计算资源，因此要明智地使用它。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-129">For example, the use of reflection in Microsoft .NET Framework is generally performance intensive in terms of computing resources, so you would want to use it judiciously.</span></span> <span data-ttu-id="f5f2f-130">这并不意味着若要避免使用反射，仅，你应该注意平衡应用程序的性能要求，你使用的功能的性能要求。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-130">This does not mean to avoid the use of reflection, only that you should be careful to balance the performance requirements of your application with the performance demands of the features you use.</span></span>  
  
## <a name="build-towards-graphical-richness"></a><span data-ttu-id="f5f2f-131">生成大量图形的内容</span><span class="sxs-lookup"><span data-stu-id="f5f2f-131">Build Towards Graphical Richness</span></span>  
 <span data-ttu-id="f5f2f-132">创建对实现可缩放方法的一项关键技术[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]应用程序的性能是构建出图形的丰富性和复杂性。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-132">A key technique for creating a scalable approach towards achieving [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application performance is to build towards graphical richness and complexity.</span></span> <span data-ttu-id="f5f2f-133">始终使用最少的性能密集型资源来实现您的方案的目标开始。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-133">Always start with using the least performance intensive resources to achieve your scenario goals.</span></span> <span data-ttu-id="f5f2f-134">后实现这些目标，请使用更多性能密集型功能，始终记住你方案的目标构建出图形丰富功能。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-134">Once you achieve these goals, build towards graphic richness by using more performance intensive features, always keeping your scenario goals in mind.</span></span> <span data-ttu-id="f5f2f-135">请记住，[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]是一个非常丰富的平台，提供了非常丰富的图形功能。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-135">Remember, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is a very rich platform and provides very rich graphic features.</span></span> <span data-ttu-id="f5f2f-136">使用无需多想性能密集型功能可以对应用程序总体性能产生负面影响。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-136">Using performance intensive features without thinking can negatively impact your overall application performance.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="f5f2f-137">控件是本质上是可扩展的从而对广泛自定义其外观，而不修改其控件行为。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-137">controls are inherently extensible by allowing for wide-spread customization of their appearance, while not altering their control behavior.</span></span> <span data-ttu-id="f5f2f-138">通过利用样式、 数据模板和控件模板，可以创建并以增量方式发展可自定义[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]的适应你的性能要求。</span><span class="sxs-lookup"><span data-stu-id="f5f2f-138">By taking advantage of styles, data templates, and control templates, you can create and incrementally evolve a customizable [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] that adapts to your performance requirements.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f5f2f-139">请参阅</span><span class="sxs-lookup"><span data-stu-id="f5f2f-139">See also</span></span>
- [<span data-ttu-id="f5f2f-140">优化 WPF 应用程序性能</span><span class="sxs-lookup"><span data-stu-id="f5f2f-140">Optimizing WPF Application Performance</span></span>](../../../../docs/framework/wpf/advanced/optimizing-wpf-application-performance.md)
- [<span data-ttu-id="f5f2f-141">利用硬件</span><span class="sxs-lookup"><span data-stu-id="f5f2f-141">Taking Advantage of Hardware</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-taking-advantage-of-hardware.md)
- [<span data-ttu-id="f5f2f-142">布局和示例</span><span class="sxs-lookup"><span data-stu-id="f5f2f-142">Layout and Design</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-layout-and-design.md)
- [<span data-ttu-id="f5f2f-143">2D 图形和图像处理</span><span class="sxs-lookup"><span data-stu-id="f5f2f-143">2D Graphics and Imaging</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="f5f2f-144">对象行为</span><span class="sxs-lookup"><span data-stu-id="f5f2f-144">Object Behavior</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-object-behavior.md)
- [<span data-ttu-id="f5f2f-145">应用程序资源</span><span class="sxs-lookup"><span data-stu-id="f5f2f-145">Application Resources</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-application-resources.md)
- [<span data-ttu-id="f5f2f-146">文本</span><span class="sxs-lookup"><span data-stu-id="f5f2f-146">Text</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-text.md)
- [<span data-ttu-id="f5f2f-147">数据绑定</span><span class="sxs-lookup"><span data-stu-id="f5f2f-147">Data Binding</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md)
- [<span data-ttu-id="f5f2f-148">其他性能建议</span><span class="sxs-lookup"><span data-stu-id="f5f2f-148">Other Performance Recommendations</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-other-recommendations.md)
