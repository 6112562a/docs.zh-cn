---
title: 关键帧动画概述
ms.date: 03/30/2017
helpviewer_keywords:
- animation [WPF], key-frame
- key frames [WPF], about key-frame animations
- multiple animation target values [WPF]
ms.assetid: 10028f97-bb63-41fc-b8ad-663dac7ea203
ms.openlocfilehash: eda91ab6d81150749dc542139949fb92684c0fe1
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/18/2019
ms.locfileid: "59316734"
---
# <a name="key-frame-animations-overview"></a><span data-ttu-id="3c24c-102">关键帧动画概述</span><span class="sxs-lookup"><span data-stu-id="3c24c-102">Key-Frame Animations Overview</span></span>
<span data-ttu-id="3c24c-103">本主题介绍关键帧动画。</span><span class="sxs-lookup"><span data-stu-id="3c24c-103">This topic introduces you to key-frame animations.</span></span> <span data-ttu-id="3c24c-104">通过关键帧动画，可以使用两个以上的目标值进行动画处理，并控制动画的内插方法。</span><span class="sxs-lookup"><span data-stu-id="3c24c-104">Key-frame animations enable you to animate using more than two target values, and control an animation's interpolation method.</span></span>  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="3c24c-105">系统必备</span><span class="sxs-lookup"><span data-stu-id="3c24c-105">Prerequisites</span></span>  
 <span data-ttu-id="3c24c-106">若要理解本概述，用户应熟悉 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 动画和时间线。</span><span class="sxs-lookup"><span data-stu-id="3c24c-106">To understand this overview, you should be familiar with [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] animations and timelines.</span></span> <span data-ttu-id="3c24c-107">有关动画的简介，请参阅[动画概述](animation-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="3c24c-107">For an introduction to animations, see the [Animation Overview](animation-overview.md).</span></span> <span data-ttu-id="3c24c-108">它还有助于熟悉 From/To/By 动画。</span><span class="sxs-lookup"><span data-stu-id="3c24c-108">It also helps to be familiar with From/To/By animations.</span></span> <span data-ttu-id="3c24c-109">有关详细信息，请参阅“From/To/By 动画概述”。</span><span class="sxs-lookup"><span data-stu-id="3c24c-109">For more information, see the From/To/By Animations Overview.</span></span>  
  
<a name="whatisakeyframeanimation"></a>   
## <a name="what-is-a-key-frame-animation"></a><span data-ttu-id="3c24c-110">什么是关键帧动画？</span><span class="sxs-lookup"><span data-stu-id="3c24c-110">What is a Key-Frame Animation?</span></span>  
 <span data-ttu-id="3c24c-111">与 From/To/By 动画类似，关键帧动画对目标属性的值进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-111">Like a From/To/By animation, a key-frame animation animates the value of a target property.</span></span> <span data-ttu-id="3c24c-112">它通过创建其目标值之间的转换其<xref:System.Windows.Media.Animation.Timeline.Duration%2A>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-112">It creates a transition among its target values over its <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span> <span data-ttu-id="3c24c-113">但是，From/To/By 动画可以在两个值之间创建过渡，而单个关键帧动画可以在任意数量的目标值之间创建过渡。</span><span class="sxs-lookup"><span data-stu-id="3c24c-113">However, while a From/To/By animation creates a transition between two values, a single key-frame animation can create transitions among any number of target values.</span></span> <span data-ttu-id="3c24c-114">不同于 From/To/By 动画，关键帧动画没有设置其目标值所需的 From、To 或 By 属性。</span><span class="sxs-lookup"><span data-stu-id="3c24c-114">Unlike a From/To/By animation, a key frame animation has no From, To, or By properties with which to set its target values.</span></span> <span data-ttu-id="3c24c-115">关键帧动画的目标值使用关键帧对象进行描述，因此称作“关键帧动画”。</span><span class="sxs-lookup"><span data-stu-id="3c24c-115">A key-frame animation's target values are described using key frames objects (hence the term, "key-frame animation").</span></span> <span data-ttu-id="3c24c-116">若要指定动画的目标值，您可以创建关键帧对象并将其添加到动画的<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A>集合。</span><span class="sxs-lookup"><span data-stu-id="3c24c-116">To specify the animation's target values, you create key frame objects and add them to the animation's <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A> collection.</span></span> <span data-ttu-id="3c24c-117">动画运行时，将在指定的帧之间过渡。</span><span class="sxs-lookup"><span data-stu-id="3c24c-117">When the animation runs, it transitions between the frames you specified.</span></span>  
  
 <span data-ttu-id="3c24c-118">某些关键帧方法除支持多个目标值外，甚至还支持多个内插方法。</span><span class="sxs-lookup"><span data-stu-id="3c24c-118">In addition to supporting multiple target values, some key-frame methods even support multiple interpolation methods.</span></span> <span data-ttu-id="3c24c-119">动画的内插方法定义了从一个值过渡到下一个值的方式。</span><span class="sxs-lookup"><span data-stu-id="3c24c-119">An animation's interpolation method defines how it transitions from one value to the next.</span></span> <span data-ttu-id="3c24c-120">有三种内插类型：离散、线性和曲线。</span><span class="sxs-lookup"><span data-stu-id="3c24c-120">There are three types of interpolations: discrete, linear, and splined.</span></span>  
  
 <span data-ttu-id="3c24c-121">若要使用关键帧动画进行动画处理，需要完成下列步骤。</span><span class="sxs-lookup"><span data-stu-id="3c24c-121">To animate with a key-frame animation, you complete the following steps.</span></span>  
  
-   <span data-ttu-id="3c24c-122">声明动画并指定其<xref:System.Windows.Media.Animation.Timeline.Duration%2A>，就像 from/to/by 动画。</span><span class="sxs-lookup"><span data-stu-id="3c24c-122">Declare the animation and specify its <xref:System.Windows.Media.Animation.Timeline.Duration%2A>, just like you would for a from/to/by animation.</span></span>  
  
-   <span data-ttu-id="3c24c-123">对于每个目标值，请创建相应类型的一个关键帧，将其值设置并<xref:System.Windows.Media.Animation.KeyTime>，并将其添加到动画的<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A>集合。</span><span class="sxs-lookup"><span data-stu-id="3c24c-123">For each target value, create a key frame of the appropriate type, set its value and <xref:System.Windows.Media.Animation.KeyTime>, and add it to the animation's <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A> collection.</span></span>  
  
-   <span data-ttu-id="3c24c-124">以针对 From/To/By 动画的方式将该动画与属性相关联。</span><span class="sxs-lookup"><span data-stu-id="3c24c-124">Associate the animation with a property, just like you would with a From/To/By animation.</span></span> <span data-ttu-id="3c24c-125">有关使用演示图板将动画应用到属性的详细信息，请参阅[演示图板概述](storyboards-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="3c24c-125">For more information about applying an animation to a property using a storyboard, see [Storyboards Overview](storyboards-overview.md).</span></span>  
  
 <span data-ttu-id="3c24c-126">下面的示例使用<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>进行动画处理<xref:System.Windows.Shapes.Rectangle>到四个不同位置的元素。</span><span class="sxs-lookup"><span data-stu-id="3c24c-126">The following example uses a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> to animate a <xref:System.Windows.Shapes.Rectangle> element to four different locations.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#BasicKeyFrameExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyFramesIntroduction.xaml#basickeyframeexamplewholepage)]  
  
 <span data-ttu-id="3c24c-127">喜欢 From/To/By 动画，关键帧动画可以通过使用应用于属性<xref:System.Windows.Media.Animation.Storyboard>标记和代码中或通过使用<xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A>中代码的方法。</span><span class="sxs-lookup"><span data-stu-id="3c24c-127">Like a From/To/By animation, a key-frame animation can be applied to a property by using a <xref:System.Windows.Media.Animation.Storyboard> in markup and code or by using the <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> method in code.</span></span> <span data-ttu-id="3c24c-128">您还可以使用关键帧动画创建<xref:System.Windows.Media.Animation.AnimationClock>并将其应用到一个或多个属性。</span><span class="sxs-lookup"><span data-stu-id="3c24c-128">You may also use a key-frame animation to create an <xref:System.Windows.Media.Animation.AnimationClock> and apply it to one or more properties.</span></span> <span data-ttu-id="3c24c-129">有关应用动画的不同方法的详细信息，请参阅[属性动画技术概述](property-animation-techniques-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="3c24c-129">For more information about the different methods for applying animations, see the [Property Animation Techniques Overview](property-animation-techniques-overview.md).</span></span>  
  
<a name="animation_types"></a>   
## <a name="key-frame-animation-types"></a><span data-ttu-id="3c24c-130">关键帧动画类型</span><span class="sxs-lookup"><span data-stu-id="3c24c-130">Key-Frame Animation Types</span></span>  
 <span data-ttu-id="3c24c-131">由于动画会生成属性值，因此不同的属性类型具有不同的动画类型。</span><span class="sxs-lookup"><span data-stu-id="3c24c-131">Because animations generate property values, there are different animation types for different property types.</span></span> <span data-ttu-id="3c24c-132">采用属性进行动画处理<xref:System.Double>(例如元素的<xref:System.Windows.FrameworkElement.Width%2A>属性)，可以使用生成的动画<xref:System.Double>值。</span><span class="sxs-lookup"><span data-stu-id="3c24c-132">To animate a property that takes a <xref:System.Double> (such as an element's <xref:System.Windows.FrameworkElement.Width%2A> property), you use an animation that produces <xref:System.Double> values.</span></span> <span data-ttu-id="3c24c-133">采用属性进行动画处理<xref:System.Windows.Point>，可以使用生成的动画<xref:System.Windows.Point>值，等等。</span><span class="sxs-lookup"><span data-stu-id="3c24c-133">To animate a property that takes a <xref:System.Windows.Point>, you use an animation that produces <xref:System.Windows.Point> values, and so on.</span></span>  
  
 <span data-ttu-id="3c24c-134">关键帧动画类属于<xref:System.Windows.Media.Animation>命名空间，并且遵守以下命名约定：</span><span class="sxs-lookup"><span data-stu-id="3c24c-134">The key-frame animation classes belong to the <xref:System.Windows.Media.Animation> namespace and adhere to the following naming convention:</span></span>  
  
 <span data-ttu-id="3c24c-135">*\<Type>* `AnimationUsingKeyFrames`</span><span class="sxs-lookup"><span data-stu-id="3c24c-135">*\<Type>* `AnimationUsingKeyFrames`</span></span>  
  
 <span data-ttu-id="3c24c-136">其中 *\<Type>* 为该类进行动画处理的值的类型。</span><span class="sxs-lookup"><span data-stu-id="3c24c-136">Where *\<Type>* is the type of value that the class animates.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="3c24c-137">提供了以下关键帧动画类。</span><span class="sxs-lookup"><span data-stu-id="3c24c-137">provides the following key-frame animation classes.</span></span>  
  
|<span data-ttu-id="3c24c-138">属性类型</span><span class="sxs-lookup"><span data-stu-id="3c24c-138">Property type</span></span>|<span data-ttu-id="3c24c-139">对应的 From/To/By 动画类</span><span class="sxs-lookup"><span data-stu-id="3c24c-139">Corresponding from/to/by animation class</span></span>|<span data-ttu-id="3c24c-140">支持的内插方法</span><span class="sxs-lookup"><span data-stu-id="3c24c-140">Interpolation methods supported</span></span>|  
|-------------------|------------------------------------------------|-------------------------------------|  
|<xref:System.Boolean>|<xref:System.Windows.Media.Animation.BooleanAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-141">离散</span><span class="sxs-lookup"><span data-stu-id="3c24c-141">Discrete</span></span>|  
|<xref:System.Byte>|<xref:System.Windows.Media.Animation.ByteAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-142">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-142">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Color>|<xref:System.Windows.Media.Animation.ColorAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-143">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-143">Discrete, Linear, Splined</span></span>|  
|<xref:System.Decimal>|<xref:System.Windows.Media.Animation.DecimalAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-144">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-144">Discrete, Linear, Splined</span></span>|  
|<xref:System.Double>|<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-145">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-145">Discrete, Linear, Splined</span></span>|  
|<xref:System.Int16>|<xref:System.Windows.Media.Animation.Int16AnimationUsingKeyFrames>|<span data-ttu-id="3c24c-146">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-146">Discrete, Linear, Splined</span></span>|  
|<xref:System.Int32>|<xref:System.Windows.Media.Animation.Int32AnimationUsingKeyFrames>|<span data-ttu-id="3c24c-147">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-147">Discrete, Linear, Splined</span></span>|  
|<xref:System.Int64>|<xref:System.Windows.Media.Animation.Int64AnimationUsingKeyFrames>|<span data-ttu-id="3c24c-148">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-148">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Matrix>|<xref:System.Windows.Media.Animation.MatrixAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-149">离散</span><span class="sxs-lookup"><span data-stu-id="3c24c-149">Discrete</span></span>|  
|<xref:System.Object>|<xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-150">离散</span><span class="sxs-lookup"><span data-stu-id="3c24c-150">Discrete</span></span>|  
|<xref:System.Windows.Point>|<xref:System.Windows.Media.Animation.PointAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-151">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-151">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Media3D.Quaternion>|<xref:System.Windows.Media.Animation.QuaternionAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-152">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-152">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Rect>|<xref:System.Windows.Media.Animation.RectAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-153">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-153">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Media3D.Rotation3D>|<xref:System.Windows.Media.Animation.Rotation3DAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-154">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-154">Discrete, Linear, Splined</span></span>|  
|<xref:System.Single>|<xref:System.Windows.Media.Animation.SingleAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-155">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-155">Discrete, Linear, Splined</span></span>|  
|<xref:System.String>|<xref:System.Windows.Media.Animation.StringAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-156">离散</span><span class="sxs-lookup"><span data-stu-id="3c24c-156">Discrete</span></span>|  
|<xref:System.Windows.Size>|<xref:System.Windows.Media.Animation.SizeAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-157">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-157">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Thickness>|<xref:System.Windows.Media.Animation.ThicknessAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-158">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-158">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Media3D.Vector3D>|<xref:System.Windows.Media.Animation.Vector3DAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-159">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-159">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Vector>|<xref:System.Windows.Media.Animation.VectorAnimationUsingKeyFrames>|<span data-ttu-id="3c24c-160">离散、线性、曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-160">Discrete, Linear, Splined</span></span>|  
  
<a name="animation_target_values"></a>   
## <a name="target-values-key-frames-and-key-times"></a><span data-ttu-id="3c24c-161">目标值（关键帧）和关键时间</span><span class="sxs-lookup"><span data-stu-id="3c24c-161">Target Values (key frames) and Key Times</span></span>  
 <span data-ttu-id="3c24c-162">就像在对不同属性类型进行动画处理时有不同类型的关键帧动画一样，关键帧对象的类型也各不相同：对于每种进行动画处理的值和所支持的内插方法，都有一个对象类型。</span><span class="sxs-lookup"><span data-stu-id="3c24c-162">Just as there are different types of key-frame animations for animating different property types, there are also different types of key frame objects: one for each type of value animated and interpolation method supported.</span></span> <span data-ttu-id="3c24c-163">关键帧类型遵循以下命名约定：</span><span class="sxs-lookup"><span data-stu-id="3c24c-163">Key frame types adhere to the following naming convention:</span></span>  
  
 <span data-ttu-id="3c24c-164">*\<InterpolationMethod>\<Type>* `KeyFrame`</span><span class="sxs-lookup"><span data-stu-id="3c24c-164">*\<InterpolationMethod>\<Type>* `KeyFrame`</span></span>  
  
 <span data-ttu-id="3c24c-165">其中 *\<InterpolationMethod>* 是关键帧使用的内插方法，*\<Type>* 是类进行动画处理的值的类型。</span><span class="sxs-lookup"><span data-stu-id="3c24c-165">Where *\<InterpolationMethod>* is the interpolation method the key frame uses and *\<Type>* is the type of value that the class animates.</span></span> <span data-ttu-id="3c24c-166">支持所有三种内插方法的关键帧动画有三种关键帧类型可供使用。</span><span class="sxs-lookup"><span data-stu-id="3c24c-166">A key-frame animation that supports all three interpolation methods will have three key frame types that you can use.</span></span> <span data-ttu-id="3c24c-167">例如，可以使用三种关键帧类型和<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>: <xref:System.Windows.Media.Animation.DiscreteDoubleKeyFrame>， <xref:System.Windows.Media.Animation.LinearDoubleKeyFrame>，和<xref:System.Windows.Media.Animation.SplineDoubleKeyFrame>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-167">For example, you can use three key frame types with a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>: <xref:System.Windows.Media.Animation.DiscreteDoubleKeyFrame>, <xref:System.Windows.Media.Animation.LinearDoubleKeyFrame>, and <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame>.</span></span> <span data-ttu-id="3c24c-168">（后面部分将对内插方法进行详细说明。）</span><span class="sxs-lookup"><span data-stu-id="3c24c-168">(Interpolation methods are described in detail in a later section.)</span></span>  
  
 <span data-ttu-id="3c24c-169">关键帧的主要用途是指定<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>和一个<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-169">The primary purpose of a key frame is to specify a <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> and a <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>.</span></span> <span data-ttu-id="3c24c-170">每个关键帧类型都可提供这两种属性。</span><span class="sxs-lookup"><span data-stu-id="3c24c-170">Every key frame type provides these two properties.</span></span>  
  
-   <span data-ttu-id="3c24c-171"><xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>属性指定该关键帧的目标值。</span><span class="sxs-lookup"><span data-stu-id="3c24c-171">The <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property specifies the target value for that key-frame.</span></span>  
  
-   <span data-ttu-id="3c24c-172"><xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>属性指定当 (动画的内<xref:System.Windows.Media.Animation.Timeline.Duration%2A>) 关键帧的<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>为止。</span><span class="sxs-lookup"><span data-stu-id="3c24c-172">The <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property specifies when (within the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>) a key frame's <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> is reached.</span></span>  
  
 <span data-ttu-id="3c24c-173">关键帧动画开始后，循环访问其关键帧中定义的顺序按其<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="3c24c-173">When a key frame animation begins, iterates through its key frames in the order defined by their <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> properties.</span></span>  
  
-   <span data-ttu-id="3c24c-174">如果 0 时刻没有关键帧，动画创建目标属性的当前值之间的转换和<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>的第一个关键帧; 否则，该动画的输出值将成为第一个关键帧的值。</span><span class="sxs-lookup"><span data-stu-id="3c24c-174">If there is no key frame at time 0, the animation creates a transition between the target property's current value and the <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> of the first key frame; otherwise, the animation's output value becomes the value of the first key frame.</span></span>  
  
-   <span data-ttu-id="3c24c-175">动画创建之间的转换<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>的第一个和第二个关键帧使用指定的第二个关键帧的内插方法。</span><span class="sxs-lookup"><span data-stu-id="3c24c-175">The animation creates a transition between the <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> of the first and second key frames using the interpolation method specified by the second key frame.</span></span> <span data-ttu-id="3c24c-176">第一个关键帧的过渡起始<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>时结束和第二个关键帧的<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>达到。</span><span class="sxs-lookup"><span data-stu-id="3c24c-176">The transition starts at the first key frame's <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> and ends when the second key frame's <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> is reached.</span></span>  
  
-   <span data-ttu-id="3c24c-177">动画将继续，这会创建每个后续关键帧和其前面的关键帧之间的过渡。</span><span class="sxs-lookup"><span data-stu-id="3c24c-177">The animation continues, creating transitions between each subsequent key frame and its preceding key frame.</span></span>  
  
-   <span data-ttu-id="3c24c-178">最后的最大关键时间的关键帧，动画将转换为值是等于或小于动画的<xref:System.Windows.Media.Animation.Timeline.Duration%2A>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-178">Finally, the animation transitions to the value of the key frame with the greatest key time that is equal to or smaller than the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span>  
  
 <span data-ttu-id="3c24c-179">如果该动画<xref:System.Windows.Media.Animation.Timeline.Duration%2A>是<xref:System.Windows.Duration.Automatic%2A>或其<xref:System.Windows.Media.Animation.Timeline.Duration%2A>等于最后一个关键帧在动画结束的时间。</span><span class="sxs-lookup"><span data-stu-id="3c24c-179">If the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A> is <xref:System.Windows.Duration.Automatic%2A> or its <xref:System.Windows.Media.Animation.Timeline.Duration%2A> is equal to the time of the last key frame, the animation ends.</span></span> <span data-ttu-id="3c24c-180">否则为如果动画<xref:System.Windows.Duration>大于关键时间的最后一个关键帧的关键帧值直到其到达末尾的动画保留其<xref:System.Windows.Duration>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-180">Otherwise, if the animation's <xref:System.Windows.Duration> is greater than the key time of the last key frame, the animation holds the key frame value until it reaches the end of its <xref:System.Windows.Duration>.</span></span> <span data-ttu-id="3c24c-181">与所有动画关键帧动画使用其<xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A>属性来确定是否保留最终值到达其活动期结束时。</span><span class="sxs-lookup"><span data-stu-id="3c24c-181">Like all animations, a key-frame animation uses its <xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A> property to determine whether it holds it final value when it reaches the end of its active period.</span></span> <span data-ttu-id="3c24c-182">有关详细信息，请参阅[计时行为概述](timing-behaviors-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="3c24c-182">For more information, see the [Timing Behaviors Overview](timing-behaviors-overview.md).</span></span>  
  
 <span data-ttu-id="3c24c-183">下面的示例使用<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>对象定义在前面的示例演示如何<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>和<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>属性的工作。</span><span class="sxs-lookup"><span data-stu-id="3c24c-183">The following example uses the <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> object defined in the preceding example to demonstrate how the <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> and <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> properties work.</span></span>  
  
-   <span data-ttu-id="3c24c-184">第一个关键帧立即将动画的输出值设置为 0。</span><span class="sxs-lookup"><span data-stu-id="3c24c-184">The first key frame immediately sets the animation's output value to 0.</span></span>  
  
-   <span data-ttu-id="3c24c-185">第二个关键帧在 0 和 350 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-185">The second key frame animates from 0 to 350.</span></span> <span data-ttu-id="3c24c-186">它在第一个关键帧结束后开始（开始时间 = 0 秒），播放 2 秒钟，结束时间 = 0:0:2。</span><span class="sxs-lookup"><span data-stu-id="3c24c-186">It starts after the first key frame ends (at time = 0 seconds) and plays for 2 seconds, ending at time = 0:0:2.</span></span>  
  
-   <span data-ttu-id="3c24c-187">第三个关键帧在 350 和 50 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-187">The third key frame animates from 350 to 50.</span></span> <span data-ttu-id="3c24c-188">它在第二个关键帧结束时开始（开始时间 = 2 秒），播放 5 秒钟，结束时间 = 0:0:7。</span><span class="sxs-lookup"><span data-stu-id="3c24c-188">It starts when the second key frame ends (at time = 2 seconds) and plays for 5 seconds, ending at time = 0:0:7.</span></span>  
  
-   <span data-ttu-id="3c24c-189">第四个关键帧在 50 和 200 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-189">The fourth key frame animates from 50 to 200.</span></span> <span data-ttu-id="3c24c-190">它在第三个关键帧结束时开始（开始时间 = 7 秒），播放 1 秒钟，结束时间 = 0:0:8。</span><span class="sxs-lookup"><span data-stu-id="3c24c-190">It starts when the third key frame ends (at time = 7 seconds) and plays for 1 second, ending at time = 0:0:8.</span></span>  
  
-   <span data-ttu-id="3c24c-191">因为<xref:System.Windows.Media.Animation.Timeline.Duration%2A>动画属性设置为 10 秒，则该动画保留其最终值两秒钟，结束之前开始时间 = 0:0:10。</span><span class="sxs-lookup"><span data-stu-id="3c24c-191">Because the <xref:System.Windows.Media.Animation.Timeline.Duration%2A> property of the animation was set to 10 seconds, the animation holds its final value for two seconds before ending at time = 0:0:10.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#BasicKeyFrameExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyFramesIntroduction.xaml#basickeyframeexamplewholepage)]  
  
<a name="interpolationmethods"></a>   
## <a name="interpolation-methods"></a><span data-ttu-id="3c24c-192">内插方法</span><span class="sxs-lookup"><span data-stu-id="3c24c-192">Interpolation Methods</span></span>  
 <span data-ttu-id="3c24c-193">前面部分提到了某些关键帧动画支持多种内插方法。</span><span class="sxs-lookup"><span data-stu-id="3c24c-193">The preceding sections mentioned that some key-frame animations support multiple interpolation methods.</span></span> <span data-ttu-id="3c24c-194">动画的内插对动画在其持续时间内在值之间进行过渡的方式进行了描述。</span><span class="sxs-lookup"><span data-stu-id="3c24c-194">An animation's interpolation describes how an animation transitions between values over its duration.</span></span> <span data-ttu-id="3c24c-195">通过选择动画要使用哪种关键帧类型，可以定义该关键帧段的内插方法。</span><span class="sxs-lookup"><span data-stu-id="3c24c-195">By selecting which key frame type you use with your animation, you can define the interpolation method for that key frame segment.</span></span> <span data-ttu-id="3c24c-196">有三种不同类型的内插方法：线性、离散和曲线。</span><span class="sxs-lookup"><span data-stu-id="3c24c-196">There are three different types of interpolation methods: linear, discrete, and splined.</span></span>  
  
### <a name="linear-interpolation"></a><span data-ttu-id="3c24c-197">线性内插</span><span class="sxs-lookup"><span data-stu-id="3c24c-197">Linear Interpolation</span></span>  
 <span data-ttu-id="3c24c-198">使用线性内插，动画将以段持续时间的固定速度进行播放。</span><span class="sxs-lookup"><span data-stu-id="3c24c-198">With linear interpolation, the animation progresses at a constant rate of the segment duration.</span></span> <span data-ttu-id="3c24c-199">例如，如果关键帧段从 0 过渡到 10，持续时间为 5 秒，则动画会在指定时间输出以下值：</span><span class="sxs-lookup"><span data-stu-id="3c24c-199">For example, if a key frame segment transitions from 0 to 10 over a duration of 5 seconds, the animation will output the following values at the specified times:</span></span>  
  
|<span data-ttu-id="3c24c-200">时间</span><span class="sxs-lookup"><span data-stu-id="3c24c-200">Time</span></span>|<span data-ttu-id="3c24c-201">输出值</span><span class="sxs-lookup"><span data-stu-id="3c24c-201">Output value</span></span>|  
|----------|------------------|  
|<span data-ttu-id="3c24c-202">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-202">0</span></span>|<span data-ttu-id="3c24c-203">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-203">0</span></span>|  
|<span data-ttu-id="3c24c-204">1</span><span class="sxs-lookup"><span data-stu-id="3c24c-204">1</span></span>|<span data-ttu-id="3c24c-205">2</span><span class="sxs-lookup"><span data-stu-id="3c24c-205">2</span></span>|  
|<span data-ttu-id="3c24c-206">2</span><span class="sxs-lookup"><span data-stu-id="3c24c-206">2</span></span>|<span data-ttu-id="3c24c-207">4</span><span class="sxs-lookup"><span data-stu-id="3c24c-207">4</span></span>|  
|<span data-ttu-id="3c24c-208">3</span><span class="sxs-lookup"><span data-stu-id="3c24c-208">3</span></span>|<span data-ttu-id="3c24c-209">6</span><span class="sxs-lookup"><span data-stu-id="3c24c-209">6</span></span>|  
|<span data-ttu-id="3c24c-210">4</span><span class="sxs-lookup"><span data-stu-id="3c24c-210">4</span></span>|<span data-ttu-id="3c24c-211">8</span><span class="sxs-lookup"><span data-stu-id="3c24c-211">8</span></span>|  
|<span data-ttu-id="3c24c-212">4.25</span><span class="sxs-lookup"><span data-stu-id="3c24c-212">4.25</span></span>|<span data-ttu-id="3c24c-213">8.5</span><span class="sxs-lookup"><span data-stu-id="3c24c-213">8.5</span></span>|  
|<span data-ttu-id="3c24c-214">4.5</span><span class="sxs-lookup"><span data-stu-id="3c24c-214">4.5</span></span>|<span data-ttu-id="3c24c-215">9</span><span class="sxs-lookup"><span data-stu-id="3c24c-215">9</span></span>|  
|<span data-ttu-id="3c24c-216">5</span><span class="sxs-lookup"><span data-stu-id="3c24c-216">5</span></span>|<span data-ttu-id="3c24c-217">10</span><span class="sxs-lookup"><span data-stu-id="3c24c-217">10</span></span>|  
  
### <a name="discrete-interpolation"></a><span data-ttu-id="3c24c-218">离散内插</span><span class="sxs-lookup"><span data-stu-id="3c24c-218">Discrete Interpolation</span></span>  
 <span data-ttu-id="3c24c-219">使用离散内插，动画函数将从一个值跳到下一个值，没有内插。</span><span class="sxs-lookup"><span data-stu-id="3c24c-219">With discrete interpolation, the animation function jumps from one value to the next without interpolation.</span></span> <span data-ttu-id="3c24c-220">如果关键帧段从 0 过渡到 10，持续时间为 5 秒，则动画会在指定时间输出以下值：</span><span class="sxs-lookup"><span data-stu-id="3c24c-220">If a key frame segment transitions from 0 to 10 over a duration of 5 seconds, the animation will output the following values at the specified times:</span></span>  
  
|<span data-ttu-id="3c24c-221">时间</span><span class="sxs-lookup"><span data-stu-id="3c24c-221">Time</span></span>|<span data-ttu-id="3c24c-222">输出值</span><span class="sxs-lookup"><span data-stu-id="3c24c-222">Output value</span></span>|  
|----------|------------------|  
|<span data-ttu-id="3c24c-223">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-223">0</span></span>|<span data-ttu-id="3c24c-224">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-224">0</span></span>|  
|<span data-ttu-id="3c24c-225">1</span><span class="sxs-lookup"><span data-stu-id="3c24c-225">1</span></span>|<span data-ttu-id="3c24c-226">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-226">0</span></span>|  
|<span data-ttu-id="3c24c-227">2</span><span class="sxs-lookup"><span data-stu-id="3c24c-227">2</span></span>|<span data-ttu-id="3c24c-228">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-228">0</span></span>|  
|<span data-ttu-id="3c24c-229">3</span><span class="sxs-lookup"><span data-stu-id="3c24c-229">3</span></span>|<span data-ttu-id="3c24c-230">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-230">0</span></span>|  
|<span data-ttu-id="3c24c-231">4</span><span class="sxs-lookup"><span data-stu-id="3c24c-231">4</span></span>|<span data-ttu-id="3c24c-232">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-232">0</span></span>|  
|<span data-ttu-id="3c24c-233">4.25</span><span class="sxs-lookup"><span data-stu-id="3c24c-233">4.25</span></span>|<span data-ttu-id="3c24c-234">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-234">0</span></span>|  
|<span data-ttu-id="3c24c-235">4.5</span><span class="sxs-lookup"><span data-stu-id="3c24c-235">4.5</span></span>|<span data-ttu-id="3c24c-236">0</span><span class="sxs-lookup"><span data-stu-id="3c24c-236">0</span></span>|  
|<span data-ttu-id="3c24c-237">5</span><span class="sxs-lookup"><span data-stu-id="3c24c-237">5</span></span>|<span data-ttu-id="3c24c-238">10</span><span class="sxs-lookup"><span data-stu-id="3c24c-238">10</span></span>|  
  
 <span data-ttu-id="3c24c-239">注意动画在段持续时间恰好结束之前不会更改其输出值的方式。</span><span class="sxs-lookup"><span data-stu-id="3c24c-239">Notice how the animation does not change its output value until the very end of the segment duration.</span></span>  
  
 <span data-ttu-id="3c24c-240">曲线内插更为复杂。</span><span class="sxs-lookup"><span data-stu-id="3c24c-240">Splined interpolation is more complex.</span></span> <span data-ttu-id="3c24c-241">相关内容将在下一节介绍。</span><span class="sxs-lookup"><span data-stu-id="3c24c-241">It is described in the next section.</span></span>  
  
<a name="anim_spline"></a>   
### <a name="splined-interpolation"></a><span data-ttu-id="3c24c-242">曲线内插</span><span class="sxs-lookup"><span data-stu-id="3c24c-242">Splined Interpolation</span></span>  
 <span data-ttu-id="3c24c-243">曲线内插可用于达到更现实的计时效果。</span><span class="sxs-lookup"><span data-stu-id="3c24c-243">Splined interpolation can be used to achieve more realistic timing effects.</span></span> <span data-ttu-id="3c24c-244">由于动画通常用于模拟现实世界中出现的效果，因此开发人员可能需要精确地控制对象的加速和减速，并需要严格地对计时段进行操作。</span><span class="sxs-lookup"><span data-stu-id="3c24c-244">Because animations are so often used to imitate effects that occur in the real world, developers might need fine control of the acceleration and deceleration of objects, and close manipulation of timing segments.</span></span> <span data-ttu-id="3c24c-245">通过自由绘制曲线关键帧，可以使用曲线内插进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-245">Spline key frames enable you to animate with splined interpolation.</span></span> <span data-ttu-id="3c24c-246">利用其他关键帧，您可以指定<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>和<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-246">With other key frames, you specify a <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> and <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>.</span></span> <span data-ttu-id="3c24c-247">使用样条关键帧，您还指定<xref:System.Windows.Media.Animation.SplineDoubleKeyFrame.KeySpline%2A>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-247">With a spline key frame, you also specify a <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame.KeySpline%2A>.</span></span> <span data-ttu-id="3c24c-248">下面的示例演示一个单个自由绘制曲线关键帧为<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-248">The following example shows a single spline key frame for a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>.</span></span> <span data-ttu-id="3c24c-249">请注意<xref:System.Windows.Media.Animation.KeySpline>属性; 它就是自由绘制曲线关键帧不同于其他类型的关键帧。</span><span class="sxs-lookup"><span data-stu-id="3c24c-249">Notice the <xref:System.Windows.Media.Animation.KeySpline> property; that's what makes a spline key frame different from the other types of key frames.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SingleSplineKeyFrameExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#singlesplinekeyframeexample)]  
  
 <span data-ttu-id="3c24c-250">一条三次方贝塞尔曲线由一个起点、一个终点和两个控制点定义。</span><span class="sxs-lookup"><span data-stu-id="3c24c-250">A cubic Bezier curve is defined by a start point, an end point, and two control points.</span></span> <span data-ttu-id="3c24c-251"><xref:System.Windows.Media.Animation.KeySpline>自由绘制曲线关键帧的属性定义从 (0，0) 延伸到 (1，1) 的贝塞尔曲线的两个控制点。</span><span class="sxs-lookup"><span data-stu-id="3c24c-251">The <xref:System.Windows.Media.Animation.KeySpline> property of a spline key frame defines the two control point of a Bezier curve that extends from (0,0) to (1,1).</span></span> <span data-ttu-id="3c24c-252">第一个控制点控制贝塞尔曲线前半部分的曲线因子，第二个控制点控制贝塞尔线段后半部分的曲线因子。</span><span class="sxs-lookup"><span data-stu-id="3c24c-252">The first control point controls the curve factor of the first half of the Bezier curve, and the second control point controls the curve factor of the second half of the Bezier segment.</span></span> <span data-ttu-id="3c24c-253">生成的曲线描述了该自由绘制曲线关键帧的变化率。</span><span class="sxs-lookup"><span data-stu-id="3c24c-253">The resulting curve describes the rate of change for that spline key frame.</span></span> <span data-ttu-id="3c24c-254">曲线陡度越大，关键帧更改其值的速度越快。</span><span class="sxs-lookup"><span data-stu-id="3c24c-254">The steeper the curve, the faster the key frame changes its values.</span></span> <span data-ttu-id="3c24c-255">曲线趋于平缓时，关键帧更改其值的速度也趋于缓慢。</span><span class="sxs-lookup"><span data-stu-id="3c24c-255">As the curve gets flatter, the key frame changes its values more slowly.</span></span>  
  
 <span data-ttu-id="3c24c-256">可以使用<xref:System.Windows.Media.Animation.KeySpline>，模拟下落的水滴或跳动的球，等的物理轨迹，或将其他"渐入"和"渐出"效果应用于运动动画。</span><span class="sxs-lookup"><span data-stu-id="3c24c-256">You might use <xref:System.Windows.Media.Animation.KeySpline> to simulate physical trajectories like falling water or bouncing balls, or apply other "ease in" and "ease out" effects to motion animations.</span></span> <span data-ttu-id="3c24c-257">对于用户交互效果（例如背景淡入/淡出或控制按钮弹跳等），可能要应用曲线内插，以便以特定方式提高或降低动画的变化率。</span><span class="sxs-lookup"><span data-stu-id="3c24c-257">For user interaction effects like background fades or control button rebound, you might apply splined interpolation to speed up or slow down the rate of change for an animation in a specific way.</span></span>  
  
 <span data-ttu-id="3c24c-258">下面的示例指定<xref:System.Windows.Media.Animation.KeySpline>的 0，1 1，这会创建如下贝塞尔曲线，0。</span><span class="sxs-lookup"><span data-stu-id="3c24c-258">The following example specifies a <xref:System.Windows.Media.Animation.KeySpline> of 0,1 1,0, which creates the following Bezier curve.</span></span>  
  
 <span data-ttu-id="3c24c-259">![贝塞尔曲线](./media/graphicsmm-keyspline-0-1-1-0.png "graphicsmm_keyspline_0_1_1_0")</span><span class="sxs-lookup"><span data-stu-id="3c24c-259">![A Bezier curve](./media/graphicsmm-keyspline-0-1-1-0.png "graphicsmm_keyspline_0_1_1_0")</span></span>  
<span data-ttu-id="3c24c-260">控制点为 (0.0, 1.0) 和 (1.0, 0.0) 的主曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-260">A key spline with control points (0.0, 1.0) and (1.0, 0.0)</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SingleSplineKeyFrameExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#singlesplinekeyframeexample)]  
  
 <span data-ttu-id="3c24c-261">此关键帧的动画处理在开始时快速进行，减速，然后再次加速，直到结束。</span><span class="sxs-lookup"><span data-stu-id="3c24c-261">This key frame animates rapidly when it begins, slows down, and then speeds up again before it ends.</span></span>  
  
 <span data-ttu-id="3c24c-262">下面的示例指定<xref:System.Windows.Media.Animation.KeySpline>的 0.5,0.25 0.75,1.0，创建如下贝塞尔曲线。</span><span class="sxs-lookup"><span data-stu-id="3c24c-262">The following example specifies a <xref:System.Windows.Media.Animation.KeySpline> of 0.5,0.25 0.75,1.0, which creates the following Bezier curve.</span></span>  
  
 <span data-ttu-id="3c24c-263">![贝塞尔曲线](./media/graphicsmm-keyspline-025-050-075-10.png "graphicsmm_keyspline_025_050_075_10")</span><span class="sxs-lookup"><span data-stu-id="3c24c-263">![A Bezier curve](./media/graphicsmm-keyspline-025-050-075-10.png "graphicsmm_keyspline_025_050_075_10")</span></span>  
<span data-ttu-id="3c24c-264">控制点为 (0.25, 0.5) 和 (0.75, 1.0) 的主曲线</span><span class="sxs-lookup"><span data-stu-id="3c24c-264">A key spline with control points (0.25, 0.5) and (0.75, 1.0)</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SingleSplineKeyFrameExampleInline3](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#singlesplinekeyframeexampleinline3)]  
  
 <span data-ttu-id="3c24c-265">由于贝塞尔曲线的曲度变化幅度很小，因此该关键帧的动画处理速率几乎固定不变；只在接近结束时才开始减速。</span><span class="sxs-lookup"><span data-stu-id="3c24c-265">Because the curvature of the Bezier curve changes very little, this key frame animates at an almost constant rate; it slows down somewhat toward its very end.</span></span>  
  
 <span data-ttu-id="3c24c-266">下面的示例使用<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>矩形的位置进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-266">The following example uses a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> to animate the position of rectangle.</span></span> <span data-ttu-id="3c24c-267">因为<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>使用<xref:System.Windows.Media.Animation.SplineDoubleKeyFrame>对象，每个关键帧值之间的转换使用曲线内插。</span><span class="sxs-lookup"><span data-stu-id="3c24c-267">Because the <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> uses <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame> objects, the transition between each key frame value uses splined interpolation.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SplinedInterpolationExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#splinedinterpolationexample)]  
  
 <span data-ttu-id="3c24c-268">曲线内插可能很难理解；使用不同的设置进行体验有助于理解。</span><span class="sxs-lookup"><span data-stu-id="3c24c-268">Splined interpolation can be difficult to understand; experimenting with different settings can help.</span></span> <span data-ttu-id="3c24c-269">通过[主曲线动画示例](https://go.microsoft.com/fwlink/?LinkID=160011)，可以更改主曲线值，并查看由此所产生的动画结果。</span><span class="sxs-lookup"><span data-stu-id="3c24c-269">The [Key Spline Animation Sample](https://go.microsoft.com/fwlink/?LinkID=160011) enables you to change key spline values and see the result it has on an animation.</span></span>  
  
<a name="combininginterpolationmethods"></a>   
### <a name="combining-interpolation-methods"></a><span data-ttu-id="3c24c-270">组合内插方法</span><span class="sxs-lookup"><span data-stu-id="3c24c-270">Combining Interpolation Methods</span></span>  
 <span data-ttu-id="3c24c-271">可在一个关键帧动画中使用具有不同内插类型的关键帧。</span><span class="sxs-lookup"><span data-stu-id="3c24c-271">You can use key frames with different interpolation types in a single key frame animation.</span></span> <span data-ttu-id="3c24c-272">如果两个具有不同内插的关键帧动画彼此跟随，第二个关键帧的内插方法将用于创建从第一个值到第二个值的过渡。</span><span class="sxs-lookup"><span data-stu-id="3c24c-272">When two key frame animations with different interpolations follow each other, the interpolation method of the second key frame is used to create the transition from the first value to the second.</span></span>  
  
 <span data-ttu-id="3c24c-273">在以下示例中，<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>创建该使用线性、 曲线和离散内插。</span><span class="sxs-lookup"><span data-stu-id="3c24c-273">In the following example, a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> is created that uses linear, splined, and discrete interpolation.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#ComboInterpolationExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#combointerpolationexample)]  
  
<a name="keytimes"></a>   
## <a name="more-about-duration-and-key-times"></a><span data-ttu-id="3c24c-274">有关持续时间和关键时间的更多信息</span><span class="sxs-lookup"><span data-stu-id="3c24c-274">More about Duration and Key Times</span></span>  
 <span data-ttu-id="3c24c-275">像其他动画关键帧动画具有<xref:System.Windows.Duration>属性。</span><span class="sxs-lookup"><span data-stu-id="3c24c-275">Like other animations, key-frame animations have a <xref:System.Windows.Duration> property.</span></span> <span data-ttu-id="3c24c-276">除了指定动画的<xref:System.Windows.Duration>，您需要指定该持续时间的哪些部分提供给每个关键帧。</span><span class="sxs-lookup"><span data-stu-id="3c24c-276">In addition to specifying the animation's <xref:System.Windows.Duration>, you need to specify what portion of that duration is given to each key frame.</span></span> <span data-ttu-id="3c24c-277">为此，描述<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>为每个动画的关键帧。</span><span class="sxs-lookup"><span data-stu-id="3c24c-277">You do so by describing a   <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> for each of the animation's key frames.</span></span> <span data-ttu-id="3c24c-278">每个关键帧的<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>指定该关键帧结束时。</span><span class="sxs-lookup"><span data-stu-id="3c24c-278">Each key frame's <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> specifies when that key frame ends.</span></span>  
  
 <span data-ttu-id="3c24c-279"><xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>属性未指定关键时间播放的时间长度。</span><span class="sxs-lookup"><span data-stu-id="3c24c-279">The <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property does not specify how long the key time plays.</span></span> <span data-ttu-id="3c24c-280">关键帧的播放时长由关键帧的结束时间、前一个关键帧的结束时间以及动画的持续时间确定。</span><span class="sxs-lookup"><span data-stu-id="3c24c-280">The amount of time a key frame plays is determined by when the key frame ends, when the previous key frame ended, and the animation's duration.</span></span> <span data-ttu-id="3c24c-281">可能指定关键时间，为时间值，一个百分比，或者特殊值<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>或<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-281">Key times may be specified as a time value, a percentage, or as the special values <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> or <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>.</span></span>  
  
 <span data-ttu-id="3c24c-282">下表描述了指定关键时间的不同方式。</span><span class="sxs-lookup"><span data-stu-id="3c24c-282">The following list describes the different ways of specifying key times.</span></span>  
  
### <a name="timespan-values"></a><span data-ttu-id="3c24c-283">TimeSpan 值</span><span class="sxs-lookup"><span data-stu-id="3c24c-283">TimeSpan Values</span></span>  
 <span data-ttu-id="3c24c-284">可以使用<xref:System.TimeSpan>值，以指定<xref:System.Windows.Media.Animation.KeyTime>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-284">You may use <xref:System.TimeSpan> values to specify a <xref:System.Windows.Media.Animation.KeyTime>.</span></span> <span data-ttu-id="3c24c-285">该值应大于或等于 0 并且小于或等于动画的持续时间。</span><span class="sxs-lookup"><span data-stu-id="3c24c-285">The value should be greater than or equal to 0 and less than or equal to the animation's duration.</span></span> <span data-ttu-id="3c24c-286">以下示例演示一个持续时间为 10 秒钟、有四个关键帧（这些关键帧的关键时间指定为时间值）的动画。</span><span class="sxs-lookup"><span data-stu-id="3c24c-286">The following example shows an animation with a duration of 10 seconds and four key frames whose key times are specified as time values.</span></span>  
  
-   <span data-ttu-id="3c24c-287">在前 3 秒钟内，第一个关键帧在基值和 100 之间进行动画处理，结束时间 = 0:0:03。</span><span class="sxs-lookup"><span data-stu-id="3c24c-287">The first key frame animates from the base value to 100 over the first 3 seconds, ending at time = 0:0:03.</span></span>  
  
-   <span data-ttu-id="3c24c-288">第二个关键帧在 100 和 200 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-288">The second key frame animates from 100 to 200.</span></span> <span data-ttu-id="3c24c-289">它在第一个关键帧结束后开始（开始时间 = 3 秒），播放 5 秒钟，结束时间 = 0:0:8。</span><span class="sxs-lookup"><span data-stu-id="3c24c-289">It starts after the first key frame ends (at time = 3 seconds) and plays for 5 seconds, ending at time = 0:0:8.</span></span>  
  
-   <span data-ttu-id="3c24c-290">第三个关键帧在 200 和 500 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-290">The third key frame animates from 200 to 500.</span></span> <span data-ttu-id="3c24c-291">它在第二个关键帧结束时开始（开始时间 = 8 秒），播放 1 秒钟，结束时间 = 0:0:9。</span><span class="sxs-lookup"><span data-stu-id="3c24c-291">It starts when the second key frame ends (at time = 8 seconds) and plays for 1 second, ending at time = 0:0:9.</span></span>  
  
-   <span data-ttu-id="3c24c-292">第四个关键帧在 500 和 600 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-292">The fourth key frame animates from 500 to 600.</span></span> <span data-ttu-id="3c24c-293">它在第三个关键帧结束时开始（开始时间 = 9 秒），播放 1 秒钟，结束时间 = 0:0:10。</span><span class="sxs-lookup"><span data-stu-id="3c24c-293">It starts when the third key frame ends (at time = 9 seconds) and plays for 1 second, ending at time = 0:0:10.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#TimeSpanKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#timespankeytimeexample)]  
  
### <a name="percentage-values"></a><span data-ttu-id="3c24c-294">百分比值</span><span class="sxs-lookup"><span data-stu-id="3c24c-294">Percentage Values</span></span>  
 <span data-ttu-id="3c24c-295">百分比值指定关键帧的动画的百分比处结束<xref:System.Windows.Media.Animation.Timeline.Duration%2A>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-295">A percentage value specifies that the key frame ends at some percentage of the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span> <span data-ttu-id="3c24c-296">在 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 中，指定百分比作为 `%` 符号后的数字。</span><span class="sxs-lookup"><span data-stu-id="3c24c-296">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you specify the percentage as a number followed by the `%` symbol.</span></span> <span data-ttu-id="3c24c-297">在代码中，您使用<xref:System.Windows.Media.Animation.KeyTime.FromPercent%2A>方法并将其传递<xref:System.Double>的百分比。</span><span class="sxs-lookup"><span data-stu-id="3c24c-297">In code, you use the <xref:System.Windows.Media.Animation.KeyTime.FromPercent%2A> method and pass it a <xref:System.Double> indicating the percentage.</span></span> <span data-ttu-id="3c24c-298">该值必须大于或等于 0 并且小于或等于 100%。</span><span class="sxs-lookup"><span data-stu-id="3c24c-298">The value must be greater than or equal to 0 and less than or equal to 100 percent.</span></span> <span data-ttu-id="3c24c-299">以下示例演示一个持续时间为 10 秒钟、有四个关键帧（这些关键帧的关键时间指定为百分比）的动画。</span><span class="sxs-lookup"><span data-stu-id="3c24c-299">The following example shows an animation with a duration of 10 seconds and four key frames whose key times are specified as percentages.</span></span>  
  
-   <span data-ttu-id="3c24c-300">在前 3 秒钟内，第一个关键帧将在基值和 100 之间进行动画处理，结束时间 = 0:0:3。</span><span class="sxs-lookup"><span data-stu-id="3c24c-300">The first key frame animates from the base value to 100 over the first 3 seconds, ending at time = 0:0:3.</span></span>  
  
-   <span data-ttu-id="3c24c-301">第二个关键帧在 100 和 200 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-301">The second key frame animates from 100 to 200.</span></span> <span data-ttu-id="3c24c-302">它在第一个关键帧结束后开始（开始时间 = 3 秒），播放 5 秒钟，结束时间 = 0:0:8 (0.8 \* 10 = 8)。</span><span class="sxs-lookup"><span data-stu-id="3c24c-302">It starts after the first key frame ends (at time = 3 seconds) and plays for 5 seconds, ending at time = 0:0:8 (0.8 \* 10 = 8).</span></span>  
  
-   <span data-ttu-id="3c24c-303">第三个关键帧在 200 和 500 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-303">The third key frame animates from 200 to 500.</span></span> <span data-ttu-id="3c24c-304">它在第二个关键帧结束时开始（开始时间 = 8 秒），播放 1 秒钟，结束时间 = 0:0:9 (0.9 \* 10 = 9)。</span><span class="sxs-lookup"><span data-stu-id="3c24c-304">It starts when the second key frame ends (at time = 8 seconds) and plays for 1 second, ending at time = 0:0:9 (0.9 \* 10 = 9).</span></span>  
  
-   <span data-ttu-id="3c24c-305">第四个关键帧在 500 和 600 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-305">The fourth key frame animates from 500 to 600.</span></span> <span data-ttu-id="3c24c-306">它在第三个关键帧结束时开始（开始时间 = 9 秒），播放 1 秒钟，结束时间 = 0:0:10 (1 \* 10 = 10)。</span><span class="sxs-lookup"><span data-stu-id="3c24c-306">It starts when the third key frame ends (at time = 9 seconds) and plays for 1 second, ending at time = 0:0:10 (1 \* 10 = 10).</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#PercentageKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#percentagekeytimeexample)]  
  
### <a name="special-value-uniform"></a><span data-ttu-id="3c24c-307">特殊值 Uniform</span><span class="sxs-lookup"><span data-stu-id="3c24c-307">Special Value, Uniform</span></span>  
 <span data-ttu-id="3c24c-308">使用<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>计时时所需占用同样的时间每个关键帧。</span><span class="sxs-lookup"><span data-stu-id="3c24c-308">Use <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> timing when you want each key frame to take the same amount of time.</span></span>  
  
 <span data-ttu-id="3c24c-309">一个<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>关键时间划分的可用时间同样的关键帧，以确定每个关键帧的结束时间数。</span><span class="sxs-lookup"><span data-stu-id="3c24c-309">A <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> key time divides the available time equally by the number of key frames to determine the end time of each key frame.</span></span> <span data-ttu-id="3c24c-310">下面的示例演示一个持续时间为 10 秒的动画和四个关键帧的关键时间指定为<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-310">The following example shows an animation with a duration of 10 seconds and four key frames whose key times are specified as <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>.</span></span>  
  
-   <span data-ttu-id="3c24c-311">在前 2.5 秒钟内，第一个关键帧在基值和 100 之间进行动画处理，结束时间 = 0:0:2.5。</span><span class="sxs-lookup"><span data-stu-id="3c24c-311">The first key frame animates from the base value to 100 over the first 2.5 seconds, ending at time = 0:0:2.5.</span></span>  
  
-   <span data-ttu-id="3c24c-312">第二个关键帧在 100 和 200 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-312">The second key frame animates from 100 to 200.</span></span> <span data-ttu-id="3c24c-313">它在第一个关键帧结束后开始（开始时间 = 2.5 秒），播放大约 2.5 秒钟，结束时间 = 0:0:5。</span><span class="sxs-lookup"><span data-stu-id="3c24c-313">It starts after the first key frame ends (at time = 2.5 seconds) and plays for approximately 2.5 seconds, ending at time = 0:0:5.</span></span>  
  
-   <span data-ttu-id="3c24c-314">第三个关键帧在 200 和 500 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-314">The third key frame animates from 200 to 500.</span></span> <span data-ttu-id="3c24c-315">它在第二个关键帧结束时开始（开始时间 = 5 秒），播放 2.5 秒钟，结束时间 = 0:0:7.5。</span><span class="sxs-lookup"><span data-stu-id="3c24c-315">It starts when the second key frame ends (at time = 5 seconds) and plays for 2.5 seconds, ending at time = 0:0:7.5.</span></span>  
  
-   <span data-ttu-id="3c24c-316">第四个关键帧在 500 和 600 之间进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="3c24c-316">The fourth key frame animates from 500 to 600.</span></span> <span data-ttu-id="3c24c-317">它在第二个关键帧结束时开始（开始时间 = 7.5 秒），播放 2.5 秒钟，结束时间 = 0:0:1。</span><span class="sxs-lookup"><span data-stu-id="3c24c-317">It starts when the second key frame ends (at time = 7.5 seconds) and plays for 2.5 seconds, ending at time = 0:0:1.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#UniformKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#uniformkeytimeexample)]  
  
### <a name="special-value-paced"></a><span data-ttu-id="3c24c-318">特殊值 Paced</span><span class="sxs-lookup"><span data-stu-id="3c24c-318">Special Value, Paced</span></span>  
 <span data-ttu-id="3c24c-319">使用<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>计时时要进行动画处理的固定速度。</span><span class="sxs-lookup"><span data-stu-id="3c24c-319">Use <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> timing when you want to animate at a constant rate.</span></span>  
  
 <span data-ttu-id="3c24c-320">一个<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>关键时间来分配可用时间根据每个关键帧，以确定每个帧的持续时间的长度。</span><span class="sxs-lookup"><span data-stu-id="3c24c-320">A <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> key time allocates the available time according to the length of each of the key frames to determine the duration of each frame.</span></span>  <span data-ttu-id="3c24c-321">这样，动画的速度或速率将保持不变。</span><span class="sxs-lookup"><span data-stu-id="3c24c-321">This will provide the behavior that the velocity or pace of the animation remains constant.</span></span>  <span data-ttu-id="3c24c-322">下面的示例演示一个持续时间为 10 秒的动画和三个关键帧的关键时间指定为<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>。</span><span class="sxs-lookup"><span data-stu-id="3c24c-322">The following example shows an animation with a duration of 10 seconds and three key frames whose key times are specified as <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#PacedKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#pacedkeytimeexample)]  
  
 <span data-ttu-id="3c24c-323">请注意，如果最后一个关键帧的关键时间<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>或<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>，其解析的关键时间将设置为 100%。</span><span class="sxs-lookup"><span data-stu-id="3c24c-323">Note that, if the last key frame's key time is <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> or <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>, its resolved key time will be set to 100 percent.</span></span> <span data-ttu-id="3c24c-324">如果多帧动画中的第一个关键帧为固定速度，其解析的关键时间将设置为 0。</span><span class="sxs-lookup"><span data-stu-id="3c24c-324">If the first key frame in a multiframe animation is paced, its resolved key time will be set to 0.</span></span> <span data-ttu-id="3c24c-325">（如果关键帧集合仅包含一个关键帧，并且是一个固定速度的关键帧，其解析的关键时间将设置为 100%。）</span><span class="sxs-lookup"><span data-stu-id="3c24c-325">(If the key frame collection contains only a single key frame and it is a paced key frame, its resolved key time will be set to 100 percent.)</span></span>  
  
 <span data-ttu-id="3c24c-326">一个关键帧动画中的不同关键帧可使用不同的关键时间类型。</span><span class="sxs-lookup"><span data-stu-id="3c24c-326">Different key frames within a single key frame animation may use different key time types.</span></span>  
  
<a name="combiningkeytimes"></a>   
## <a name="combining-key-times-out-of-order-key-frames"></a><span data-ttu-id="3c24c-327">组合关键时间，顺序紊乱的关键帧</span><span class="sxs-lookup"><span data-stu-id="3c24c-327">Combining Key Times, Out-Of-Order Key Frames</span></span>  
 <span data-ttu-id="3c24c-328">可以使用关键帧具有不同<xref:System.Windows.Media.Animation.KeyTime>中同一个动画的值类型。</span><span class="sxs-lookup"><span data-stu-id="3c24c-328">You can use key frames with different <xref:System.Windows.Media.Animation.KeyTime> value types in the same animation.</span></span> <span data-ttu-id="3c24c-329">尽管建议以关键帧的实际播放顺序来添加关键帧，但此操作不是必需的。</span><span class="sxs-lookup"><span data-stu-id="3c24c-329">And, although it's recommended that you add key frames in the order in which they should play, it's not necessary.</span></span> <span data-ttu-id="3c24c-330">动画和计时系统能够处理顺序紊乱的关键帧。</span><span class="sxs-lookup"><span data-stu-id="3c24c-330">The animation and timing system is capable of resolving out of order key frames.</span></span> <span data-ttu-id="3c24c-331">将忽略关键时间无效的关键帧。</span><span class="sxs-lookup"><span data-stu-id="3c24c-331">Key frames with invalid key times are ignored.</span></span>  
  
 <span data-ttu-id="3c24c-332">下表描述了为关键帧动画的关键帧解析关键时间的过程。</span><span class="sxs-lookup"><span data-stu-id="3c24c-332">The following list describes the procedure by which key times are resolved for a key-frame animation's key frames.</span></span>  
  
1. <span data-ttu-id="3c24c-333">解决<xref:System.TimeSpan><xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="3c24c-333">Resolve <xref:System.TimeSpan> <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
2. <span data-ttu-id="3c24c-334">确定动画的*总内插时间*，即关键帧动画完成向前迭代所需的全部时间。</span><span class="sxs-lookup"><span data-stu-id="3c24c-334">Determine the animation’s *total interpolation time*, the total time it takes the key-frame animation to complete a forward iteration.</span></span>  
  
    1.  <span data-ttu-id="3c24c-335">如果该动画<xref:System.Windows.Media.Animation.Timeline.Duration%2A>不是<xref:System.Windows.Duration.Automatic%2A>或<xref:System.Windows.Duration.Forever%2A>，总内插时间为动画的值<xref:System.Windows.Media.Animation.Timeline.Duration%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="3c24c-335">If the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A> is not <xref:System.Windows.Duration.Automatic%2A> or <xref:System.Windows.Duration.Forever%2A>, the total interpolation time is the value of the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A> property.</span></span>  
  
    2.  <span data-ttu-id="3c24c-336">否则，总内插时间是最大<xref:System.TimeSpan><xref:System.Windows.Media.Animation.KeyTime>指定其关键帧，如果存在任何值。</span><span class="sxs-lookup"><span data-stu-id="3c24c-336">Otherwise, the total interpolation time is the largest <xref:System.TimeSpan> <xref:System.Windows.Media.Animation.KeyTime> value specified among its key frames, if any exist.</span></span>  
  
    3.  <span data-ttu-id="3c24c-337">否则，总内插时间为 1 秒。</span><span class="sxs-lookup"><span data-stu-id="3c24c-337">Otherwise, the total interpolation time is 1 second.</span></span>  
  
3. <span data-ttu-id="3c24c-338">使用总内插时间值来解决<xref:System.Windows.Media.Animation.KeyTimeType.Percent><xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="3c24c-338">Use the total interpolation time value to resolve <xref:System.Windows.Media.Animation.KeyTimeType.Percent> <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
4. <span data-ttu-id="3c24c-339">如果最后一个关键帧尚未在之前步骤中解析，则将解析该关键帧。</span><span class="sxs-lookup"><span data-stu-id="3c24c-339">Resolve last key frame, if it wasn't already resolved in the previous steps.</span></span> <span data-ttu-id="3c24c-340">如果<xref:System.Windows.Media.Animation.KeyTime>的最后一个关键帧是<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>或<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>，其解析的时间将等于总内插时间。</span><span class="sxs-lookup"><span data-stu-id="3c24c-340">If the <xref:System.Windows.Media.Animation.KeyTime> of the last key frame is <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> or <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>, its resolved time will be equal to the total interpolation time.</span></span>  
  
     <span data-ttu-id="3c24c-341">如果<xref:System.Windows.Media.Animation.KeyTime>的第一个关键帧<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>和此动画具有多个关键帧，解决其<xref:System.Windows.Media.Animation.KeyTime>值为零; 如果只有一个关键帧并将其<xref:System.Windows.Media.Animation.KeyTime>值是<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>，被解析为总计内插时间，如前一步骤中所述。</span><span class="sxs-lookup"><span data-stu-id="3c24c-341">If the <xref:System.Windows.Media.Animation.KeyTime> of the first key frame is <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> and this animation has more than on key frames, resolve its <xref:System.Windows.Media.Animation.KeyTime> value to zero; if there is only one key frame and its <xref:System.Windows.Media.Animation.KeyTime> value is <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>, it is resolved to the total interpolation time, as described in the preceding step.</span></span>  
  
5. <span data-ttu-id="3c24c-342">解析其余<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A><xref:System.Windows.Media.Animation.KeyTime>值： 系统将每个提供的可用时间的相等份额。</span><span class="sxs-lookup"><span data-stu-id="3c24c-342">Resolve remaining <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> <xref:System.Windows.Media.Animation.KeyTime> values: they are each given an equal share of the available time.</span></span>  <span data-ttu-id="3c24c-343">在此过程中，无法解析<xref:System.Windows.Media.Animation.KeyTime.Paced%2A><xref:System.Windows.Media.Animation.KeyTime>值将临时视为<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A><xref:System.Windows.Media.Animation.KeyTime>值，并获得临时解析时间。</span><span class="sxs-lookup"><span data-stu-id="3c24c-343">During this process, unresolved <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> values  are temporarily treated as <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> <xref:System.Windows.Media.Animation.KeyTime> values, and get a temporary resolved time.</span></span>  
  
6. <span data-ttu-id="3c24c-344">解决<xref:System.Windows.Media.Animation.KeyTime>的关键帧的值未指定关键时间使用声明距离它们最近解决的关键帧<xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="3c24c-344">Resolve the <xref:System.Windows.Media.Animation.KeyTime> values of key frames with unspecified key times by using the key frames declared nearest them that have resolved <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
7. <span data-ttu-id="3c24c-345">解析其余<xref:System.Windows.Media.Animation.KeyTime.Paced%2A><xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="3c24c-345">Resolve remaining <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> values.</span></span> <span data-ttu-id="3c24c-346"><xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> 使用<xref:System.Windows.Media.Animation.KeyTime>相邻的值的关键帧，以确定其解析的时间。</span><span class="sxs-lookup"><span data-stu-id="3c24c-346"><xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> use the <xref:System.Windows.Media.Animation.KeyTime> values of the neighboring key frames to determine their resolved time.</span></span>  <span data-ttu-id="3c24c-347">目的是确保动画速度在此关键帧的解析时间内保持固定不变。</span><span class="sxs-lookup"><span data-stu-id="3c24c-347">The goal is to ensure that the velocity of the animation is constant around this key frame's resolved time.</span></span>  
  
8. <span data-ttu-id="3c24c-348">即对关键帧的解析时间 （主键）、 顺序和声明 （辅助密钥） 的顺序进行排序，使用一个稳定排序根据解析关键帧<xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="3c24c-348">Sort key frames in order of resolved time (primary key), and order of declaration (secondary key), i.e., use a stable sort based on the resolved key frame <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3c24c-349">请参阅</span><span class="sxs-lookup"><span data-stu-id="3c24c-349">See also</span></span>

- <xref:System.Windows.Media.Animation.KeyTime>
- <xref:System.Windows.Media.Animation.KeySpline>
- <xref:System.Windows.Media.Animation.Timeline>
- [<span data-ttu-id="3c24c-350">主曲线动画示例</span><span class="sxs-lookup"><span data-stu-id="3c24c-350">Key Spline Animation Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=160011)
- [<span data-ttu-id="3c24c-351">关键帧动画示例</span><span class="sxs-lookup"><span data-stu-id="3c24c-351">KeyFrame Animation Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=160012)
- [<span data-ttu-id="3c24c-352">动画概述</span><span class="sxs-lookup"><span data-stu-id="3c24c-352">Animation Overview</span></span>](animation-overview.md)
- [<span data-ttu-id="3c24c-353">演示图板概述</span><span class="sxs-lookup"><span data-stu-id="3c24c-353">Storyboards Overview</span></span>](storyboards-overview.md)
- [<span data-ttu-id="3c24c-354">关键帧操作说明主题</span><span class="sxs-lookup"><span data-stu-id="3c24c-354">Key-Frame How-to Topics</span></span>](key-frame-animation-how-to-topics.md)
- [<span data-ttu-id="3c24c-355">计时行为概述</span><span class="sxs-lookup"><span data-stu-id="3c24c-355">Timing Behaviors Overview</span></span>](timing-behaviors-overview.md)
