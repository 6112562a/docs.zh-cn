---
title: 如何：对元素或画笔的不透明度进行动画处理
ms.date: 03/30/2017
helpviewer_keywords:
- opacity [WPF], animating
- animation [WPF], Opacity property
ms.assetid: 572af23b-39dd-48d1-9db5-4bca56a4b3d3
ms.openlocfilehash: 2f18861eb18f81b631245d1d933b7acb1b3e0e42
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/22/2019
ms.locfileid: "69950511"
---
# <a name="how-to-animate-the-opacity-of-an-element-or-brush"></a><span data-ttu-id="e5379-102">如何：对元素或画笔的不透明度进行动画处理</span><span class="sxs-lookup"><span data-stu-id="e5379-102">How to: Animate the Opacity of an Element or Brush</span></span>
<span data-ttu-id="e5379-103">若要使框架元素淡入和淡出视图, 可以对其<xref:System.Windows.UIElement.Opacity%2A>属性进行动画处理, 也可以对用于绘制它的<xref:System.Windows.Media.Brush> (或画笔) <xref:System.Windows.Media.Brush.Opacity%2A>属性进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="e5379-103">To make a framework element fade in and out of view, you can animate its <xref:System.Windows.UIElement.Opacity%2A> property or you can animate the <xref:System.Windows.Media.Brush.Opacity%2A> property of the <xref:System.Windows.Media.Brush> (or brushes) used to paint it.</span></span> <span data-ttu-id="e5379-104">对元素的不透明度进行动画处理会使其及其子级淡入和淡出视图, 但对用于绘制元素的画笔进行动画处理使你可以更好地了解元素的哪部分淡化。</span><span class="sxs-lookup"><span data-stu-id="e5379-104">Animating the element's opacity makes it and its children fade in and out of view, but animating the brush used to paint the element enables you to be more selective about which portion of the element fades.</span></span> <span data-ttu-id="e5379-105">例如, 您可以对用于绘制按钮背景的画笔的不透明度进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="e5379-105">For example, you could animate the opacity of a brush used to paint a button's background.</span></span> <span data-ttu-id="e5379-106">这会导致按钮的背景淡入和淡出, 同时使其文本完全不透明。</span><span class="sxs-lookup"><span data-stu-id="e5379-106">This would cause the button's background to fade in and out of view, while leaving its text fully opaque.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="e5379-107">对 a 的属性<xref:System.Windows.Media.Brush>进行动画处理可提供性能<xref:System.Windows.UIElement.Opacity%2A>优势, 而不是对元素的属性进行动画处理。 <xref:System.Windows.Media.Brush.Opacity%2A></span><span class="sxs-lookup"><span data-stu-id="e5379-107">Animating the <xref:System.Windows.Media.Brush.Opacity%2A> of a <xref:System.Windows.Media.Brush> provides performance benefits over animating the <xref:System.Windows.UIElement.Opacity%2A> property of an element.</span></span>  
  
 <span data-ttu-id="e5379-108">在下面的示例中, 将对两个按钮进行动画处理, 使其淡入和淡出查看。</span><span class="sxs-lookup"><span data-stu-id="e5379-108">In the following example, two buttons are animated so that they fade in and out of view.</span></span> <span data-ttu-id="e5379-109">第一<xref:System.Windows.Controls.Button>种的不透明度在5秒`0.0`内<xref:System.Windows.Media.Animation.Timeline.Duration%2A>从`1.0`到的动画处理。</span><span class="sxs-lookup"><span data-stu-id="e5379-109">The Opacity of the first <xref:System.Windows.Controls.Button> is animated from `1.0` to `0.0` over a <xref:System.Windows.Media.Animation.Timeline.Duration%2A> of five seconds.</span></span> <span data-ttu-id="e5379-110">第二个按钮还进行了动画处理, 但用于绘制它<xref:System.Windows.Controls.Control.Background%2A>的 system.windows.media.solidcolorbrush> 的不透明度是动画的, 而不是整个按钮的不透明度。</span><span class="sxs-lookup"><span data-stu-id="e5379-110">The second button is also animated, but the Opacity of the SolidColorBrush used to paint its <xref:System.Windows.Controls.Control.Background%2A> is animated rather than the opacity of the entire button.</span></span> <span data-ttu-id="e5379-111">运行该示例时, 第一个按钮会完全淡入和移出视图, 而只有第二个按钮的背景淡入和淡出视图。</span><span class="sxs-lookup"><span data-stu-id="e5379-111">When the example is run, the first button completely fades in and out of view, while only the background of the second button fades in and out of view.</span></span> <span data-ttu-id="e5379-112">其文本和边框保持完全不透明。</span><span class="sxs-lookup"><span data-stu-id="e5379-112">Its text and border remain fully opaque.</span></span>  
  
## <a name="example"></a><span data-ttu-id="e5379-113">示例</span><span class="sxs-lookup"><span data-stu-id="e5379-113">Example</span></span>  
 [!code-xaml[timingbehaviors_snip#10](~/samples/snippets/csharp/VS_Snippets_Wpf/timingbehaviors_snip/CSharp/OpacityAnimationExample.xaml#10)]  
  
 <span data-ttu-id="e5379-114">此示例中省略了代码。</span><span class="sxs-lookup"><span data-stu-id="e5379-114">Code has been omitted from this example.</span></span> <span data-ttu-id="e5379-115">完整示例还演示如何对<xref:System.Windows.Media.Color> <xref:System.Windows.Media.LinearGradientBrush>中的的不透明度进行动画处理。</span><span class="sxs-lookup"><span data-stu-id="e5379-115">The full sample also shows how to animate the opacity of a <xref:System.Windows.Media.Color> within a <xref:System.Windows.Media.LinearGradientBrush>.</span></span>  <span data-ttu-id="e5379-116">有关完整示例, 请参阅对[元素示例的不透明度进行动画处理](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/OpacityAnimation)。</span><span class="sxs-lookup"><span data-stu-id="e5379-116">For the full sample, see the [Animating the Opacity of an Element Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/OpacityAnimation).</span></span>
