---
title: 样式设置和模板化
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- triggers [WPF]
- styles [WPF], referencing
- event triggers [WPF]
- styles [WPF], prerequisites
- styles [WPF], declaring
- styles [WPF], overview
- styles [WPF], extending
- styles [WPF], triggers
- styles [WPF], event triggers
ms.assetid: 481765e5-5467-4a75-9f7b-e10e2ac410d9
ms.openlocfilehash: 580eb2c7efd00382f7fff24984f0ce6f6d8fa027
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/05/2019
ms.locfileid: "57370717"
---
# <a name="styling-and-templating"></a><span data-ttu-id="25637-102">样式设置和模板化</span><span class="sxs-lookup"><span data-stu-id="25637-102">Styling and Templating</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="25637-103">样式设置和模板化是指一套功能（样式、模板、触发器和情节提要），可使开发者和设计者创建极具视觉表现力的效果，并为其产品创建一致的外观。</span><span class="sxs-lookup"><span data-stu-id="25637-103">styling and templating refer to a suite of features (styles, templates, triggers, and storyboards) that allow developers and designers to create visually compelling effects and to create a consistent appearance for their product.</span></span> <span data-ttu-id="25637-104">尽管开发者和/或设计者可以逐个应用程序地广泛自定义外观，但为了实现应用程序内部和之间的外观维护和共享，需要一个强大的样式设置和模板化模型。</span><span class="sxs-lookup"><span data-stu-id="25637-104">Although developers and or designers can customize the appearance extensively on an application-by-application basis, a strong styling and templating model is necessary to allow maintenance and sharing of the appearance within and among applications.</span></span> [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="25637-105">提供该模型。</span><span class="sxs-lookup"><span data-stu-id="25637-105">provides that model.</span></span>  
  
 <span data-ttu-id="25637-106">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 样式设置模型的另一项功能是将演示与逻辑分离。</span><span class="sxs-lookup"><span data-stu-id="25637-106">Another feature of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] styling model is the separation of presentation and logic.</span></span> <span data-ttu-id="25637-107">这意味着，设计者可以仅使用 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 处理应用程序外观，与此同时开发者使用 C# 或 Visual Basic 处理编程逻辑。</span><span class="sxs-lookup"><span data-stu-id="25637-107">This means that designers can work on the appearance of an application by using only [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] at the same time that developers work on the programming logic by using C# or Visual Basic.</span></span>  
  
 <span data-ttu-id="25637-108">本概述侧重于应用程序的样式设置和模板化方面，不讨论任何数据绑定概念。</span><span class="sxs-lookup"><span data-stu-id="25637-108">This overview focuses on the styling and templating aspects of the application and does not discuss any data binding concepts.</span></span> <span data-ttu-id="25637-109">有关数据绑定的信息，请参阅[数据绑定概述](../data/data-binding-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="25637-109">For information about data binding, see [Data Binding Overview](../data/data-binding-overview.md).</span></span>  
  
 <span data-ttu-id="25637-110">此外，了解资源很重要，正是这些资源使样式和模板能够重复使用。</span><span class="sxs-lookup"><span data-stu-id="25637-110">In addition, it is important to understand resources, which are what enable styles and templates to be reused.</span></span> <span data-ttu-id="25637-111">有关资源的详细信息，请参阅 [XAML 资源](../advanced/xaml-resources.md)。</span><span class="sxs-lookup"><span data-stu-id="25637-111">For more information about resources, see [XAML Resources](../advanced/xaml-resources.md).</span></span>

<a name="styling_and_templating_sample"></a>   
## <a name="styling-and-templating-sample"></a><span data-ttu-id="25637-112">样式设置和模板化示例</span><span class="sxs-lookup"><span data-stu-id="25637-112">Styling and Templating Sample</span></span>  
 <span data-ttu-id="25637-113">本概述中使用的代码示例基于下图中所示的简单照片示例：</span><span class="sxs-lookup"><span data-stu-id="25637-113">The code examples used in this overview are based on a simple photo sample shown in the following illustration:</span></span>  
  
 <span data-ttu-id="25637-114">![Styled ListView](./media/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="25637-114">![Styled ListView](./media/stylingintro-triggers.png "StylingIntro_triggers")</span></span>  
  
 <span data-ttu-id="25637-115">此简单照片示例使用样式设置和模板化创建极具视觉表现力的用户体验。</span><span class="sxs-lookup"><span data-stu-id="25637-115">This simple photo sample uses styling and templating to create a visually compelling user experience.</span></span> <span data-ttu-id="25637-116">此示例具有两个<xref:System.Windows.Controls.TextBlock>元素和一个<xref:System.Windows.Controls.ListBox>控件绑定到映像的列表。</span><span class="sxs-lookup"><span data-stu-id="25637-116">The sample has two <xref:System.Windows.Controls.TextBlock> elements and a <xref:System.Windows.Controls.ListBox> control that is bound to a list of images.</span></span> <span data-ttu-id="25637-117">有关完整示例，请参阅[样式设置和模板化示例简介](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating)。</span><span class="sxs-lookup"><span data-stu-id="25637-117">For the complete sample, see [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>  
  
<a name="styling_basics"></a>   
## <a name="style-basics"></a><span data-ttu-id="25637-118">样式基础知识</span><span class="sxs-lookup"><span data-stu-id="25637-118">Style Basics</span></span>  
 <span data-ttu-id="25637-119">您可以将<xref:System.Windows.Style>作为方便地将一组属性值应用于多个元素。</span><span class="sxs-lookup"><span data-stu-id="25637-119">You can think of a <xref:System.Windows.Style> as a convenient way to apply a set of property values to more than one element.</span></span> <span data-ttu-id="25637-120">例如，请考虑以下<xref:System.Windows.Controls.TextBlock>元素和它们的默认外观：</span><span class="sxs-lookup"><span data-stu-id="25637-120">For example, consider the following <xref:System.Windows.Controls.TextBlock> elements and their default appearance:</span></span>  
  
 [!code-xaml[StylingIntroSample_snippet#TextBlocks](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#textblocks)]  
  
 <span data-ttu-id="25637-121">![样式设置示例屏幕截图](./media/stylingintro-textblocksbefore.PNG "StylingIntro_TextBlocksBefore")</span><span class="sxs-lookup"><span data-stu-id="25637-121">![Styling sample screen shot](./media/stylingintro-textblocksbefore.PNG "StylingIntro_TextBlocksBefore")</span></span>  
  
 <span data-ttu-id="25637-122">您可以通过设置属性，如更改默认外观<xref:System.Windows.Controls.Control.FontSize%2A>并<xref:System.Windows.Controls.Control.FontFamily%2A>，在每个<xref:System.Windows.Controls.TextBlock>直接元素。</span><span class="sxs-lookup"><span data-stu-id="25637-122">You can change the default appearance by setting properties, such as <xref:System.Windows.Controls.Control.FontSize%2A> and <xref:System.Windows.Controls.Control.FontFamily%2A>, on each <xref:System.Windows.Controls.TextBlock> element directly.</span></span> <span data-ttu-id="25637-123">但是，如果你想你<xref:System.Windows.Controls.TextBlock>元素共享某些属性，可以创建<xref:System.Windows.Style>中`Resources`一部分您[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]文件，如下所示：</span><span class="sxs-lookup"><span data-stu-id="25637-123">However, if you want your <xref:System.Windows.Controls.TextBlock> elements to share some properties, you can create a <xref:System.Windows.Style> in the `Resources` section of your [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, as shown here:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#Resources](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources)]  
[!code-xaml[StylingIntroSnippet#tb1](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#tb1)]  
[!code-xaml[StylingIntroSnippet#Resources2](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources2)]  
  
 <span data-ttu-id="25637-124">当您将设置<xref:System.Windows.Style.TargetType%2A>的到您的风格<xref:System.Windows.Controls.TextBlock>类型，该样式应用于所有<xref:System.Windows.Controls.TextBlock>窗口中的元素。</span><span class="sxs-lookup"><span data-stu-id="25637-124">When you set the <xref:System.Windows.Style.TargetType%2A> of your style to the <xref:System.Windows.Controls.TextBlock> type, the style is applied to all the <xref:System.Windows.Controls.TextBlock> elements in the window.</span></span>  
  
 <span data-ttu-id="25637-125">现在<xref:System.Windows.Controls.TextBlock>元素出现，如下所示：</span><span class="sxs-lookup"><span data-stu-id="25637-125">Now the <xref:System.Windows.Controls.TextBlock> elements appear as follows:</span></span>  
  
 <span data-ttu-id="25637-126">![Styling sample screen shot](./media/stylingintro-textblocksbasestyle.PNG "StylingIntro_TextBlocksBaseStyle")</span><span class="sxs-lookup"><span data-stu-id="25637-126">![Styling sample screen shot](./media/stylingintro-textblocksbasestyle.PNG "StylingIntro_TextBlocksBaseStyle")</span></span>  
  
### <a name="extending-styles"></a><span data-ttu-id="25637-127">扩展样式</span><span class="sxs-lookup"><span data-stu-id="25637-127">Extending Styles</span></span>  
 <span data-ttu-id="25637-128">您可能需要两个<xref:System.Windows.Controls.TextBlock>元素共享某些属性值，如<xref:System.Windows.Controls.Control.FontFamily%2A>和居中<xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>，但也希望文本"My Pictures"具有某些其他属性。</span><span class="sxs-lookup"><span data-stu-id="25637-128">Perhaps you want your two <xref:System.Windows.Controls.TextBlock> elements to share some property values, such as the <xref:System.Windows.Controls.Control.FontFamily%2A> and the centered <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>, but you also want the text "My Pictures" to have some additional properties.</span></span> <span data-ttu-id="25637-129">可以通过创建基于第一个样式的新样式来实现该目标，如下所示：</span><span class="sxs-lookup"><span data-stu-id="25637-129">You can do that by creating a new style that is based on the first style, as shown here:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#Resources](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources)]  
[!code-xaml[StylingIntroSnippet#tb2](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#tb2)]  
[!code-xaml[StylingIntroSnippet#Resources2](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources2)]  
  
 <span data-ttu-id="25637-130">请注意，上面的样式提供 `x:Key`。</span><span class="sxs-lookup"><span data-stu-id="25637-130">Notice that the previous style is given an `x:Key`.</span></span> <span data-ttu-id="25637-131">若要应用该样式，您设置<xref:System.Windows.FrameworkElement.Style%2A>属性上的你<xref:System.Windows.Controls.TextBlock>到`x:Key`值，如下所示：</span><span class="sxs-lookup"><span data-stu-id="25637-131">To apply the style, you set the <xref:System.Windows.FrameworkElement.Style%2A> property on your <xref:System.Windows.Controls.TextBlock> to the `x:Key` value, as shown here:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#UIText](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#uitext)]  
  
 <span data-ttu-id="25637-132">这<xref:System.Windows.Controls.TextBlock>样式现在具有<xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>的值<xref:System.Windows.HorizontalAlignment.Center>、 一个<xref:System.Windows.Controls.TextBlock.FontFamily%2A>的值`Comic Sans MS`、 一个<xref:System.Windows.Controls.TextBlock.FontSize%2A>值为 26，和一个<xref:System.Windows.Controls.TextBlock.Foreground%2A>值设置为<xref:System.Windows.Media.LinearGradientBrush>示例所示。</span><span class="sxs-lookup"><span data-stu-id="25637-132">This <xref:System.Windows.Controls.TextBlock> style now has a <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A> value of <xref:System.Windows.HorizontalAlignment.Center>, a <xref:System.Windows.Controls.TextBlock.FontFamily%2A> value of `Comic Sans MS`, a <xref:System.Windows.Controls.TextBlock.FontSize%2A> value of 26, and a <xref:System.Windows.Controls.TextBlock.Foreground%2A> value set to the <xref:System.Windows.Media.LinearGradientBrush> shown in the example.</span></span> <span data-ttu-id="25637-133">请注意，它将替代<xref:System.Windows.Controls.Control.FontSize%2A>的基本样式的值。</span><span class="sxs-lookup"><span data-stu-id="25637-133">Notice that it overrides the <xref:System.Windows.Controls.Control.FontSize%2A> value of the base style.</span></span> <span data-ttu-id="25637-134">如果有多个<xref:System.Windows.Setter>中设置同一属性<xref:System.Windows.Style>，则<xref:System.Windows.Setter>，它是声明最后一个优先。</span><span class="sxs-lookup"><span data-stu-id="25637-134">If there is more than one <xref:System.Windows.Setter> setting the same property in a <xref:System.Windows.Style>, the <xref:System.Windows.Setter> that is declared last takes precedence.</span></span>  
  
 <span data-ttu-id="25637-135">下面显示了什么<xref:System.Windows.Controls.TextBlock>元素现在看起来像：</span><span class="sxs-lookup"><span data-stu-id="25637-135">The following shows what the <xref:System.Windows.Controls.TextBlock> elements now look like:</span></span>  
  
 <span data-ttu-id="25637-136">![带样式的 TextBlocks](./media/stylingintro-textblocks.png "StylingIntro_TextBlocks")</span><span class="sxs-lookup"><span data-stu-id="25637-136">![Styled TextBlocks](./media/stylingintro-textblocks.png "StylingIntro_TextBlocks")</span></span>  
  
 <span data-ttu-id="25637-137">这`TitleText`样式扩展已为创建的样式<xref:System.Windows.Controls.TextBlock>类型。</span><span class="sxs-lookup"><span data-stu-id="25637-137">This `TitleText` style extends the style that has been created for the <xref:System.Windows.Controls.TextBlock> type.</span></span> <span data-ttu-id="25637-138">还可以使用 `x:Key` 值扩展具有 `x:Key` 的样式。</span><span class="sxs-lookup"><span data-stu-id="25637-138">You can also extend a style that has an `x:Key` by using the `x:Key` value.</span></span> <span data-ttu-id="25637-139">有关示例，请参阅为提供的示例<xref:System.Windows.Style.BasedOn%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="25637-139">For an example, see the example provided for the <xref:System.Windows.Style.BasedOn%2A> property.</span></span>  
  
### <a name="relationship-of-the-targettype-property-and-the-xkey-attribute"></a><span data-ttu-id="25637-140">TargetType 属性和 x:Key 属性之间的关系</span><span class="sxs-lookup"><span data-stu-id="25637-140">Relationship of the TargetType Property and the x:Key Attribute</span></span>  
 <span data-ttu-id="25637-141">第一个示例中所示，设置<xref:System.Windows.Style.TargetType%2A>属性设置为`TextBlock`而无需为样式分配`x:Key`会导致该样式应用于所有<xref:System.Windows.Controls.TextBlock>元素。</span><span class="sxs-lookup"><span data-stu-id="25637-141">As shown in the first example, setting the <xref:System.Windows.Style.TargetType%2A> property to `TextBlock` without assigning the style an `x:Key` causes the style to be applied to all <xref:System.Windows.Controls.TextBlock> elements.</span></span> <span data-ttu-id="25637-142">在此情况下，`x:Key` 隐式设置为 `{x:Type TextBlock}`。</span><span class="sxs-lookup"><span data-stu-id="25637-142">In this case, the `x:Key` is implicitly set to `{x:Type TextBlock}`.</span></span> <span data-ttu-id="25637-143">这意味着，如果显式设置`x:Key`值到的任何内容，而`{x:Type TextBlock}`，则<xref:System.Windows.Style>不应用于所有<xref:System.Windows.Controls.TextBlock>元素自动。</span><span class="sxs-lookup"><span data-stu-id="25637-143">This means that if you explicitly set the `x:Key` value to anything other than `{x:Type TextBlock}`, the <xref:System.Windows.Style> is not applied to all <xref:System.Windows.Controls.TextBlock> elements automatically.</span></span> <span data-ttu-id="25637-144">相反，必须应用样式 (通过使用`x:Key`值) 到<xref:System.Windows.Controls.TextBlock>元素显式。</span><span class="sxs-lookup"><span data-stu-id="25637-144">Instead, you must apply the style (by using the `x:Key` value) to the <xref:System.Windows.Controls.TextBlock> elements explicitly.</span></span> <span data-ttu-id="25637-145">如果您的方式是在资源部分中，并且未设置<xref:System.Windows.Style.TargetType%2A>属性上应用样式，则你必须提供`x:Key`。</span><span class="sxs-lookup"><span data-stu-id="25637-145">If your style is in the resources section and you do not set the <xref:System.Windows.Style.TargetType%2A> property on your style, then you must provide an `x:Key`.</span></span>  
  
 <span data-ttu-id="25637-146">除了提供的默认值之外`x:Key`，则<xref:System.Windows.Style.TargetType%2A>属性指定 setter 属性应用的类型。</span><span class="sxs-lookup"><span data-stu-id="25637-146">In addition to providing a default value for the `x:Key`, the <xref:System.Windows.Style.TargetType%2A> property specifies the type to which setter properties apply.</span></span> <span data-ttu-id="25637-147">如果未指定<xref:System.Windows.Style.TargetType%2A>，必须限定的属性中您<xref:System.Windows.Setter>对象使用的语法的类名称与`Property="ClassName.Property"`。</span><span class="sxs-lookup"><span data-stu-id="25637-147">If you do not specify a <xref:System.Windows.Style.TargetType%2A>, you must qualify the properties in your <xref:System.Windows.Setter> objects with a class name by using the syntax `Property="ClassName.Property"`.</span></span> <span data-ttu-id="25637-148">例如，而不是设置`Property="FontSize"`，则必须设置<xref:System.Windows.Setter.Property%2A>到`"TextBlock.FontSize"`或`"Control.FontSize"`。</span><span class="sxs-lookup"><span data-stu-id="25637-148">For example, instead of setting `Property="FontSize"`, you must set <xref:System.Windows.Setter.Property%2A> to `"TextBlock.FontSize"` or `"Control.FontSize"`.</span></span>  
  
 <span data-ttu-id="25637-149">另请注意，许多 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 控件由其他 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 控件的组合构成。</span><span class="sxs-lookup"><span data-stu-id="25637-149">Also note that many [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls consist of a combination of other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls.</span></span> <span data-ttu-id="25637-150">如果创建应用于某个类型的所有控件的样式，可能会产生意外结果。</span><span class="sxs-lookup"><span data-stu-id="25637-150">If you create a style that applies to all controls of a type, you might get unexpected results.</span></span> <span data-ttu-id="25637-151">例如，如果创建一种样式面向<xref:System.Windows.Controls.TextBlock>中键入<xref:System.Windows.Window>，该样式应用到所有<xref:System.Windows.Controls.TextBlock>控件在窗口中，即使<xref:System.Windows.Controls.TextBlock>属于另一个控件，如<xref:System.Windows.Controls.ListBox>。</span><span class="sxs-lookup"><span data-stu-id="25637-151">For example, if you create a style that targets the <xref:System.Windows.Controls.TextBlock> type in a <xref:System.Windows.Window>, the style is applied to all <xref:System.Windows.Controls.TextBlock> controls in the window, even if the <xref:System.Windows.Controls.TextBlock> is part of another control, such as a <xref:System.Windows.Controls.ListBox>.</span></span>  
  
### <a name="styles-and-resources"></a><span data-ttu-id="25637-152">样式和资源</span><span class="sxs-lookup"><span data-stu-id="25637-152">Styles and Resources</span></span>  
 <span data-ttu-id="25637-153">可以从派生的任何元素上使用样式<xref:System.Windows.FrameworkElement>或<xref:System.Windows.FrameworkContentElement>。</span><span class="sxs-lookup"><span data-stu-id="25637-153">You can use a style on any element that derives from <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="25637-154">声明样式的最常见方法是在 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 文件的 `Resources` 部分中声明为样式，如前面的示例所示。</span><span class="sxs-lookup"><span data-stu-id="25637-154">The most common way to declare a style is as a resource in the `Resources` section in a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, as shown in the previous examples.</span></span> <span data-ttu-id="25637-155">由于样式是资源，因此它们遵循应用于所有资源的相同范围规则；声明样式的位置影响可应用样式的位置。</span><span class="sxs-lookup"><span data-stu-id="25637-155">Because styles are resources, they obey the same scoping rules that apply to all resources; where you declare a style affects where the style can be applied.</span></span> <span data-ttu-id="25637-156">例如，如果在应用程序定义 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 文件的根元素中声明样式，则该样式可以在应用程序中的任何位置使用。</span><span class="sxs-lookup"><span data-stu-id="25637-156">For example, if you declare the style in the root element of your application definition [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, the style can be used anywhere in your application.</span></span> <span data-ttu-id="25637-157">如果创建一个导航应用程序，并在应用程序 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 文件之一中声明样式，则该样式只能在该 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 文件中使用。</span><span class="sxs-lookup"><span data-stu-id="25637-157">If you create a navigation application and declare the style in one of the application's [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files, the style can be used only in that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="25637-158">有关资源的范围规则的详细信息，请参阅 [XAML 资源](../advanced/xaml-resources.md)。</span><span class="sxs-lookup"><span data-stu-id="25637-158">For more information about scoping rules for resources, see [XAML Resources](../advanced/xaml-resources.md).</span></span>  
  
 <span data-ttu-id="25637-159">此外，可以在本概述后面部分的[共享资源和主题](#styling_themes)中找到有关样式和资源的详细信息。</span><span class="sxs-lookup"><span data-stu-id="25637-159">In addition, you can find more information about styles and resources in [Shared Resources and Themes](#styling_themes) later in this overview.</span></span>  
  
### <a name="setting-styles-programmatically"></a><span data-ttu-id="25637-160">以编程方式设置样式</span><span class="sxs-lookup"><span data-stu-id="25637-160">Setting Styles Programmatically</span></span>  
 <span data-ttu-id="25637-161">若要以编程方式将已命名的样式分配到的元素，请从资源集合中获取样式并将其分配给元素的<xref:System.Windows.FrameworkElement.Style%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="25637-161">To assign a named style to an element programmatically, get the style from the resources collection and assign it to the element's <xref:System.Windows.FrameworkElement.Style%2A> property.</span></span> <span data-ttu-id="25637-162">请注意，资源集合中的项类型的<xref:System.Object>。</span><span class="sxs-lookup"><span data-stu-id="25637-162">Note that the items in a resources collection are of type <xref:System.Object>.</span></span> <span data-ttu-id="25637-163">因此，您必须强制转换为检索到的样式<xref:System.Windows.Style>之前将其分配给<xref:System.Windows.FrameworkElement.Style%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="25637-163">Therefore, you must cast the retrieved style to a <xref:System.Windows.Style> before assigning it to the <xref:System.Windows.FrameworkElement.Style%2A> property.</span></span> <span data-ttu-id="25637-164">例如，若要设置已定义`TitleText`上设置样式<xref:System.Windows.Controls.TextBlock>名为`textblock1`，执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="25637-164">For example, to set the defined `TitleText` style on a <xref:System.Windows.Controls.TextBlock> named `textblock1`, do the following:</span></span>  
  
 [!code-csharp[StylingIntroSample_snippet#Code](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml.cs#code)]
 [!code-vb[StylingIntroSample_snippet#Code](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StylingIntroSample_snippet/visualbasic/window1.xaml.vb#code)]  
  
 <span data-ttu-id="25637-165">请注意，一旦应用样式，它将被密封，并且不能更改。</span><span class="sxs-lookup"><span data-stu-id="25637-165">Note that once a style has been applied, it is sealed and cannot be changed.</span></span> <span data-ttu-id="25637-166">如果要动态更改已应用的样式，必须创建新的样式来替换现有样式。</span><span class="sxs-lookup"><span data-stu-id="25637-166">If you want to dynamically change a style that has already been applied, you must create a new style to replace the existing one.</span></span> <span data-ttu-id="25637-167">有关更多信息，请参见 <xref:System.Windows.Style.IsSealed%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="25637-167">For more information, see the <xref:System.Windows.Style.IsSealed%2A> property.</span></span>  
  
 <span data-ttu-id="25637-168">可以创建一个根据自定义逻辑选择要应用的样式的对象。</span><span class="sxs-lookup"><span data-stu-id="25637-168">You can create an object that chooses a style to apply based on custom logic.</span></span> <span data-ttu-id="25637-169">有关示例，请参阅为提供的示例<xref:System.Windows.Controls.StyleSelector>类。</span><span class="sxs-lookup"><span data-stu-id="25637-169">For an example, see the example provided for the <xref:System.Windows.Controls.StyleSelector> class.</span></span>  
  
<a name="styling_binding_dynamicresource"></a>   
### <a name="bindings-dynamic-resources-and-event-handlers"></a><span data-ttu-id="25637-170">绑定、动态资源和事件处理程序</span><span class="sxs-lookup"><span data-stu-id="25637-170">Bindings, Dynamic Resources, and Event Handlers</span></span>  
 <span data-ttu-id="25637-171">请注意，可以使用 `Setter.Value` 属性指定[绑定标记扩展](../advanced/binding-markup-extension.md)或 [DynamicResource 标记扩展](../advanced/dynamicresource-markup-extension.md)。</span><span class="sxs-lookup"><span data-stu-id="25637-171">Note that you can use the `Setter.Value` property to specify a [Binding Markup Extension](../advanced/binding-markup-extension.md) or a [DynamicResource Markup Extension](../advanced/dynamicresource-markup-extension.md).</span></span> <span data-ttu-id="25637-172">有关详细信息，请参阅为提供的示例<xref:System.Windows.Setter.Value%2A?displayProperty=nameWithType>属性。</span><span class="sxs-lookup"><span data-stu-id="25637-172">For more information, see the examples provided for the <xref:System.Windows.Setter.Value%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="25637-173">到目前为止，本概述仅讨论使用资源库设置属性值。</span><span class="sxs-lookup"><span data-stu-id="25637-173">So far, this overview only discusses the use of setters to set property value.</span></span> <span data-ttu-id="25637-174">还可以在样式中指定事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="25637-174">You can also specify event handlers in a style.</span></span> <span data-ttu-id="25637-175">有关详细信息，请参阅 <xref:System.Windows.EventSetter>。</span><span class="sxs-lookup"><span data-stu-id="25637-175">For more information, see <xref:System.Windows.EventSetter>.</span></span>  
  
<a name="styling_datatemplates"></a>   
## <a name="data-templates"></a><span data-ttu-id="25637-176">数据模板</span><span class="sxs-lookup"><span data-stu-id="25637-176">Data Templates</span></span>  
 <span data-ttu-id="25637-177">在此示例应用程序中，没有<xref:System.Windows.Controls.ListBox>绑定到的照片列表控件：</span><span class="sxs-lookup"><span data-stu-id="25637-177">In this sample application, there is a <xref:System.Windows.Controls.ListBox> control that is bound to a list of photos:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#UIListBox](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#uilistbox)]  
  
 <span data-ttu-id="25637-178">这<xref:System.Windows.Controls.ListBox>目前看起来如下所示：</span><span class="sxs-lookup"><span data-stu-id="25637-178">This <xref:System.Windows.Controls.ListBox> currently looks like the following:</span></span>  
  
 <span data-ttu-id="25637-179">![应用模板之前的 ListBox](./media/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span><span class="sxs-lookup"><span data-stu-id="25637-179">![ListBox before applying template](./media/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span></span>  
  
 <span data-ttu-id="25637-180">大多数控件都具有某些类型的内容，并且该内容通常来自要绑定到的数据。</span><span class="sxs-lookup"><span data-stu-id="25637-180">Most controls have some type of content, and that content often comes from data that you are binding to.</span></span> <span data-ttu-id="25637-181">在此示例中，数据是照片列表。</span><span class="sxs-lookup"><span data-stu-id="25637-181">In this sample, the data is the list of photos.</span></span> <span data-ttu-id="25637-182">在中[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]，则使用<xref:System.Windows.DataTemplate>来定义数据的可视化表示形式。</span><span class="sxs-lookup"><span data-stu-id="25637-182">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you use a <xref:System.Windows.DataTemplate> to define the visual representation of data.</span></span> <span data-ttu-id="25637-183">基本上，什么放入<xref:System.Windows.DataTemplate>确定数据在呈现的应用程序中的样子。</span><span class="sxs-lookup"><span data-stu-id="25637-183">Basically, what you put into a <xref:System.Windows.DataTemplate> determines what the data looks like in the rendered application.</span></span>  
  
 <span data-ttu-id="25637-184">在示例应用程序中，每个自定义 `Photo` 对象都有一个字符串类型的 `Source` 属性，用于指定图像的文件路径。</span><span class="sxs-lookup"><span data-stu-id="25637-184">In our sample application, each custom `Photo` object has a `Source` property of type string that specifies the file path of the image.</span></span> <span data-ttu-id="25637-185">当前，照片对象显示为文件路径。</span><span class="sxs-lookup"><span data-stu-id="25637-185">Currently, the photo objects appear as file paths.</span></span>  
  
 <span data-ttu-id="25637-186">若要显示为图像使照片，您创建<xref:System.Windows.DataTemplate>作为资源：</span><span class="sxs-lookup"><span data-stu-id="25637-186">For the photos to appear as images, you create a <xref:System.Windows.DataTemplate> as a resource:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#Resources](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources)]  
[!code-xaml[StylingIntroSnippet#DataTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#datatemplate)]  
[!code-xaml[StylingIntroSnippet#Resources2](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources2)]  
  
 <span data-ttu-id="25637-187">请注意，<xref:System.Windows.DataTemplate.DataType%2A>属性是非常类似于<xref:System.Windows.Style.TargetType%2A>属性的<xref:System.Windows.Style>。</span><span class="sxs-lookup"><span data-stu-id="25637-187">Notice that the <xref:System.Windows.DataTemplate.DataType%2A> property is very similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style>.</span></span> <span data-ttu-id="25637-188">如果你<xref:System.Windows.DataTemplate>时，可以在资源部分中，指定<xref:System.Windows.DataTemplate.DataType%2A>属性设置为一种类型并不将其分配`x:Key`，则<xref:System.Windows.DataTemplate>只要该类型将显示应用。</span><span class="sxs-lookup"><span data-stu-id="25637-188">If your <xref:System.Windows.DataTemplate> is in the resources section, when you specify the <xref:System.Windows.DataTemplate.DataType%2A> property to a type and not assign it an `x:Key`, the <xref:System.Windows.DataTemplate> is applied whenever that type appears.</span></span> <span data-ttu-id="25637-189">您始终可以选择要将分配<xref:System.Windows.DataTemplate>与`x:Key`，然后将其设置为`StaticResource`采用<xref:System.Windows.DataTemplate>类型，如<xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A>属性或<xref:System.Windows.Controls.ContentControl.ContentTemplate%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="25637-189">You always have the option to assign the <xref:System.Windows.DataTemplate> with an `x:Key` and then set it as a `StaticResource` for properties that take <xref:System.Windows.DataTemplate> types, such as the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property or the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>  
  
 <span data-ttu-id="25637-190">从根本上来说，<xref:System.Windows.DataTemplate>在上面的示例定义每当存在`Photo`对象，它应显示为<xref:System.Windows.Controls.Image>内<xref:System.Windows.Controls.Border>。</span><span class="sxs-lookup"><span data-stu-id="25637-190">Essentially, the <xref:System.Windows.DataTemplate> in the above example defines that whenever there is a `Photo` object, it should appear as an <xref:System.Windows.Controls.Image> within a <xref:System.Windows.Controls.Border>.</span></span> <span data-ttu-id="25637-191">与此<xref:System.Windows.DataTemplate>，我们的应用程序现在如下所示：</span><span class="sxs-lookup"><span data-stu-id="25637-191">With this <xref:System.Windows.DataTemplate>, our application now looks like this:</span></span>  
  
 <span data-ttu-id="25637-192">![照片图像](./media/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span><span class="sxs-lookup"><span data-stu-id="25637-192">![Photo image](./media/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span></span>  
  
 <span data-ttu-id="25637-193">数据模板化模型提供其他功能。</span><span class="sxs-lookup"><span data-stu-id="25637-193">The data templating model provides other features.</span></span> <span data-ttu-id="25637-194">例如，如果您要显示包含使用其他集合的集合数据<xref:System.Windows.Controls.HeaderedItemsControl>键入类似于<xref:System.Windows.Controls.Menu>或<xref:System.Windows.Controls.TreeView>，没有<xref:System.Windows.HierarchicalDataTemplate>。</span><span class="sxs-lookup"><span data-stu-id="25637-194">For example, if you are displaying collection data that contains other collections using a <xref:System.Windows.Controls.HeaderedItemsControl> type such as a <xref:System.Windows.Controls.Menu> or a <xref:System.Windows.Controls.TreeView>, there is the <xref:System.Windows.HierarchicalDataTemplate>.</span></span> <span data-ttu-id="25637-195">另一个数据模板化功能是<xref:System.Windows.Controls.DataTemplateSelector>，可用于选择<xref:System.Windows.DataTemplate>使用根据自定义逻辑。</span><span class="sxs-lookup"><span data-stu-id="25637-195">Another data templating feature is the <xref:System.Windows.Controls.DataTemplateSelector>, which allows you to choose a <xref:System.Windows.DataTemplate> to use based on custom logic.</span></span> <span data-ttu-id="25637-196">有关详细信息，请参阅[数据模板化概述](../data/data-templating-overview.md)，该概述提供不同数据模板化功能的更多深入讨论。</span><span class="sxs-lookup"><span data-stu-id="25637-196">For more information, see [Data Templating Overview](../data/data-templating-overview.md), which provides a more in-depth discussion of the different data templating features.</span></span>  
  
<a name="styling_controltemplates"></a>   
## <a name="control-templates"></a><span data-ttu-id="25637-197">控件模板</span><span class="sxs-lookup"><span data-stu-id="25637-197">Control Templates</span></span>  
 <span data-ttu-id="25637-198">在中[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]，则<xref:System.Windows.Controls.ControlTemplate>控件的定义控件的外观。</span><span class="sxs-lookup"><span data-stu-id="25637-198">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.Controls.ControlTemplate> of a control defines the appearance of the control.</span></span> <span data-ttu-id="25637-199">可以通过定义一个新更改的结构和控件的外观<xref:System.Windows.Controls.ControlTemplate>控件。</span><span class="sxs-lookup"><span data-stu-id="25637-199">You can change the structure and appearance of a control by defining a new <xref:System.Windows.Controls.ControlTemplate> for the control.</span></span> <span data-ttu-id="25637-200">在许多情况下，这提供了足够的灵活性，从而无需自行编写自定义控件。</span><span class="sxs-lookup"><span data-stu-id="25637-200">In many cases, this gives you enough flexibility so that you do not have to write your own custom controls.</span></span> <span data-ttu-id="25637-201">有关详细信息，请参阅[通过创建 ControlTemplate 自定义现有控件的外观](customizing-the-appearance-of-an-existing-control.md)。</span><span class="sxs-lookup"><span data-stu-id="25637-201">For more information, see [Customizing the Appearance of an Existing Control by Creating a ControlTemplate](customizing-the-appearance-of-an-existing-control.md).</span></span>  
  
<a name="styling_triggers"></a>   
## <a name="triggers"></a><span data-ttu-id="25637-202">Triggers</span><span class="sxs-lookup"><span data-stu-id="25637-202">Triggers</span></span>  
 <span data-ttu-id="25637-203">触发器在属性值发生更改或引发事件时设置属性或启动操作，例如动画。</span><span class="sxs-lookup"><span data-stu-id="25637-203">A trigger sets properties or starts actions, such as an animation, when a property value changes or when an event is raised.</span></span> <span data-ttu-id="25637-204"><xref:System.Windows.Style><xref:System.Windows.Controls.ControlTemplate>，并<xref:System.Windows.DataTemplate>所有具有`Triggers`包含一组触发器的属性。</span><span class="sxs-lookup"><span data-stu-id="25637-204"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, and <xref:System.Windows.DataTemplate> all have a `Triggers` property that can contain a set of triggers.</span></span> <span data-ttu-id="25637-205">触发器有各种类型。</span><span class="sxs-lookup"><span data-stu-id="25637-205">There are various types of triggers.</span></span>  
  
### <a name="property-triggers"></a><span data-ttu-id="25637-206">属性触发器</span><span class="sxs-lookup"><span data-stu-id="25637-206">Property Triggers</span></span>  
 <span data-ttu-id="25637-207">一个<xref:System.Windows.Trigger>设置属性值或启动基于属性的值的操作称为属性触发器。</span><span class="sxs-lookup"><span data-stu-id="25637-207">A <xref:System.Windows.Trigger> that sets property values or starts actions based on the value of a property is called a property trigger.</span></span>  
  
 <span data-ttu-id="25637-208">若要演示如何使用属性触发器，可以将每个<xref:System.Windows.Controls.ListBoxItem>部分透明，除非它被选中。</span><span class="sxs-lookup"><span data-stu-id="25637-208">To demonstrate how to use property triggers, you can make each <xref:System.Windows.Controls.ListBoxItem> partially transparent unless it is selected.</span></span> <span data-ttu-id="25637-209">下面的样式集<xref:System.Windows.UIElement.Opacity%2A>的值<xref:System.Windows.Controls.ListBoxItem>到`0.5`。</span><span class="sxs-lookup"><span data-stu-id="25637-209">The following style sets the <xref:System.Windows.UIElement.Opacity%2A> value of a <xref:System.Windows.Controls.ListBoxItem> to `0.5`.</span></span> <span data-ttu-id="25637-210">当<xref:System.Windows.Controls.ListBoxItem.IsSelected%2A>属性是`true`，但<xref:System.Windows.UIElement.Opacity%2A>设置为`1.0`:</span><span class="sxs-lookup"><span data-stu-id="25637-210">When the <xref:System.Windows.Controls.ListBoxItem.IsSelected%2A> property is `true`, however, the <xref:System.Windows.UIElement.Opacity%2A> is set to `1.0`:</span></span>  
  
 [!code-xaml[StylingIntroSample_snippet#Triggers](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#triggers)]  
[!code-xaml[StylingIntroSample_snippet#EndTriggers](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#endtriggers)]  
  
 <span data-ttu-id="25637-211">此示例使用<xref:System.Windows.Trigger>若要设置的属性值，但请注意<xref:System.Windows.Trigger>类还具有<xref:System.Windows.TriggerBase.EnterActions%2A>和<xref:System.Windows.TriggerBase.ExitActions%2A>启用触发器执行的操作的属性。</span><span class="sxs-lookup"><span data-stu-id="25637-211">This example uses a <xref:System.Windows.Trigger> to set a property value, but note that the <xref:System.Windows.Trigger> class also has the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that enable a trigger to perform actions.</span></span>  
  
 <span data-ttu-id="25637-212">请注意，<xref:System.Windows.FrameworkElement.MaxHeight%2A>的属性<xref:System.Windows.Controls.ListBoxItem>设置为`75`。</span><span class="sxs-lookup"><span data-stu-id="25637-212">Notice that the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property of the <xref:System.Windows.Controls.ListBoxItem> is set to `75`.</span></span> <span data-ttu-id="25637-213">在下图中，第三项是选中的项：</span><span class="sxs-lookup"><span data-stu-id="25637-213">In the following illustration, the third item is the selected item:</span></span>  
  
 <span data-ttu-id="25637-214">![Styled ListView](./media/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="25637-214">![Styled ListView](./media/stylingintro-triggers.png "StylingIntro_triggers")</span></span>  
  
### <a name="eventtriggers-and-storyboards"></a><span data-ttu-id="25637-215">EventTrigger 和情节提要</span><span class="sxs-lookup"><span data-stu-id="25637-215">EventTriggers and Storyboards</span></span>  
 <span data-ttu-id="25637-216">另一种触发器是<xref:System.Windows.EventTrigger>，从而启动一组基于事件的匹配项的操作。</span><span class="sxs-lookup"><span data-stu-id="25637-216">Another type of trigger is the <xref:System.Windows.EventTrigger>, which starts a set of actions based on the occurrence of an event.</span></span> <span data-ttu-id="25637-217">例如，以下<xref:System.Windows.EventTrigger>对象指定当鼠标指针进入<xref:System.Windows.Controls.ListBoxItem>，则<xref:System.Windows.FrameworkElement.MaxHeight%2A>属性的值进行动画处理`90`转移`0.2`第二个句点。</span><span class="sxs-lookup"><span data-stu-id="25637-217">For example, the following <xref:System.Windows.EventTrigger> objects specify that when the mouse pointer enters the <xref:System.Windows.Controls.ListBoxItem>, the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property animates to a value of `90` over a `0.2` second period.</span></span> <span data-ttu-id="25637-218">当鼠标离开该项时，属性在 `1` 秒的时间内返回到原始值。</span><span class="sxs-lookup"><span data-stu-id="25637-218">When the mouse moves away from the item, the property returns to the original value over a period of `1` second.</span></span> <span data-ttu-id="25637-219">请注意如何不需要指定<xref:System.Windows.Media.Animation.DoubleAnimation.To%2A>值<xref:System.Windows.ContentElement.MouseLeave>动画。</span><span class="sxs-lookup"><span data-stu-id="25637-219">Note how it is not necessary to specify a <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> value for the <xref:System.Windows.ContentElement.MouseLeave> animation.</span></span> <span data-ttu-id="25637-220">这是因为动画能够跟踪原始值。</span><span class="sxs-lookup"><span data-stu-id="25637-220">This is because the animation is able to keep track of the original value.</span></span>  
  
 [!code-xaml[StylingIntroSample_snippet#EventTriggers](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#eventtriggers)]  
  
 <span data-ttu-id="25637-221">有关详细信息，请参阅[情节提要概述](../graphics-multimedia/storyboards-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="25637-221">For more information, see the [Storyboards Overview](../graphics-multimedia/storyboards-overview.md).</span></span>  
  
 <span data-ttu-id="25637-222">在下图中，鼠标指向第三个项：</span><span class="sxs-lookup"><span data-stu-id="25637-222">In the following illustration, the mouse is pointing to the third item:</span></span>  
  
 <span data-ttu-id="25637-223">![样式设置示例屏幕截图](./media/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span><span class="sxs-lookup"><span data-stu-id="25637-223">![Styling sample screen shot](./media/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span></span>  
  
### <a name="multitriggers-datatriggers-and-multidatatriggers"></a><span data-ttu-id="25637-224">MultiTrigger、DataTrigger 和 MultiDataTrigger</span><span class="sxs-lookup"><span data-stu-id="25637-224">MultiTriggers, DataTriggers, and MultiDataTriggers</span></span>  
 <span data-ttu-id="25637-225">除了<xref:System.Windows.Trigger>和<xref:System.Windows.EventTrigger>，有其他类型的触发器。</span><span class="sxs-lookup"><span data-stu-id="25637-225">In addition to <xref:System.Windows.Trigger> and <xref:System.Windows.EventTrigger>, there are other types of triggers.</span></span> <span data-ttu-id="25637-226"><xref:System.Windows.MultiTrigger> 可以设置基于多个条件的属性值。</span><span class="sxs-lookup"><span data-stu-id="25637-226"><xref:System.Windows.MultiTrigger> allows you to set property values based on multiple conditions.</span></span> <span data-ttu-id="25637-227">您使用<xref:System.Windows.DataTrigger>和<xref:System.Windows.MultiDataTrigger>时您的条件的属性是数据绑定。</span><span class="sxs-lookup"><span data-stu-id="25637-227">You use <xref:System.Windows.DataTrigger> and <xref:System.Windows.MultiDataTrigger> when the property of your condition is data-bound.</span></span>  
  
<a name="styling_themes"></a>   
## <a name="shared-resources-and-themes"></a><span data-ttu-id="25637-228">共享资源和主题</span><span class="sxs-lookup"><span data-stu-id="25637-228">Shared Resources and Themes</span></span>  
 <span data-ttu-id="25637-229">典型的 Windows Presentation Foundation (WPF) 应用程序可能具有多个应用于整个应用程序的用户界面 (UI) 资源。</span><span class="sxs-lookup"><span data-stu-id="25637-229">A typical Windows Presentation Foundation (WPF) application might have multiple user interface (UI) resources that are applied throughout the application.</span></span> <span data-ttu-id="25637-230">总体上，可以将这组资源视为应用程序的主题。</span><span class="sxs-lookup"><span data-stu-id="25637-230">Collectively, this set of resources can be considered the theme for the application.</span></span> <span data-ttu-id="25637-231">Windows Presentation Foundation (WPF) 支持打包用户界面 (UI) 资源作为主题通过提供一个资源字典，其中封装为<xref:System.Windows.ResourceDictionary>类。</span><span class="sxs-lookup"><span data-stu-id="25637-231">Windows Presentation Foundation (WPF) provides support for packaging user interface (UI) resources as a theme by using a resource dictionary that is encapsulated as the <xref:System.Windows.ResourceDictionary> class.</span></span>  
  
 <span data-ttu-id="25637-232">Windows Presentation Foundation (WPF) 主题是使用定义的样式设置和模板化机制，Windows Presentation Foundation (WPF) 公开用于自定义视觉对象的所有元素。</span><span class="sxs-lookup"><span data-stu-id="25637-232">Windows Presentation Foundation (WPF) themes are defined by using the styling and templating mechanism that Windows Presentation Foundation (WPF) exposes for customizing the visuals of any element.</span></span>  
  
 <span data-ttu-id="25637-233">Windows Presentation Foundation (WPF) 主题资源存储在嵌入的资源字典。</span><span class="sxs-lookup"><span data-stu-id="25637-233">Windows Presentation Foundation (WPF) theme resources are stored in embedded resource dictionaries.</span></span> <span data-ttu-id="25637-234">这些资源必须嵌入到已签名的程序集内，并且可以嵌入到与代码本身相同的程序集内或并行程序集内。</span><span class="sxs-lookup"><span data-stu-id="25637-234">These resource dictionaries must be embedded within a signed assembly, and can either be embedded in the same assembly as the code itself or in a side-by-side assembly.</span></span> <span data-ttu-id="25637-235">对于包含 Windows Presentation Foundation (WPF) 控件的程序集 PresentationFramework.dll 主题资源位于一系列通过并行程序集。</span><span class="sxs-lookup"><span data-stu-id="25637-235">In the case of PresentationFramework.dll, the assembly which contains Windows Presentation Foundation (WPF) controls, theme resources are in a series of side-by-side assemblies.</span></span>  
  
 <span data-ttu-id="25637-236">该主题成为在搜索元素样式时最后查看的位置。</span><span class="sxs-lookup"><span data-stu-id="25637-236">The theme becomes the last place to look when searching for the style of an element.</span></span> <span data-ttu-id="25637-237">通常，搜索先沿着元素树搜索适当的资源，然后在应用程序资源集合中查找，最后查询系统。</span><span class="sxs-lookup"><span data-stu-id="25637-237">Typically, the search will begin by walking up the element tree searching for an appropriate resource, then look in the application resource collection and finally query the system.</span></span> <span data-ttu-id="25637-238">这样一来，应用程序开发者便有机会在到达主题之前在树或应用程序级别上为任何对象重新定义样式。</span><span class="sxs-lookup"><span data-stu-id="25637-238">This gives application developers a chance to redefine the style for any object at the tree or application level before reaching the theme.</span></span>  
  
 <span data-ttu-id="25637-239">可以将资源字典定义为个别文件，这些文件支持跨多个应用程序重复使用主题。</span><span class="sxs-lookup"><span data-stu-id="25637-239">You can define resource dictionaries as individual files that enable you to reuse a theme across multiple applications.</span></span> <span data-ttu-id="25637-240">还可以通过定义多个资源字典来创建可交换的主题，这些资源字典以不同的值提供相同类型的资源。</span><span class="sxs-lookup"><span data-stu-id="25637-240">You can also create swappable themes by defining multiple resource dictionaries that provide the same types of resources but with different values.</span></span> <span data-ttu-id="25637-241">在应用程序级别上重新定义这些样式或其他资源是设计应用程序外观的推荐方法。</span><span class="sxs-lookup"><span data-stu-id="25637-241">Redefining these styles or other resources at the application level is the recommended approach for skinning an application.</span></span>  
  
 <span data-ttu-id="25637-242">若要共享一组资源，包括跨应用程序、 样式和模板，可以创建[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]文件，并定义<xref:System.Windows.ResourceDictionary>。</span><span class="sxs-lookup"><span data-stu-id="25637-242">To share a set of resources, including styles and templates, across applications, you can create a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file and define a <xref:System.Windows.ResourceDictionary>.</span></span> <span data-ttu-id="25637-243">例如，看一看下图，它显示[使用 ControlTemplates 设置样式示例](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating)的一部分：</span><span class="sxs-lookup"><span data-stu-id="25637-243">For example, take a look at the following illustration that shows part of the [Styling with ControlTemplates Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating):</span></span>

<span data-ttu-id="25637-244">![控件模板示例](./media/stylingintro-controltemplateexamples.png "StylingIntro_ControlTemplateExamples")</span><span class="sxs-lookup"><span data-stu-id="25637-244">![Control Template Examples](./media/stylingintro-controltemplateexamples.png "StylingIntro_ControlTemplateExamples")</span></span>  
  
 <span data-ttu-id="25637-245">如果查看示例中的 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 文件，将注意到这些文件都具有以下内容：</span><span class="sxs-lookup"><span data-stu-id="25637-245">If you look at the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files in the sample, you will notice that the files all have the following:</span></span>  
  
 [!code-xaml[ControlTemplateExamples#MergedDictionaries](~/samples/snippets/csharp/VS_Snippets_Wpf/ControlTemplateExamples/CS/resources/button.xaml#mergeddictionaries)]  
  
 <span data-ttu-id="25637-246">它是共享`shared.xaml`，用于定义<xref:System.Windows.ResourceDictionary>，其中包含一组样式和画笔资源，使具有一致的外观的示例中的控件。</span><span class="sxs-lookup"><span data-stu-id="25637-246">It is the sharing of `shared.xaml`, which defines a <xref:System.Windows.ResourceDictionary> that contains a set of style and brush resources that enables the controls in the sample to have a consistent look.</span></span>  
  
 <span data-ttu-id="25637-247">有关详细信息，请参阅[合并资源字典](../advanced/merged-resource-dictionaries.md)。</span><span class="sxs-lookup"><span data-stu-id="25637-247">For more information, see [Merged Resource Dictionaries](../advanced/merged-resource-dictionaries.md).</span></span>  
  
 <span data-ttu-id="25637-248">如果要为自定义控件创建主题，请参阅[控件创作概述](control-authoring-overview.md)的外部控件库部分。</span><span class="sxs-lookup"><span data-stu-id="25637-248">If you are creating a theme for you custom control, see the External Control Library section of the [Control Authoring Overview](control-authoring-overview.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="25637-249">请参阅</span><span class="sxs-lookup"><span data-stu-id="25637-249">See also</span></span>
- [<span data-ttu-id="25637-250">WPF 中的 Pack URI</span><span class="sxs-lookup"><span data-stu-id="25637-250">Pack URIs in WPF</span></span>](../app-development/pack-uris-in-wpf.md)
- [<span data-ttu-id="25637-251">如何：查找由 ControlTemplate 生成的元素</span><span class="sxs-lookup"><span data-stu-id="25637-251">How to: Find ControlTemplate-Generated Elements</span></span>](how-to-find-controltemplate-generated-elements.md)
- [<span data-ttu-id="25637-252">查找由 DataTemplate 生成的元素</span><span class="sxs-lookup"><span data-stu-id="25637-252">Find DataTemplate-Generated Elements</span></span>](../data/how-to-find-datatemplate-generated-elements.md)
