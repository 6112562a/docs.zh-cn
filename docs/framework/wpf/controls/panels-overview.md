---
title: 面板概述
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- Panel control [WPF], about Panel control
- controls [WPF], Panel
ms.assetid: f73644af-9941-4611-8754-6d4cef03fc44
ms.openlocfilehash: 946e0f5ee90235498b8089732ae526ab6f35665c
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/18/2019
ms.locfileid: "59157867"
---
# <a name="panels-overview"></a><span data-ttu-id="f1df4-102">面板概述</span><span class="sxs-lookup"><span data-stu-id="f1df4-102">Panels Overview</span></span>
<span data-ttu-id="f1df4-103"><xref:System.Windows.Controls.Panel> 元素是控制呈现元素的组件，其大小和维度，其位置和子内容的排列方式。</span><span class="sxs-lookup"><span data-stu-id="f1df4-103"><xref:System.Windows.Controls.Panel> elements are components that control the rendering of elements—their size and dimensions, their position, and the arrangement of their child content.</span></span> <span data-ttu-id="f1df4-104">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]提供了许多预定义<xref:System.Windows.Controls.Panel>元素，以及构造自定义的功能<xref:System.Windows.Controls.Panel>元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-104">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] provides a number of predefined <xref:System.Windows.Controls.Panel> elements as well as the ability to construct custom <xref:System.Windows.Controls.Panel> elements.</span></span>  
  
 <span data-ttu-id="f1df4-105">本主题包含以下各节：</span><span class="sxs-lookup"><span data-stu-id="f1df4-105">This topic contains the following sections.</span></span>  
  
-   [<span data-ttu-id="f1df4-106">Panel 类</span><span class="sxs-lookup"><span data-stu-id="f1df4-106">The Panel Class</span></span>](#Panels_view_from_10000_feet)  
  
-   [<span data-ttu-id="f1df4-107">Panel 元素公共成员</span><span class="sxs-lookup"><span data-stu-id="f1df4-107">Panel Element Common Members</span></span>](#Panels_declared_members)  
  
-   [<span data-ttu-id="f1df4-108">派生 Panel 元素</span><span class="sxs-lookup"><span data-stu-id="f1df4-108">Derived Panel Elements</span></span>](#Panels_derived_elements)  
  
-   [<span data-ttu-id="f1df4-109">用户界面 Panel</span><span class="sxs-lookup"><span data-stu-id="f1df4-109">User Interface Panels</span></span>](#Panels_main_UI_elements)  
  
-   [<span data-ttu-id="f1df4-110">嵌套 Panel 元素</span><span class="sxs-lookup"><span data-stu-id="f1df4-110">Nested Panel Elements</span></span>](#Panels_nested_panel_elements)  
  
-   [<span data-ttu-id="f1df4-111">自定义 Panel 元素</span><span class="sxs-lookup"><span data-stu-id="f1df4-111">Custom Panel Elements</span></span>](#Panels_custom_panel_elements)  
  
-   [<span data-ttu-id="f1df4-112">本地化/全球化支持</span><span class="sxs-lookup"><span data-stu-id="f1df4-112">Localization/Globalization Support</span></span>](#Panels_global_localization)  
  
<a name="Panels_view_from_10000_feet"></a>   
## <a name="the-panel-class"></a><span data-ttu-id="f1df4-113">Panel 类</span><span class="sxs-lookup"><span data-stu-id="f1df4-113">The Panel Class</span></span>  
 <span data-ttu-id="f1df4-114"><xref:System.Windows.Controls.Panel> 是类的基类，用于支持中的所有元素提供布局[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="f1df4-114"><xref:System.Windows.Controls.Panel> is the base class for all elements that provide layout support in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="f1df4-115">派生<xref:System.Windows.Controls.Panel>元素用于放置和排列中的元素[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]和代码。</span><span class="sxs-lookup"><span data-stu-id="f1df4-115">Derived <xref:System.Windows.Controls.Panel> elements are used to position and arrange elements in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] and code.</span></span>  
  
 <span data-ttu-id="f1df4-116">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 包含一套全面的派生面板实现，可支持许多复杂的布局。</span><span class="sxs-lookup"><span data-stu-id="f1df4-116">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] includes a comprehensive suite of derived panel implementations that enable many complex layouts.</span></span> <span data-ttu-id="f1df4-117">这些派生类公开可实现大部分标准 [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] 方案的属性和方法。</span><span class="sxs-lookup"><span data-stu-id="f1df4-117">These derived classes expose properties and methods that enable most standard [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] scenarios.</span></span> <span data-ttu-id="f1df4-118">开发人员找不到满足其需求的子排列行为可以通过重写创建新的布局<xref:System.Windows.FrameworkElement.ArrangeOverride%2A>和<xref:System.Windows.FrameworkElement.MeasureOverride%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="f1df4-118">Developers who are unable to find a child arrangement behavior that meets their needs can create new layouts by overriding the <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> and <xref:System.Windows.FrameworkElement.MeasureOverride%2A> methods.</span></span> <span data-ttu-id="f1df4-119">有关自定义布局行为的详细信息，请参阅[自定义 Panel 元素](#Panels_custom_panel_elements)。</span><span class="sxs-lookup"><span data-stu-id="f1df4-119">For more information on custom layout behaviors, see [Custom Panel Elements](#Panels_custom_panel_elements).</span></span>  
  
<a name="Panels_declared_members"></a>   
## <a name="panel-common-members"></a><span data-ttu-id="f1df4-120">Panel 公共成员</span><span class="sxs-lookup"><span data-stu-id="f1df4-120">Panel Common Members</span></span>  
 <span data-ttu-id="f1df4-121">所有<xref:System.Windows.Controls.Panel>元素支持大小和位置定义的属性的基<xref:System.Windows.FrameworkElement>，其中包括<xref:System.Windows.FrameworkElement.Height%2A>， <xref:System.Windows.FrameworkElement.Width%2A>， <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>， <xref:System.Windows.FrameworkElement.VerticalAlignment%2A>， <xref:System.Windows.FrameworkElement.Margin%2A>，和<xref:System.Windows.FrameworkElement.LayoutTransform%2A>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-121">All <xref:System.Windows.Controls.Panel> elements support the base sizing and positioning properties defined by <xref:System.Windows.FrameworkElement>, including <xref:System.Windows.FrameworkElement.Height%2A>, <xref:System.Windows.FrameworkElement.Width%2A>, <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>, <xref:System.Windows.FrameworkElement.VerticalAlignment%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>, and <xref:System.Windows.FrameworkElement.LayoutTransform%2A>.</span></span> <span data-ttu-id="f1df4-122">有关定义的位置属性的更多信息<xref:System.Windows.FrameworkElement>，请参阅[Alignment、 Margin 和 Padding 概述](../advanced/alignment-margins-and-padding-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="f1df4-122">For additional information on positioning properties defined by <xref:System.Windows.FrameworkElement>, see [Alignment, Margins, and Padding Overview](../advanced/alignment-margins-and-padding-overview.md).</span></span>  
  
 <span data-ttu-id="f1df4-123"><xref:System.Windows.Controls.Panel> 公开至关重要的一点是了解和使用布局中的其他的属性。</span><span class="sxs-lookup"><span data-stu-id="f1df4-123"><xref:System.Windows.Controls.Panel> exposes additional properties that are of critical importance in understanding and using layout.</span></span> <span data-ttu-id="f1df4-124"><xref:System.Windows.Controls.Panel.Background%2A>属性用于填充派生的面板元素使用的边界之间的区域<xref:System.Windows.Media.Brush>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-124">The <xref:System.Windows.Controls.Panel.Background%2A> property is used to fill the area between the boundaries of a derived panel element with a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="f1df4-125"><xref:System.Windows.Controls.Panel.Children%2A> 表示元素的子集合的<xref:System.Windows.Controls.Panel>组成。</span><span class="sxs-lookup"><span data-stu-id="f1df4-125"><xref:System.Windows.Controls.Panel.Children%2A> represents the child collection of elements that the <xref:System.Windows.Controls.Panel> is comprised of.</span></span> <span data-ttu-id="f1df4-126"><xref:System.Windows.Controls.Panel.InternalChildren%2A> 表示内容的<xref:System.Windows.Controls.Panel.Children%2A>集合以及通过数据绑定生成的成员。</span><span class="sxs-lookup"><span data-stu-id="f1df4-126"><xref:System.Windows.Controls.Panel.InternalChildren%2A> represents the content of the <xref:System.Windows.Controls.Panel.Children%2A> collection plus those members generated by data binding.</span></span> <span data-ttu-id="f1df4-127">同时组成<xref:System.Windows.Controls.UIElementCollection>承载父项中的子元素<xref:System.Windows.Controls.Panel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-127">Both consist of a <xref:System.Windows.Controls.UIElementCollection> of child elements hosted within the parent <xref:System.Windows.Controls.Panel>.</span></span>  
  
 <span data-ttu-id="f1df4-128">面板还公开<xref:System.Windows.Controls.Panel.ZIndex%2A?displayProperty=nameWithType>附加属性可用于实现在派生的分层的顺序<xref:System.Windows.Controls.Panel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-128">Panel also exposes a <xref:System.Windows.Controls.Panel.ZIndex%2A?displayProperty=nameWithType> attached property that can be used to achieve layered order in a derived <xref:System.Windows.Controls.Panel>.</span></span> <span data-ttu-id="f1df4-129">面板的成员<xref:System.Windows.Controls.Panel.Children%2A>集合具有较高<xref:System.Windows.Controls.Panel.ZIndex%2A?displayProperty=nameWithType>值显示在具有较低<xref:System.Windows.Controls.Panel.ZIndex%2A?displayProperty=nameWithType>值。</span><span class="sxs-lookup"><span data-stu-id="f1df4-129">Members of a panel's <xref:System.Windows.Controls.Panel.Children%2A> collection with a higher <xref:System.Windows.Controls.Panel.ZIndex%2A?displayProperty=nameWithType> value appear in front of those with a lower <xref:System.Windows.Controls.Panel.ZIndex%2A?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="f1df4-130">这是特别适合面板如<xref:System.Windows.Controls.Canvas>和<xref:System.Windows.Controls.Grid>这使子级共享相同的坐标空间。</span><span class="sxs-lookup"><span data-stu-id="f1df4-130">This is particularly useful for panels such as <xref:System.Windows.Controls.Canvas> and <xref:System.Windows.Controls.Grid> which allow children to share the same coordinate space.</span></span>  
  
 <span data-ttu-id="f1df4-131"><xref:System.Windows.Controls.Panel> 此外定义了<xref:System.Windows.Controls.Panel.OnRender%2A>方法，可用于重写的默认呈现行为的<xref:System.Windows.Controls.Panel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-131"><xref:System.Windows.Controls.Panel> also defines the <xref:System.Windows.Controls.Panel.OnRender%2A> method, which can be used to override the default presentation behavior of a <xref:System.Windows.Controls.Panel>.</span></span>  
  
#### <a name="attached-properties"></a><span data-ttu-id="f1df4-132">附加属性</span><span class="sxs-lookup"><span data-stu-id="f1df4-132">Attached Properties</span></span>  
 <span data-ttu-id="f1df4-133">派生面板元素广泛使用附加属性。</span><span class="sxs-lookup"><span data-stu-id="f1df4-133">Derived panel elements make extensive use of attached properties.</span></span> <span data-ttu-id="f1df4-134">附加属性是没有常规 [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] 属性“包装器”的依赖属性的特殊化形式。</span><span class="sxs-lookup"><span data-stu-id="f1df4-134">An attached property is a specialized form of dependency property that does not have the conventional [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property "wrapper".</span></span> <span data-ttu-id="f1df4-135">附加属性在 [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] 中具有特殊化的语法，可在后面的几个示例中看到。</span><span class="sxs-lookup"><span data-stu-id="f1df4-135">Attached properties have a specialized syntax in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)], which can be seen in several of the examples that follow.</span></span>  
  
 <span data-ttu-id="f1df4-136">附加属性的一个用途是允许子元素存储实际上由父元素定义的属性的唯一值。</span><span class="sxs-lookup"><span data-stu-id="f1df4-136">One purpose of an attached property is to allow child elements to store unique values of a property that is actually defined by a parent element.</span></span> <span data-ttu-id="f1df4-137">此功能的一项应用是让子元素通知父级它们希望如何在 [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] 中呈现，这对应用程序布局非常有用。</span><span class="sxs-lookup"><span data-stu-id="f1df4-137">An application of this functionality is having child elements inform the parent how they wish to be presented in the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], which is extremely useful for application layout.</span></span> <span data-ttu-id="f1df4-138">有关详细信息，请参阅[附加属性概述](../advanced/attached-properties-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="f1df4-138">For more information, see [Attached Properties Overview](../advanced/attached-properties-overview.md).</span></span>  
  
<a name="Panels_derived_elements"></a>   
## <a name="derived-panel-elements"></a><span data-ttu-id="f1df4-139">派生 Panel 元素</span><span class="sxs-lookup"><span data-stu-id="f1df4-139">Derived Panel Elements</span></span>  
 <span data-ttu-id="f1df4-140">许多对象派生<xref:System.Windows.Controls.Panel>，但不是所有这些旨在使用作为根布局提供程序。</span><span class="sxs-lookup"><span data-stu-id="f1df4-140">Many objects derive from <xref:System.Windows.Controls.Panel>, but not all of them are intended for use as root layout providers.</span></span> <span data-ttu-id="f1df4-141">有六个定义的面板类 (<xref:System.Windows.Controls.Canvas>， <xref:System.Windows.Controls.DockPanel>， <xref:System.Windows.Controls.Grid>， <xref:System.Windows.Controls.StackPanel>， <xref:System.Windows.Controls.VirtualizingStackPanel>，并且<xref:System.Windows.Controls.WrapPanel>)，专为创建应用程序[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="f1df4-141">There are six defined panel classes (<xref:System.Windows.Controls.Canvas>, <xref:System.Windows.Controls.DockPanel>, <xref:System.Windows.Controls.Grid>, <xref:System.Windows.Controls.StackPanel>, <xref:System.Windows.Controls.VirtualizingStackPanel>, and <xref:System.Windows.Controls.WrapPanel>) that are designed specifically for creating application [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span>  
  
 <span data-ttu-id="f1df4-142">每个面板元素都封装自己的特殊功能，如下表所示。</span><span class="sxs-lookup"><span data-stu-id="f1df4-142">Each panel element encapsulates its own special functionality, as seen in the following table.</span></span>  
  
|<span data-ttu-id="f1df4-143">元素名称</span><span class="sxs-lookup"><span data-stu-id="f1df4-143">Element Name</span></span>|<span data-ttu-id="f1df4-144">是否为 UI 面板？</span><span class="sxs-lookup"><span data-stu-id="f1df4-144">UI Panel?</span></span>|<span data-ttu-id="f1df4-145">描述</span><span class="sxs-lookup"><span data-stu-id="f1df4-145">Description</span></span>|  
|------------------|---------------|-----------------|  
|<xref:System.Windows.Controls.Canvas>|<span data-ttu-id="f1df4-146">是</span><span class="sxs-lookup"><span data-stu-id="f1df4-146">Yes</span></span>|<span data-ttu-id="f1df4-147">定义一个区域，在其中可以显式定位子元素的坐标相对于<xref:System.Windows.Controls.Canvas>区域。</span><span class="sxs-lookup"><span data-stu-id="f1df4-147">Defines an area within which you can explicitly position child elements by coordinates relative to the <xref:System.Windows.Controls.Canvas> area.</span></span>|  
|<xref:System.Windows.Controls.DockPanel>|<span data-ttu-id="f1df4-148">是</span><span class="sxs-lookup"><span data-stu-id="f1df4-148">Yes</span></span>|<span data-ttu-id="f1df4-149">定义一个区域，可在其中使子元素相互水平或垂直排列。</span><span class="sxs-lookup"><span data-stu-id="f1df4-149">Defines an area within which you can arrange child elements either horizontally or vertically, relative to each other.</span></span>|  
|<xref:System.Windows.Controls.Grid>|<span data-ttu-id="f1df4-150">是</span><span class="sxs-lookup"><span data-stu-id="f1df4-150">Yes</span></span>|<span data-ttu-id="f1df4-151">定义一个由列和行组成的灵活网格区域。</span><span class="sxs-lookup"><span data-stu-id="f1df4-151">Defines a flexible grid area consisting of columns and rows.</span></span> <span data-ttu-id="f1df4-152">子元素<xref:System.Windows.Controls.Grid>可以精确地使用定位<xref:System.Windows.FrameworkElement.Margin%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="f1df4-152">Child elements of a <xref:System.Windows.Controls.Grid> can be positioned precisely using the <xref:System.Windows.FrameworkElement.Margin%2A> property.</span></span>|  
|<xref:System.Windows.Controls.StackPanel>|<span data-ttu-id="f1df4-153">是</span><span class="sxs-lookup"><span data-stu-id="f1df4-153">Yes</span></span>|<span data-ttu-id="f1df4-154">将子元素排列成水平或垂直的一行。</span><span class="sxs-lookup"><span data-stu-id="f1df4-154">Arranges child elements into a single line that can be oriented horizontally or vertically.</span></span>|  
|<xref:System.Windows.Controls.Primitives.TabPanel>|<span data-ttu-id="f1df4-155">否</span><span class="sxs-lookup"><span data-stu-id="f1df4-155">No</span></span>|<span data-ttu-id="f1df4-156">处理中的选项卡按钮的布局<xref:System.Windows.Controls.TabControl>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-156">Handles the layout of tab buttons in a <xref:System.Windows.Controls.TabControl>.</span></span>|  
|<xref:System.Windows.Controls.Primitives.ToolBarOverflowPanel>|<span data-ttu-id="f1df4-157">否</span><span class="sxs-lookup"><span data-stu-id="f1df4-157">No</span></span>|<span data-ttu-id="f1df4-158">排列中的内容<xref:System.Windows.Controls.ToolBar>控件。</span><span class="sxs-lookup"><span data-stu-id="f1df4-158">Arranges content within a <xref:System.Windows.Controls.ToolBar> control.</span></span>|  
|<xref:System.Windows.Controls.Primitives.UniformGrid>|<span data-ttu-id="f1df4-159">否</span><span class="sxs-lookup"><span data-stu-id="f1df4-159">No</span></span>|<span data-ttu-id="f1df4-160"><xref:System.Windows.Controls.Primitives.UniformGrid> 用于与所有相等的单元格大小排列在网格中的子级。</span><span class="sxs-lookup"><span data-stu-id="f1df4-160"><xref:System.Windows.Controls.Primitives.UniformGrid> is used to arrange children in a grid with all equal cell sizes.</span></span>|  
|<xref:System.Windows.Controls.VirtualizingPanel>|<span data-ttu-id="f1df4-161">否</span><span class="sxs-lookup"><span data-stu-id="f1df4-161">No</span></span>|<span data-ttu-id="f1df4-162">为可以“虚拟化”其子级集合的面板提供基类。</span><span class="sxs-lookup"><span data-stu-id="f1df4-162">Provides a base class for panels that can "virtualize" their children collection.</span></span>|  
|<xref:System.Windows.Controls.VirtualizingStackPanel>|<span data-ttu-id="f1df4-163">是</span><span class="sxs-lookup"><span data-stu-id="f1df4-163">Yes</span></span>|<span data-ttu-id="f1df4-164">在水平或垂直方向上将内容排列为一行并使其虚拟化。</span><span class="sxs-lookup"><span data-stu-id="f1df4-164">Arranges and virtualizes content on a single line oriented horizontally or vertically.</span></span>|  
|<xref:System.Windows.Controls.WrapPanel>|<span data-ttu-id="f1df4-165">是</span><span class="sxs-lookup"><span data-stu-id="f1df4-165">Yes</span></span>|<span data-ttu-id="f1df4-166"><xref:System.Windows.Controls.WrapPanel> 从顺序位置定位子元素的从左到右，将内容切换到下一行上包含框的边缘。</span><span class="sxs-lookup"><span data-stu-id="f1df4-166"><xref:System.Windows.Controls.WrapPanel> positions child elements in sequential position from left to right, breaking content to the next line at the edge of the containing box.</span></span> <span data-ttu-id="f1df4-167">后续排序按照按顺序从上到下还是从右到左，具体取决于值<xref:System.Windows.Controls.WrapPanel.Orientation%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="f1df4-167">Subsequent ordering happens sequentially from top to bottom or right to left, depending on the value of the <xref:System.Windows.Controls.WrapPanel.Orientation%2A> property.</span></span>|  
  
<a name="Panels_main_UI_elements"></a>   
## <a name="user-interface-panels"></a><span data-ttu-id="f1df4-168">用户界面 Panel</span><span class="sxs-lookup"><span data-stu-id="f1df4-168">User Interface Panels</span></span>  
 <span data-ttu-id="f1df4-169">中提供了六个面板类[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]进行了优化以支持[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]方案： <xref:System.Windows.Controls.Canvas>， <xref:System.Windows.Controls.DockPanel>， <xref:System.Windows.Controls.Grid>， <xref:System.Windows.Controls.StackPanel>， <xref:System.Windows.Controls.VirtualizingStackPanel>，和<xref:System.Windows.Controls.WrapPanel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-169">There are six panel classes available in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] that are optimized to support [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] scenarios: <xref:System.Windows.Controls.Canvas>, <xref:System.Windows.Controls.DockPanel>, <xref:System.Windows.Controls.Grid>, <xref:System.Windows.Controls.StackPanel>, <xref:System.Windows.Controls.VirtualizingStackPanel>, and <xref:System.Windows.Controls.WrapPanel>.</span></span> <span data-ttu-id="f1df4-170">这些面板元素易于使用、功能齐全并且可扩展，足以适用于大多数应用程序。</span><span class="sxs-lookup"><span data-stu-id="f1df4-170">These panel elements are easy to use, versatile, and extensible enough for most applications.</span></span>  
  
 <span data-ttu-id="f1df4-171">每个派生<xref:System.Windows.Controls.Panel>元素以不同方式处理大小调整约束。</span><span class="sxs-lookup"><span data-stu-id="f1df4-171">Each derived <xref:System.Windows.Controls.Panel> element treats sizing constraints differently.</span></span> <span data-ttu-id="f1df4-172">了解如何<xref:System.Windows.Controls.Panel>中水平或垂直方向的句柄约束可以使布局更可预测。</span><span class="sxs-lookup"><span data-stu-id="f1df4-172">Understanding how a <xref:System.Windows.Controls.Panel> handles constraints in either the horizontal or vertical direction can make layout more predictable.</span></span>  
  
|<span data-ttu-id="f1df4-173">**Panel 名称**</span><span class="sxs-lookup"><span data-stu-id="f1df4-173">**Panel Name**</span></span>|<span data-ttu-id="f1df4-174">**x 维度**</span><span class="sxs-lookup"><span data-stu-id="f1df4-174">**x-Dimension**</span></span>|<span data-ttu-id="f1df4-175">**y 维度**</span><span class="sxs-lookup"><span data-stu-id="f1df4-175">**y-Dimension**</span></span>|  
|--------------------|----------------------|----------------------|  
|<xref:System.Windows.Controls.Canvas>|<span data-ttu-id="f1df4-176">按内容约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-176">Constrained to content</span></span>|<span data-ttu-id="f1df4-177">按内容约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-177">Constrained to content</span></span>|  
|<xref:System.Windows.Controls.DockPanel>|<span data-ttu-id="f1df4-178">约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-178">Constrained</span></span>|<span data-ttu-id="f1df4-179">约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-179">Constrained</span></span>|  
|<span data-ttu-id="f1df4-180"><xref:System.Windows.Controls.StackPanel> （垂直方向）</span><span class="sxs-lookup"><span data-stu-id="f1df4-180"><xref:System.Windows.Controls.StackPanel> (Vertical Orientation)</span></span>|<span data-ttu-id="f1df4-181">约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-181">Constrained</span></span>|<span data-ttu-id="f1df4-182">按内容约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-182">Constrained to content</span></span>|  
|<span data-ttu-id="f1df4-183"><xref:System.Windows.Controls.StackPanel> （水平方向）</span><span class="sxs-lookup"><span data-stu-id="f1df4-183"><xref:System.Windows.Controls.StackPanel> (Horizontal Orientation)</span></span>|<span data-ttu-id="f1df4-184">按内容约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-184">Constrained to content</span></span>|<span data-ttu-id="f1df4-185">约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-185">Constrained</span></span>|  
|<xref:System.Windows.Controls.Grid>|<span data-ttu-id="f1df4-186">约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-186">Constrained</span></span>|<span data-ttu-id="f1df4-187">在情况下的约束，除非其中<xref:System.Windows.GridUnitType.Auto>适用于行和列</span><span class="sxs-lookup"><span data-stu-id="f1df4-187">Constrained, except in cases where <xref:System.Windows.GridUnitType.Auto> apply to rows and columns</span></span>|  
|<xref:System.Windows.Controls.WrapPanel>|<span data-ttu-id="f1df4-188">按内容约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-188">Constrained to content</span></span>|<span data-ttu-id="f1df4-189">按内容约束</span><span class="sxs-lookup"><span data-stu-id="f1df4-189">Constrained to content</span></span>|  
  
 <span data-ttu-id="f1df4-190">可在下方找到其中每种元素的更多详细说明和使用示例。</span><span class="sxs-lookup"><span data-stu-id="f1df4-190">More detailed descriptions and usage examples of each of these elements can be found below.</span></span>  
  
<a name="Panels_overview_Canvas_subsection"></a>   
### <a name="canvas"></a><span data-ttu-id="f1df4-191">Canvas</span><span class="sxs-lookup"><span data-stu-id="f1df4-191">Canvas</span></span>  
 <span data-ttu-id="f1df4-192"><xref:System.Windows.Controls.Canvas>元素允许的内容根据绝对定位*x 轴*并*y-* 坐标。</span><span class="sxs-lookup"><span data-stu-id="f1df4-192">The <xref:System.Windows.Controls.Canvas> element enables positioning of content according to absolute *x-* and *y-* coordinates.</span></span> <span data-ttu-id="f1df4-193">元素可以在唯一位置绘制；或者，如果元素占用了相同坐标，则这些元素在标记中显示的顺序决定它们的绘制顺序。</span><span class="sxs-lookup"><span data-stu-id="f1df4-193">Elements can be drawn in a unique location; or, if elements occupy the same coordinates, the order in which they appear in markup determines the order in which the elements are drawn.</span></span>  
  
 <span data-ttu-id="f1df4-194"><xref:System.Windows.Controls.Canvas> 提供最灵活布局支持的任何<xref:System.Windows.Controls.Panel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-194"><xref:System.Windows.Controls.Canvas> provides the most flexible layout support of any <xref:System.Windows.Controls.Panel>.</span></span> <span data-ttu-id="f1df4-195">Height 和 Width 属性用于定义在画布的区域和内部的元素分配相对于父区域的绝对坐标<xref:System.Windows.Controls.Canvas>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-195">Height and Width properties are used to define the area of the canvas, and elements inside are assigned absolute coordinates relative to the area of the parent <xref:System.Windows.Controls.Canvas>.</span></span> <span data-ttu-id="f1df4-196">四个附加的属性， <xref:System.Windows.Controls.Canvas.Left%2A?displayProperty=nameWithType>， <xref:System.Windows.Controls.Canvas.Top%2A?displayProperty=nameWithType>，<xref:System.Windows.Controls.Canvas.Right%2A?displayProperty=nameWithType>并<xref:System.Windows.Controls.Canvas.Bottom%2A?displayProperty=nameWithType>，允许内的对象放置进行精细控制<xref:System.Windows.Controls.Canvas>，允许开发人员放置和排列在屏幕上精确的元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-196">Four attached properties, <xref:System.Windows.Controls.Canvas.Left%2A?displayProperty=nameWithType>, <xref:System.Windows.Controls.Canvas.Top%2A?displayProperty=nameWithType>, <xref:System.Windows.Controls.Canvas.Right%2A?displayProperty=nameWithType> and <xref:System.Windows.Controls.Canvas.Bottom%2A?displayProperty=nameWithType>, allow fine control of object placement within a <xref:System.Windows.Controls.Canvas>, allowing the developer to position and arrange elements precisely on the screen.</span></span>  
  
#### <a name="cliptobounds-within-a-canvas"></a><span data-ttu-id="f1df4-197">Canvas 内 ClipToBounds</span><span class="sxs-lookup"><span data-stu-id="f1df4-197">ClipToBounds Within a Canvas</span></span>  
 <span data-ttu-id="f1df4-198"><xref:System.Windows.Controls.Canvas> 可在屏幕上，即使在坐标位于其自己定义之外的任何位置定位子元素<xref:System.Windows.FrameworkElement.Height%2A>和<xref:System.Windows.FrameworkElement.Width%2A>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-198"><xref:System.Windows.Controls.Canvas> can position child elements at any position on the screen, even at coordinates that are outside of its own defined <xref:System.Windows.FrameworkElement.Height%2A> and <xref:System.Windows.FrameworkElement.Width%2A>.</span></span> <span data-ttu-id="f1df4-199">此外，<xref:System.Windows.Controls.Canvas>不受其子级的大小。</span><span class="sxs-lookup"><span data-stu-id="f1df4-199">Furthermore, <xref:System.Windows.Controls.Canvas> is not affected by the size of its children.</span></span> <span data-ttu-id="f1df4-200">因此，很可能要过度绘制父级的边框之外的其他元素的子元素<xref:System.Windows.Controls.Canvas>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-200">As a result, it is possible for a child element to overdraw other elements outside the bounding rectangle of the parent <xref:System.Windows.Controls.Canvas>.</span></span> <span data-ttu-id="f1df4-201">默认行为<xref:System.Windows.Controls.Canvas>是允许的父边界外绘制子级<xref:System.Windows.Controls.Canvas>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-201">The default behavior of a <xref:System.Windows.Controls.Canvas> is to allow children to be drawn outside the bounds of the parent <xref:System.Windows.Controls.Canvas>.</span></span> <span data-ttu-id="f1df4-202">如果不需要，此行为<xref:System.Windows.UIElement.ClipToBounds%2A>属性可以设置为`true`。</span><span class="sxs-lookup"><span data-stu-id="f1df4-202">If this behavior is undesirable, the <xref:System.Windows.UIElement.ClipToBounds%2A> property can be set to `true`.</span></span> <span data-ttu-id="f1df4-203">这将导致<xref:System.Windows.Controls.Canvas>向剪辑到其自身的大小。</span><span class="sxs-lookup"><span data-stu-id="f1df4-203">This causes <xref:System.Windows.Controls.Canvas> to clip to its own size.</span></span> <span data-ttu-id="f1df4-204"><xref:System.Windows.Controls.Canvas> 是唯一的布局元素，允许其边界外绘制子级。</span><span class="sxs-lookup"><span data-stu-id="f1df4-204"><xref:System.Windows.Controls.Canvas> is the only layout element that allows children to be drawn outside its bounds.</span></span>  
  
 <span data-ttu-id="f1df4-205">[宽度属性比较示例](https://go.microsoft.com/fwlink/?LinkID=160050)中以图形方式展示了此行为。</span><span class="sxs-lookup"><span data-stu-id="f1df4-205">This behavior is graphically illustrated in the [Width Properties Comparison Sample](https://go.microsoft.com/fwlink/?LinkID=160050).</span></span>  
  
#### <a name="defining-and-using-a-canvas"></a><span data-ttu-id="f1df4-206">定义和使用 Canvas</span><span class="sxs-lookup"><span data-stu-id="f1df4-206">Defining and Using a Canvas</span></span>  
 <span data-ttu-id="f1df4-207">一个<xref:System.Windows.Controls.Canvas>可以只需通过使用实例化[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]或代码。</span><span class="sxs-lookup"><span data-stu-id="f1df4-207">A <xref:System.Windows.Controls.Canvas> can be instantiated simply by using [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] or code.</span></span> <span data-ttu-id="f1df4-208">下面的示例演示如何使用<xref:System.Windows.Controls.Canvas>以绝对方式定位内容。</span><span class="sxs-lookup"><span data-stu-id="f1df4-208">The following example demonstrates how to use <xref:System.Windows.Controls.Canvas> to absolutely position content.</span></span> <span data-ttu-id="f1df4-209">此代码生成三个 100 像素正方形。</span><span class="sxs-lookup"><span data-stu-id="f1df4-209">This code produces three 100-pixel squares.</span></span> <span data-ttu-id="f1df4-210">第一个正方形为红色，其左上角的 (*x, y*) 位置指定为 (0, 0)。</span><span class="sxs-lookup"><span data-stu-id="f1df4-210">The first square is red, and its top-left (*x, y*) position is specified as (0, 0).</span></span> <span data-ttu-id="f1df4-211">第二个正方形为绿色，其左上角位置为 (100, 100)，在第一个正方形的右下方。</span><span class="sxs-lookup"><span data-stu-id="f1df4-211">The second square is green, and its top-left position is (100, 100), just below and to the right of the first square.</span></span> <span data-ttu-id="f1df4-212">第三个正方形为蓝色，其左上角为 (50, 50)，因此包含了第一个正方形的右下四分之一部分和第二个正方形的左上四分之一部分。</span><span class="sxs-lookup"><span data-stu-id="f1df4-212">The third square is blue, and its top-left position is (50, 50), thus encompassing the lower-right quadrant of the first square and the upper-left quadrant of the second.</span></span> <span data-ttu-id="f1df4-213">由于第三个正方形最后布置，因此它看起来在另外两个正方形上方，即，重叠部分采用第三个正方形的颜色。</span><span class="sxs-lookup"><span data-stu-id="f1df4-213">Because the third square is laid out last, it appears to be on top of the other two squares—that is, the overlapping portions assume the color of the third box.</span></span>  
  
 [!code-csharp[CanvasOvwSample#1](~/samples/snippets/csharp/VS_Snippets_Wpf/CanvasOvwSample/CSharp/Canvas_Ovw_Sample.cs#1)]
 [!code-vb[CanvasOvwSample#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CanvasOvwSample/VisualBasic/canvas_vb.vb#1)]
 [!code-xaml[CanvasOvwSample#1](~/samples/snippets/xaml/VS_Snippets_Wpf/CanvasOvwSample/XAML/default.xaml#1)]  
  
 <span data-ttu-id="f1df4-214">经编译的应用程序产生新的 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]，外观如下。</span><span class="sxs-lookup"><span data-stu-id="f1df4-214">The compiled application yields a new [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] that looks like this.</span></span>  
  
 <span data-ttu-id="f1df4-215">![典型的 Canvas 元素。](./media/panel-intro-canvas.PNG "panel_intro_canvas")</span><span class="sxs-lookup"><span data-stu-id="f1df4-215">![A typical Canvas Element.](./media/panel-intro-canvas.PNG "panel_intro_canvas")</span></span>  
  
<a name="Panels_overview_DockPanel_subsection"></a>   
### <a name="dockpanel"></a><span data-ttu-id="f1df4-216">DockPanel</span><span class="sxs-lookup"><span data-stu-id="f1df4-216">DockPanel</span></span>  
 <span data-ttu-id="f1df4-217"><xref:System.Windows.Controls.DockPanel>元素使用<xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType>子内容元素来定位内容沿容器的边缘中设置附加属性。</span><span class="sxs-lookup"><span data-stu-id="f1df4-217">The <xref:System.Windows.Controls.DockPanel> element uses the <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> attached property as set in child content elements to position content along the edges of a container.</span></span> <span data-ttu-id="f1df4-218">当<xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType>设置为<xref:System.Windows.Controls.Dock.Top>或<xref:System.Windows.Controls.Dock.Bottom>，它将子元素的上方或下方相互定位。</span><span class="sxs-lookup"><span data-stu-id="f1df4-218">When <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> is set to <xref:System.Windows.Controls.Dock.Top> or <xref:System.Windows.Controls.Dock.Bottom>, it positions child elements above or below each other.</span></span> <span data-ttu-id="f1df4-219">当<xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType>设置为<xref:System.Windows.Controls.Dock.Left>或<xref:System.Windows.Controls.Dock.Right>，它将定位到左侧或右侧的每个其他子元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-219">When <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> is set to <xref:System.Windows.Controls.Dock.Left> or <xref:System.Windows.Controls.Dock.Right>, it positions child elements to the left or right of each other.</span></span> <span data-ttu-id="f1df4-220"><xref:System.Windows.Controls.DockPanel.LastChildFill%2A>属性确定作为子级添加的最后一个元素的位置<xref:System.Windows.Controls.DockPanel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-220">The <xref:System.Windows.Controls.DockPanel.LastChildFill%2A> property determines the position of the final element added as a child of a <xref:System.Windows.Controls.DockPanel>.</span></span>  
  
 <span data-ttu-id="f1df4-221">可以使用<xref:System.Windows.Controls.DockPanel>定位一组相关控件，如一组按钮。</span><span class="sxs-lookup"><span data-stu-id="f1df4-221">You can use <xref:System.Windows.Controls.DockPanel> to position a group of related controls, such as a set of buttons.</span></span> <span data-ttu-id="f1df4-222">或者，可以使用它创建“平移”的 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]，类似于 [!INCLUDE[TLA#tla_outlook](../../../../includes/tlasharptla-outlook-md.md)] 中的 UI。</span><span class="sxs-lookup"><span data-stu-id="f1df4-222">Alternately, you can use it to create a "paned" [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], similar to that found in [!INCLUDE[TLA#tla_outlook](../../../../includes/tlasharptla-outlook-md.md)].</span></span>  
  
#### <a name="sizing-to-content"></a><span data-ttu-id="f1df4-223">按内容调整大小</span><span class="sxs-lookup"><span data-stu-id="f1df4-223">Sizing to Content</span></span>  
 <span data-ttu-id="f1df4-224">如果其<xref:System.Windows.FrameworkElement.Height%2A>并<xref:System.Windows.FrameworkElement.Width%2A>未指定属性，<xref:System.Windows.Controls.DockPanel>其内容的大小。</span><span class="sxs-lookup"><span data-stu-id="f1df4-224">If its <xref:System.Windows.FrameworkElement.Height%2A> and <xref:System.Windows.FrameworkElement.Width%2A> properties are not specified, <xref:System.Windows.Controls.DockPanel> sizes to its content.</span></span> <span data-ttu-id="f1df4-225">大小可以增大或减小以容纳其子元素的大小。</span><span class="sxs-lookup"><span data-stu-id="f1df4-225">The size can increase or decrease to accommodate the size of its child elements.</span></span> <span data-ttu-id="f1df4-226">但是，当已指定这些属性，并且不再为下一步指定的子元素，留出空间<xref:System.Windows.Controls.DockPanel>不显示该子元素或后续子元素，且不测量后续子元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-226">However, when these properties are specified and there is no longer room for the next specified child element, <xref:System.Windows.Controls.DockPanel> does not display that child element or subsequent child elements and does not measure subsequent child elements.</span></span>  
  
#### <a name="lastchildfill"></a><span data-ttu-id="f1df4-227">LastChildFill</span><span class="sxs-lookup"><span data-stu-id="f1df4-227">LastChildFill</span></span>  
 <span data-ttu-id="f1df4-228">默认情况下的最后一个子级<xref:System.Windows.Controls.DockPanel>元素将"填充"剩余的未分配空间。</span><span class="sxs-lookup"><span data-stu-id="f1df4-228">By default, the last child of a <xref:System.Windows.Controls.DockPanel> element will "fill" the remaining, unallocated space.</span></span> <span data-ttu-id="f1df4-229">如果不需要此行为，请设置<xref:System.Windows.Controls.DockPanel.LastChildFill%2A>属性设置为`false`。</span><span class="sxs-lookup"><span data-stu-id="f1df4-229">If this behavior is not desired, set the <xref:System.Windows.Controls.DockPanel.LastChildFill%2A> property to `false`.</span></span>  
  
#### <a name="defining-and-using-a-dockpanel"></a><span data-ttu-id="f1df4-230">定义和使用 DockPanel</span><span class="sxs-lookup"><span data-stu-id="f1df4-230">Defining and Using a DockPanel</span></span>  
 <span data-ttu-id="f1df4-231">下面的示例演示如何进行分区的空间使用<xref:System.Windows.Controls.DockPanel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-231">The following example demonstrates how to partition space using a <xref:System.Windows.Controls.DockPanel>.</span></span> <span data-ttu-id="f1df4-232">五<xref:System.Windows.Controls.Border>元素添加为父级的子级<xref:System.Windows.Controls.DockPanel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-232">Five <xref:System.Windows.Controls.Border> elements are added as children of a parent <xref:System.Windows.Controls.DockPanel>.</span></span> <span data-ttu-id="f1df4-233">每个使用不同的位置属性来<xref:System.Windows.Controls.DockPanel>对空间进行分区。</span><span class="sxs-lookup"><span data-stu-id="f1df4-233">Each uses a different positioning property of a <xref:System.Windows.Controls.DockPanel> to partition space.</span></span> <span data-ttu-id="f1df4-234">最后一个元素"填充"剩余的未分配空间。</span><span class="sxs-lookup"><span data-stu-id="f1df4-234">The final element "fills" the remaining, unallocated space.</span></span>  
  
 [!code-cpp[DockPanelOvwSample#1](~/samples/snippets/cpp/VS_Snippets_Wpf/DockPanelOvwSample/CPP/DockPanel_Ovw_Sample.cpp#1)]
 [!code-csharp[DockPanelOvwSample#1](~/samples/snippets/csharp/VS_Snippets_Wpf/DockPanelOvwSample/CSharp/DockPanel_Ovw_Sample.cs#1)]
 [!code-vb[DockPanelOvwSample#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DockPanelOvwSample/VisualBasic/dockpanel_vb.vb#1)]
 [!code-xaml[DockPanelOvwSample#1](~/samples/snippets/xaml/VS_Snippets_Wpf/DockPanelOvwSample/XAML/default.xaml#1)]  
  
 <span data-ttu-id="f1df4-235">经编译的应用程序产生新的 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]，外观如下。</span><span class="sxs-lookup"><span data-stu-id="f1df4-235">The compiled application yields a new [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] that looks like this.</span></span>  
  
 <span data-ttu-id="f1df4-236">![典型的 DockPanel 方案。](./media/panel-intro-dockpanel.PNG "panel_intro_dockpanel")</span><span class="sxs-lookup"><span data-stu-id="f1df4-236">![A typical DockPanel scenario.](./media/panel-intro-dockpanel.PNG "panel_intro_dockpanel")</span></span>  
  
<a name="Panels_overview_Grid_subsection"></a>   
### <a name="grid"></a><span data-ttu-id="f1df4-237">Grid</span><span class="sxs-lookup"><span data-stu-id="f1df4-237">Grid</span></span>  
 <span data-ttu-id="f1df4-238"><xref:System.Windows.Controls.Grid>元素合并绝对定位和表格数据控件的功能。</span><span class="sxs-lookup"><span data-stu-id="f1df4-238">The <xref:System.Windows.Controls.Grid> element merges the functionality of an absolute positioning and tabular data control.</span></span> <span data-ttu-id="f1df4-239">一个<xref:System.Windows.Controls.Grid>使你能够轻松地位置和样式元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-239">A <xref:System.Windows.Controls.Grid> enables you to easily position and style elements.</span></span> <span data-ttu-id="f1df4-240"><xref:System.Windows.Controls.Grid> 允许你定义灵活的行和列分组，并甚至还提供了一种机制来共享大小调整信息之间多<xref:System.Windows.Controls.Grid>元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-240"><xref:System.Windows.Controls.Grid> allows you to define flexible row and column groupings, and even provides a mechanism to share sizing information between multiple <xref:System.Windows.Controls.Grid> elements.</span></span>  
  
#### <a name="how-is-grid-different-from-table"></a><span data-ttu-id="f1df4-241">网格与表格有何不同？</span><span class="sxs-lookup"><span data-stu-id="f1df4-241">How is Grid Different from Table?</span></span>  
 <span data-ttu-id="f1df4-242"><xref:System.Windows.Documents.Table> 和<xref:System.Windows.Controls.Grid>共享某些通用功能，但每个都是最适用于不同的方案。</span><span class="sxs-lookup"><span data-stu-id="f1df4-242"><xref:System.Windows.Documents.Table> and <xref:System.Windows.Controls.Grid> share some common functionality, but each is best suited for different scenarios.</span></span> <span data-ttu-id="f1df4-243">一个<xref:System.Windows.Documents.Table>专为流内容内使用 (请参阅[流文档概述](../advanced/flow-document-overview.md)有关流内容的详细信息)。</span><span class="sxs-lookup"><span data-stu-id="f1df4-243">A <xref:System.Windows.Documents.Table> is designed for use within flow content (see [Flow Document Overview](../advanced/flow-document-overview.md) for more information on flow content).</span></span> <span data-ttu-id="f1df4-244">网格最适合在表单内（主要在流内容以外的任意位置）使用。</span><span class="sxs-lookup"><span data-stu-id="f1df4-244">Grids are best used inside of forms (basically anywhere outside of flow content).</span></span> <span data-ttu-id="f1df4-245">内<xref:System.Windows.Documents.FlowDocument>，<xref:System.Windows.Documents.Table>支持流内容行为，如分页、 列重排和内容时选择<xref:System.Windows.Controls.Grid>却没有。</span><span class="sxs-lookup"><span data-stu-id="f1df4-245">Within a <xref:System.Windows.Documents.FlowDocument>, <xref:System.Windows.Documents.Table> supports flow content behaviors like pagination, column reflow, and content selection while a <xref:System.Windows.Controls.Grid> does not.</span></span> <span data-ttu-id="f1df4-246">一个<xref:System.Windows.Controls.Grid>另一方面最好使用之外<xref:System.Windows.Documents.FlowDocument>包括的原因有很多<xref:System.Windows.Controls.Grid>根据行和列索引添加元素<xref:System.Windows.Documents.Table>却没有。</span><span class="sxs-lookup"><span data-stu-id="f1df4-246">A <xref:System.Windows.Controls.Grid> on the other hand is best used outside of a <xref:System.Windows.Documents.FlowDocument> for many reasons including <xref:System.Windows.Controls.Grid> adds elements based on a row and column index, <xref:System.Windows.Documents.Table> does not.</span></span> <span data-ttu-id="f1df4-247"><xref:System.Windows.Controls.Grid>元素可对子内容，从而允许多个元素共存于单个"单元格。"内进行分层</span><span class="sxs-lookup"><span data-stu-id="f1df4-247">The <xref:System.Windows.Controls.Grid> element allows layering of child content, allowing more than one element to exist within a single "cell."</span></span> <span data-ttu-id="f1df4-248"><xref:System.Windows.Documents.Table> 不支持分层。</span><span class="sxs-lookup"><span data-stu-id="f1df4-248"><xref:System.Windows.Documents.Table> does not support layering.</span></span> <span data-ttu-id="f1df4-249">子元素的<xref:System.Windows.Controls.Grid>相对于其"单元格"边界区域进行绝对定位。</span><span class="sxs-lookup"><span data-stu-id="f1df4-249">Child elements of a <xref:System.Windows.Controls.Grid> can be absolutely positioned relative to the area of their "cell" boundaries.</span></span> <span data-ttu-id="f1df4-250"><xref:System.Windows.Documents.Table> 不支持此功能。</span><span class="sxs-lookup"><span data-stu-id="f1df4-250"><xref:System.Windows.Documents.Table> does not support this feature.</span></span> <span data-ttu-id="f1df4-251">最后，<xref:System.Windows.Controls.Grid>比更轻<xref:System.Windows.Documents.Table>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-251">Finally, a <xref:System.Windows.Controls.Grid> is lighter weight than a <xref:System.Windows.Documents.Table>.</span></span>  
  
#### <a name="sizing-behavior-of-columns-and-rows"></a><span data-ttu-id="f1df4-252">列和行的大小调整行为</span><span class="sxs-lookup"><span data-stu-id="f1df4-252">Sizing Behavior of Columns and Rows</span></span>  
 <span data-ttu-id="f1df4-253">列和行中定义<xref:System.Windows.Controls.Grid>可以充分利用<xref:System.Windows.GridUnitType.Star>为了按比例分配剩余空间大小调整。</span><span class="sxs-lookup"><span data-stu-id="f1df4-253">Columns and rows defined within a <xref:System.Windows.Controls.Grid> can take advantage of <xref:System.Windows.GridUnitType.Star> sizing in order to distribute remaining space proportionally.</span></span> <span data-ttu-id="f1df4-254">当<xref:System.Windows.GridUnitType.Star>被选为的高度或宽度的行或列，该列或行将收到剩余的可用空间的加权的比例。</span><span class="sxs-lookup"><span data-stu-id="f1df4-254">When <xref:System.Windows.GridUnitType.Star> is selected as the Height or Width of a row or column, that column or row receives a weighted proportion of remaining available space.</span></span> <span data-ttu-id="f1df4-255">这是与<xref:System.Windows.GridUnitType.Auto>，这会将分发均匀地根据中的列或行的内容的大小的空间。</span><span class="sxs-lookup"><span data-stu-id="f1df4-255">This is in contrast to <xref:System.Windows.GridUnitType.Auto>, which will distribute space evenly based on the size of the content within a column or row.</span></span> <span data-ttu-id="f1df4-256">在使用 [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] 时，此值以 `*` 或 `2*` 的形式表示。</span><span class="sxs-lookup"><span data-stu-id="f1df4-256">This value is expressed as `*` or `2*` when using [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span></span> <span data-ttu-id="f1df4-257">在第一种情况下，行或列将得到一倍的可用空间，在第二种情况下，将得到两倍的可用空间，依此类推。</span><span class="sxs-lookup"><span data-stu-id="f1df4-257">In the first case, the row or column would receive one times the available space, in the second case, two times, and so on.</span></span> <span data-ttu-id="f1df4-258">通过将此技术来按比例分配空间的组合<xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>并<xref:System.Windows.FrameworkElement.VerticalAlignment%2A>的值`Stretch`是可能的布局空间分区的屏幕空间的百分比。</span><span class="sxs-lookup"><span data-stu-id="f1df4-258">By combining this technique to proportionally distribute space with a <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A> and <xref:System.Windows.FrameworkElement.VerticalAlignment%2A> value of `Stretch` it is possible to partition layout space by percentage of screen space.</span></span> <span data-ttu-id="f1df4-259"><xref:System.Windows.Controls.Grid> 是唯一的布局面板，可以将分发在这种方式中的空间。</span><span class="sxs-lookup"><span data-stu-id="f1df4-259"><xref:System.Windows.Controls.Grid> is the only layout panel that can distribute space in this manner.</span></span>  
  
#### <a name="defining-and-using-a-grid"></a><span data-ttu-id="f1df4-260">定义和使用 Grid</span><span class="sxs-lookup"><span data-stu-id="f1df4-260">Defining and Using a Grid</span></span>  
 <span data-ttu-id="f1df4-261">以下示例演示如何生成 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]，该 UI 类似于 [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]“开始”菜单上提供的“运行”对话框上的 UI。</span><span class="sxs-lookup"><span data-stu-id="f1df4-261">The following example demonstrates how to build a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] similar to that found on the Run dialog available on the [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] Start menu.</span></span>  
  
 [!code-csharp[GridRunDialog#1](~/samples/snippets/csharp/VS_Snippets_Wpf/GridRunDialog/CSharp/window1.xaml.cs#1)]
 [!code-vb[GridRunDialog#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/GridRunDialog/VisualBasic/grid_vb.vb#1)]  
  
 <span data-ttu-id="f1df4-262">经编译的应用程序产生新的 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]，外观如下。</span><span class="sxs-lookup"><span data-stu-id="f1df4-262">The compiled application yields a new [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] that looks like this.</span></span>  
  
 <span data-ttu-id="f1df4-263">![典型的 Grid 元素。](./media/avalon-run-dialog.PNG "avalon_run_dialog")</span><span class="sxs-lookup"><span data-stu-id="f1df4-263">![A typical Grid Element.](./media/avalon-run-dialog.PNG "avalon_run_dialog")</span></span>  
  
<a name="Panels_overview_StackPanel_subsection"></a>   
### <a name="stackpanel"></a><span data-ttu-id="f1df4-264">StackPanel</span><span class="sxs-lookup"><span data-stu-id="f1df4-264">StackPanel</span></span>  
 <span data-ttu-id="f1df4-265">一个<xref:System.Windows.Controls.StackPanel>可以"堆叠"在指定方向的元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-265">A <xref:System.Windows.Controls.StackPanel> enables you to "stack" elements in an assigned direction.</span></span> <span data-ttu-id="f1df4-266">默认堆叠方向为垂直方向。</span><span class="sxs-lookup"><span data-stu-id="f1df4-266">The default stack direction is vertical.</span></span> <span data-ttu-id="f1df4-267"><xref:System.Windows.Controls.StackPanel.Orientation%2A>属性可用于控制内容流。</span><span class="sxs-lookup"><span data-stu-id="f1df4-267">The <xref:System.Windows.Controls.StackPanel.Orientation%2A> property can be used to control content flow.</span></span>  
  
#### <a name="stackpanel-vs-dockpanel"></a><span data-ttu-id="f1df4-268">StackPanel 与 DockPanel</span><span class="sxs-lookup"><span data-stu-id="f1df4-268">StackPanel vs. DockPanel</span></span>  
 <span data-ttu-id="f1df4-269">尽管<xref:System.Windows.Controls.DockPanel>也可以"堆叠"子元素<xref:System.Windows.Controls.DockPanel>和<xref:System.Windows.Controls.StackPanel>不产生一些应用场景中的类似结果。</span><span class="sxs-lookup"><span data-stu-id="f1df4-269">Although <xref:System.Windows.Controls.DockPanel> can also "stack" child elements, <xref:System.Windows.Controls.DockPanel> and <xref:System.Windows.Controls.StackPanel> do not produce analogous results in some usage scenarios.</span></span> <span data-ttu-id="f1df4-270">例如，子元素的顺序可能会影响在其大小<xref:System.Windows.Controls.DockPanel>但不能在<xref:System.Windows.Controls.StackPanel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-270">For example, the order of child elements can affect their size in a <xref:System.Windows.Controls.DockPanel> but not in a <xref:System.Windows.Controls.StackPanel>.</span></span> <span data-ttu-id="f1df4-271">这是因为<xref:System.Windows.Controls.StackPanel>度量值中的堆叠在方向<xref:System.Double.PositiveInfinity>，而<xref:System.Windows.Controls.DockPanel>测量仅的可用大小。</span><span class="sxs-lookup"><span data-stu-id="f1df4-271">This is because <xref:System.Windows.Controls.StackPanel> measures in the direction of stacking at <xref:System.Double.PositiveInfinity>, whereas <xref:System.Windows.Controls.DockPanel> measures only the available size.</span></span>  
  
 <span data-ttu-id="f1df4-272">以下示例演示此主要区别。</span><span class="sxs-lookup"><span data-stu-id="f1df4-272">The following example demonstrates this key difference.</span></span>  
  
 [!code-cpp[StackPanelOvw4#1](~/samples/snippets/cpp/VS_Snippets_Wpf/StackPanelOvw4/CPP/StackPanel_Ovw_Sample4.cpp#1)]
 [!code-csharp[StackPanelOvw4#1](~/samples/snippets/csharp/VS_Snippets_Wpf/StackPanelOvw4/CSharp/StackPanel_Ovw_Sample4.cs#1)]
 [!code-vb[StackPanelOvw4#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StackPanelOvw4/VisualBasic/StackPanelSamp.vb#1)]
 [!code-xaml[StackPanelOvw4#1](~/samples/snippets/xaml/VS_Snippets_Wpf/StackPanelOvw4/XAML/default.xaml#1)]  
  
 <span data-ttu-id="f1df4-273">通过此图像可以看到呈现行为的区别。</span><span class="sxs-lookup"><span data-stu-id="f1df4-273">The difference in rendering behavior can be seen in this image.</span></span>  
  
 <span data-ttu-id="f1df4-274">![屏幕快照：StackPanel 与 DockPanel 屏幕截图](./media/layout-smiley-stackpanel.PNG "layout_smiley_stackpanel")</span><span class="sxs-lookup"><span data-stu-id="f1df4-274">![Screenshot: StackPanel vs. DockPanel screenshot](./media/layout-smiley-stackpanel.PNG "layout_smiley_stackpanel")</span></span>  
  
#### <a name="defining-and-using-a-stackpanel"></a><span data-ttu-id="f1df4-275">定义和使用 StackPanel</span><span class="sxs-lookup"><span data-stu-id="f1df4-275">Defining and Using a StackPanel</span></span>  
 <span data-ttu-id="f1df4-276">下面的示例演示如何使用<xref:System.Windows.Controls.StackPanel>创建一组垂直定位的按钮。</span><span class="sxs-lookup"><span data-stu-id="f1df4-276">The following example demonstrates how to use a <xref:System.Windows.Controls.StackPanel> to create a set of vertically-positioned buttons.</span></span> <span data-ttu-id="f1df4-277">对于水平定位，设置<xref:System.Windows.Controls.StackPanel.Orientation%2A>属性设置为<xref:System.Windows.Controls.Orientation.Horizontal>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-277">For horizontal positioning, set the <xref:System.Windows.Controls.StackPanel.Orientation%2A> property to <xref:System.Windows.Controls.Orientation.Horizontal>.</span></span>  
  
 [!code-csharp[StackPanel_ovw2#1](~/samples/snippets/csharp/VS_Snippets_Wpf/StackPanel_ovw2/CSharp/StackPanel_Ovw_Sample2.cs#1)]
 [!code-vb[StackPanel_ovw2#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StackPanel_ovw2/VisualBasic/StackPanelOvw.vb#1)]  
  
 <span data-ttu-id="f1df4-278">经编译的应用程序产生新的 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]，外观如下。</span><span class="sxs-lookup"><span data-stu-id="f1df4-278">The compiled application yields a new [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] that looks like this.</span></span>  
  
 <span data-ttu-id="f1df4-279">![典型的 StackPanel 元素。](./media/panel-intro-stackpanel.PNG "panel_intro_stackpanel")</span><span class="sxs-lookup"><span data-stu-id="f1df4-279">![A typical StackPanel element.](./media/panel-intro-stackpanel.PNG "panel_intro_stackpanel")</span></span>  
  
<a name="Panels_overview_VirtualizingStackPanel_subsection"></a>   
#### <a name="virtualizingstackpanel"></a><span data-ttu-id="f1df4-280">VirtualizingStackPanel</span><span class="sxs-lookup"><span data-stu-id="f1df4-280">VirtualizingStackPanel</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="f1df4-281">此外提供了一种变体的<xref:System.Windows.Controls.StackPanel>自动"虚拟化"数据绑定子级内容的元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-281">also provides a variation of the <xref:System.Windows.Controls.StackPanel> element that automatically "virtualizes" data-bound child content.</span></span> <span data-ttu-id="f1df4-282">在此上下文中，“虚拟化”一词指的是一种技术：通过此技术根据屏幕上哪些项可见，从较多的数据项中生成一个元素子集。</span><span class="sxs-lookup"><span data-stu-id="f1df4-282">In this context, the word virtualize refers to a technique by which a subset of elements are generated from a larger number of data items based upon which items are visible on-screen.</span></span> <span data-ttu-id="f1df4-283">如果在指定时刻只有少量 UI 元素位于屏幕上，则此时生成大量 UI 元素需要占用大量内存和处理器。</span><span class="sxs-lookup"><span data-stu-id="f1df4-283">It is intensive, both in terms of memory and processor, to generate a large number of UI elements when only a few may be on the screen at a given time.</span></span> <span data-ttu-id="f1df4-284"><xref:System.Windows.Controls.VirtualizingStackPanel> (通过提供的功能<xref:System.Windows.Controls.VirtualizingPanel>) 计算可见项，并处理<xref:System.Windows.Controls.ItemContainerGenerator>从<xref:System.Windows.Controls.ItemsControl>(如<xref:System.Windows.Controls.ListBox>或<xref:System.Windows.Controls.ListView>) 仅创建为可见项的元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-284"><xref:System.Windows.Controls.VirtualizingStackPanel> (through functionality provided by <xref:System.Windows.Controls.VirtualizingPanel>) calculates visible items and works with the <xref:System.Windows.Controls.ItemContainerGenerator> from an <xref:System.Windows.Controls.ItemsControl> (such as <xref:System.Windows.Controls.ListBox> or <xref:System.Windows.Controls.ListView>) to only create elements for visible items.</span></span>  
  
 <span data-ttu-id="f1df4-285"><xref:System.Windows.Controls.VirtualizingStackPanel>元素会自动设置为承载的项控件如<xref:System.Windows.Controls.ListBox>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-285">The <xref:System.Windows.Controls.VirtualizingStackPanel> element is automatically set as the items host for controls such as the <xref:System.Windows.Controls.ListBox>.</span></span> <span data-ttu-id="f1df4-286">当承载数据绑定集合时，内容自动虚拟化，只要内容的边界内<xref:System.Windows.Controls.ScrollViewer>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-286">When hosting a data bound collection, content is automatically virtualized, as long as the content is within the bounds of a <xref:System.Windows.Controls.ScrollViewer>.</span></span> <span data-ttu-id="f1df4-287">在承载许多子项时，这将大幅提高性能。</span><span class="sxs-lookup"><span data-stu-id="f1df4-287">This greatly improves performance when hosting many child items.</span></span>  
  
 <span data-ttu-id="f1df4-288">以下标记演示如何使用<xref:System.Windows.Controls.VirtualizingStackPanel>作为项宿主。</span><span class="sxs-lookup"><span data-stu-id="f1df4-288">The following markup demonstrates how to use a <xref:System.Windows.Controls.VirtualizingStackPanel> as an items host.</span></span> <span data-ttu-id="f1df4-289"><xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizingProperty?displayProperty=nameWithType>附加的属性必须设置为`true`（默认值） 才能进行虚拟化。</span><span class="sxs-lookup"><span data-stu-id="f1df4-289">The <xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizingProperty?displayProperty=nameWithType> attached property must be set to `true` (default) for virtualization to occur.</span></span>  
  
 [!code-xaml[VirtualizingStackPanel_Intro#1](~/samples/snippets/csharp/VS_Snippets_Wpf/VirtualizingStackPanel_Intro/CS/default.xaml#1)]  
  
<a name="Panels_overview_WrapPanel"></a>   
### <a name="wrappanel"></a><span data-ttu-id="f1df4-290">WrapPanel</span><span class="sxs-lookup"><span data-stu-id="f1df4-290">WrapPanel</span></span>  
 <span data-ttu-id="f1df4-291"><xref:System.Windows.Controls.WrapPanel> 用于从左到右，将内容切换到下一步的行时到达其父容器边缘的顺序位置定位子元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-291"><xref:System.Windows.Controls.WrapPanel> is used to position child elements in sequential position from left to right, breaking content to the next line when it reaches the edge of its parent container.</span></span> <span data-ttu-id="f1df4-292">内容可以设置为水平或垂直方向。</span><span class="sxs-lookup"><span data-stu-id="f1df4-292">Content can be oriented horizontally or vertically.</span></span> <span data-ttu-id="f1df4-293"><xref:System.Windows.Controls.WrapPanel> 可用于简单流[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]方案。</span><span class="sxs-lookup"><span data-stu-id="f1df4-293"><xref:System.Windows.Controls.WrapPanel> is useful for simple flowing [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] scenarios.</span></span> <span data-ttu-id="f1df4-294">它还可以用来将统一大小调整应用于其所有子元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-294">It can also be used to apply uniform sizing to all of its child elements.</span></span>  
  
 <span data-ttu-id="f1df4-295">下面的示例演示如何创建<xref:System.Windows.Controls.WrapPanel>以显示<xref:System.Windows.Controls.Button>当到达容器边缘时换行的控件。</span><span class="sxs-lookup"><span data-stu-id="f1df4-295">The following example demonstrates how to create a <xref:System.Windows.Controls.WrapPanel> to display <xref:System.Windows.Controls.Button> controls that wrap when they reach the edge of their container.</span></span>  
  
 [!code-cpp[WrapPanel_Intro#1](~/samples/snippets/cpp/VS_Snippets_Wpf/WrapPanel_Intro/CPP/WrapPanel_Code.cpp#1)]
 [!code-csharp[WrapPanel_Intro#1](~/samples/snippets/csharp/VS_Snippets_Wpf/WrapPanel_Intro/CSharp/WrapPanel_Code.cs#1)]
 [!code-vb[WrapPanel_Intro#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/WrapPanel_Intro/VisualBasic/WrapPanel_vb.vb#1)]
 [!code-xaml[WrapPanel_Intro#1](~/samples/snippets/xaml/VS_Snippets_Wpf/WrapPanel_Intro/XAML/default.xaml#1)]  
  
 <span data-ttu-id="f1df4-296">经编译的应用程序产生新的 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]，外观如下。</span><span class="sxs-lookup"><span data-stu-id="f1df4-296">The compiled application yields a new [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] that looks like this.</span></span>  
  
 <span data-ttu-id="f1df4-297">![典型 WrapPanel 元素。](./media/wrappanel-element.PNG "WrapPanel_Element")</span><span class="sxs-lookup"><span data-stu-id="f1df4-297">![A typical WrapPanel Element.](./media/wrappanel-element.PNG "WrapPanel_Element")</span></span>  
  
<a name="Panels_nested_panel_elements"></a>   
## <a name="nested-panel-elements"></a><span data-ttu-id="f1df4-298">嵌套 Panel 元素</span><span class="sxs-lookup"><span data-stu-id="f1df4-298">Nested Panel Elements</span></span>  
 <span data-ttu-id="f1df4-299"><xref:System.Windows.Controls.Panel> 若要生成复杂的布局，可以相互嵌套元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-299"><xref:System.Windows.Controls.Panel> elements can be nested within each other in order to produce complex layouts.</span></span> <span data-ttu-id="f1df4-300">这可以证明非常有用的一个<xref:System.Windows.Controls.Panel>非常适合的一部分[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]，但不是满足的其他部分需求[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="f1df4-300">This can prove very useful in situations where one <xref:System.Windows.Controls.Panel> is ideal for a portion of a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], but may not meet the needs of a different portion of the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span>  
  
 <span data-ttu-id="f1df4-301">对于应用程序可以支持的嵌套数量，并没有实际限制，但通常最好限制应用程序仅使用预期布局实际所需的面板。</span><span class="sxs-lookup"><span data-stu-id="f1df4-301">There is no practical limit to the amount of nesting that your application can support, however, it is generally best to limit your application to only use those panels that are actually necessary for your desired layout.</span></span> <span data-ttu-id="f1df4-302">在许多情况下，<xref:System.Windows.Controls.Grid>元素可用来代替嵌套面板，因为它用作布局容器的灵活性。</span><span class="sxs-lookup"><span data-stu-id="f1df4-302">In many cases, a <xref:System.Windows.Controls.Grid> element can be used instead of nested panels due to its flexibility as a layout container.</span></span> <span data-ttu-id="f1df4-303">这可以通过将不必要的元素排除在树以外来提高应用程序的性能。</span><span class="sxs-lookup"><span data-stu-id="f1df4-303">This can increase performance in your application by keeping unnecessary elements out of the tree.</span></span>  
  
 <span data-ttu-id="f1df4-304">下面的示例演示如何创建[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]充分利用嵌套<xref:System.Windows.Controls.Panel>元素，以实现特定的布局。</span><span class="sxs-lookup"><span data-stu-id="f1df4-304">The following example demonstrates how to create a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] that takes advantage of nested <xref:System.Windows.Controls.Panel> elements in order to achieve a specific layout.</span></span> <span data-ttu-id="f1df4-305">在此特定情况下<xref:System.Windows.Controls.DockPanel>元素用于提供[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]结构，而嵌套<xref:System.Windows.Controls.StackPanel>元素， <xref:System.Windows.Controls.Grid>，和一个<xref:System.Windows.Controls.Canvas>用来定位子元素精确地在父级内的<xref:System.Windows.Controls.DockPanel>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-305">In this particular case, a <xref:System.Windows.Controls.DockPanel> element is used to provide [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] structure, and nested <xref:System.Windows.Controls.StackPanel> elements, a <xref:System.Windows.Controls.Grid>, and a <xref:System.Windows.Controls.Canvas> are used to position child elements precisely within the parent <xref:System.Windows.Controls.DockPanel>.</span></span>  
  
 [!code-csharp[Nested_Panels#1](~/samples/snippets/csharp/VS_Snippets_Wpf/Nested_Panels/CSharp/nestedpanels.cs#1)]
 [!code-vb[Nested_Panels#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Nested_Panels/VisualBasic/nestedpanels.vb#1)]  
  
 <span data-ttu-id="f1df4-306">经编译的应用程序产生新的 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]，外观如下。</span><span class="sxs-lookup"><span data-stu-id="f1df4-306">The compiled application yields a new [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] that looks like this.</span></span>  
  
 <span data-ttu-id="f1df4-307">![充分利用嵌套面板的 UI。](./media/nested-panels.PNG "nested_panels")</span><span class="sxs-lookup"><span data-stu-id="f1df4-307">![A UI that takes advantage of nested panels.](./media/nested-panels.PNG "nested_panels")</span></span>  
  
<a name="Panels_custom_panel_elements"></a>   
## <a name="custom-panel-elements"></a><span data-ttu-id="f1df4-308">自定义 Panel 元素</span><span class="sxs-lookup"><span data-stu-id="f1df4-308">Custom Panel Elements</span></span>  
 <span data-ttu-id="f1df4-309">虽然[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]提供了一系列灵活的布局控件，也可以通过重写实现行为的自定义布局<xref:System.Windows.FrameworkElement.ArrangeOverride%2A>和<xref:System.Windows.FrameworkElement.MeasureOverride%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="f1df4-309">While [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides an array of flexible layout controls, custom layout behaviors can also be achieved by overriding the <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> and <xref:System.Windows.FrameworkElement.MeasureOverride%2A> methods.</span></span> <span data-ttu-id="f1df4-310">可以通过在这些重写方法内定义新的位置行为来实现自定义大小调整和位置。</span><span class="sxs-lookup"><span data-stu-id="f1df4-310">Custom sizing and positioning can be accomplished by defining new positioning behaviors within these override methods.</span></span>  
  
 <span data-ttu-id="f1df4-311">同样，自定义布局行为基于派生类 (如<xref:System.Windows.Controls.Canvas>或<xref:System.Windows.Controls.Grid>) 可以定义通过重写其<xref:System.Windows.FrameworkElement.ArrangeOverride%2A>和<xref:System.Windows.FrameworkElement.MeasureOverride%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="f1df4-311">Similarly, custom layout behaviors based on derived classes (such as <xref:System.Windows.Controls.Canvas> or <xref:System.Windows.Controls.Grid>) can be defined by overriding their <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> and <xref:System.Windows.FrameworkElement.MeasureOverride%2A> methods.</span></span>  
  
 <span data-ttu-id="f1df4-312">以下标记演示如何创建自定义<xref:System.Windows.Controls.Panel>元素。</span><span class="sxs-lookup"><span data-stu-id="f1df4-312">The following markup demonstrates how to create a custom <xref:System.Windows.Controls.Panel> element.</span></span> <span data-ttu-id="f1df4-313">这一新<xref:System.Windows.Controls.Panel>，其定义如下`PlotPanel`，支持通过使用硬编码的子元素定位*x 轴*并*y-* 坐标。</span><span class="sxs-lookup"><span data-stu-id="f1df4-313">This new <xref:System.Windows.Controls.Panel>, defined as `PlotPanel`, supports the positioning of child elements through the use of hard-coded *x-* and *y-* coordinates.</span></span> <span data-ttu-id="f1df4-314">在此示例中，<xref:System.Windows.Shapes.Rectangle>元素 （未显示） 都位于绘图点 50 (*x*)，到 50 个 (*y*)。</span><span class="sxs-lookup"><span data-stu-id="f1df4-314">In this example, a <xref:System.Windows.Shapes.Rectangle> element (not shown) is positioned at plot point 50 (*x*), and 50 (*y*).</span></span>  
  
 [!code-cpp[PlotPanel#1](~/samples/snippets/cpp/VS_Snippets_Wpf/PlotPanel/CPP/PlotPanel.cpp#1)]
 [!code-csharp[PlotPanel#1](~/samples/snippets/csharp/VS_Snippets_Wpf/PlotPanel/CSharp/PlotPanel.cs#1)]
 [!code-vb[PlotPanel#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PlotPanel/VisualBasic/PlotPanel.vb#1)]  
  
 <span data-ttu-id="f1df4-315">若要查看更复杂的自定义面板实现，请参阅[创建自定义内容换行面板示例](https://go.microsoft.com/fwlink/?LinkID=159979)。</span><span class="sxs-lookup"><span data-stu-id="f1df4-315">To view a more complex custom panel implementation, see [Create a Custom Content-Wrapping Panel Sample](https://go.microsoft.com/fwlink/?LinkID=159979).</span></span>  
  
<a name="Panels_global_localization"></a>   
## <a name="localizationglobalization-support"></a><span data-ttu-id="f1df4-316">本地化/全球化支持</span><span class="sxs-lookup"><span data-stu-id="f1df4-316">Localization/Globalization Support</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="f1df4-317">支持多种有助于创建可本地化的 [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] 的功能。</span><span class="sxs-lookup"><span data-stu-id="f1df4-317">supports a number of features that assist in the creation of localizable [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span>  
  
 <span data-ttu-id="f1df4-318">所有面板元素本身都支持<xref:System.Windows.FrameworkElement.FlowDirection%2A>属性，可用于动态地重排内容基于用户的区域设置或语言设置。</span><span class="sxs-lookup"><span data-stu-id="f1df4-318">All panel elements natively support the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property, which can be used to dynamically re-flow content based on a user's locale or language settings.</span></span> <span data-ttu-id="f1df4-319">有关详细信息，请参阅 <xref:System.Windows.FrameworkElement.FlowDirection%2A>。</span><span class="sxs-lookup"><span data-stu-id="f1df4-319">For more information, see <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span></span>  
  
 <span data-ttu-id="f1df4-320"><xref:System.Windows.Window.SizeToContent%2A>属性提供了一种机制，使应用程序开发人员要预测的需求本地化[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="f1df4-320">The <xref:System.Windows.Window.SizeToContent%2A> property provides a mechanism that enables application developers to anticipate the needs of localized [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> <span data-ttu-id="f1df4-321">使用<xref:System.Windows.SizeToContent.WidthAndHeight>此属性，父值<xref:System.Windows.Window>始终动态调整大小以适应内容和不受人为的高度或宽度限制。</span><span class="sxs-lookup"><span data-stu-id="f1df4-321">Using the <xref:System.Windows.SizeToContent.WidthAndHeight> value of this property, a parent <xref:System.Windows.Window> always sizes dynamically to fit content and is not constrained by artificial height or width restrictions.</span></span>  
  
 <span data-ttu-id="f1df4-322"><xref:System.Windows.Controls.DockPanel><xref:System.Windows.Controls.Grid>，并<xref:System.Windows.Controls.StackPanel>所有选择适合的可本地化[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="f1df4-322"><xref:System.Windows.Controls.DockPanel>, <xref:System.Windows.Controls.Grid>, and <xref:System.Windows.Controls.StackPanel> are all good choices for localizable [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> <span data-ttu-id="f1df4-323"><xref:System.Windows.Controls.Canvas> 但是，是不是一个不错的选择，因为其内容以绝对方式定位，使其难以本地化。</span><span class="sxs-lookup"><span data-stu-id="f1df4-323"><xref:System.Windows.Controls.Canvas> is not a good choice, however, because it positions content absolutely, making it difficult to localize.</span></span>  
  
 <span data-ttu-id="f1df4-324">有关创建带有可本地化 [!INCLUDE[TLA#tla_ui#plural](../../../../includes/tlasharptla-uisharpplural-md.md)] 的 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 应用程序的其他信息，请参阅[使用自动布局概述](../advanced/use-automatic-layout-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="f1df4-324">For additional information on creating [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications with localizable [!INCLUDE[TLA#tla_ui#plural](../../../../includes/tlasharptla-uisharpplural-md.md)]s, see the [Use Automatic Layout Overview](../advanced/use-automatic-layout-overview.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f1df4-325">请参阅</span><span class="sxs-lookup"><span data-stu-id="f1df4-325">See also</span></span>

- [<span data-ttu-id="f1df4-326">演练：我的第一个 WPF 桌面应用程序</span><span class="sxs-lookup"><span data-stu-id="f1df4-326">Walkthrough: My first WPF desktop application</span></span>](../getting-started/walkthrough-my-first-wpf-desktop-application.md)
- [<span data-ttu-id="f1df4-327">WPF 布局库示例</span><span class="sxs-lookup"><span data-stu-id="f1df4-327">WPF Layout Gallery Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=160054)
- [<span data-ttu-id="f1df4-328">布局</span><span class="sxs-lookup"><span data-stu-id="f1df4-328">Layout</span></span>](../advanced/layout.md)
- [<span data-ttu-id="f1df4-329">WPF 控件库示例</span><span class="sxs-lookup"><span data-stu-id="f1df4-329">WPF Controls Gallery Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=160053)
- [<span data-ttu-id="f1df4-330">对齐、边距和填充概述</span><span class="sxs-lookup"><span data-stu-id="f1df4-330">Alignment, Margins, and Padding Overview</span></span>](../advanced/alignment-margins-and-padding-overview.md)
- [<span data-ttu-id="f1df4-331">创建自定义内容换行面板示例</span><span class="sxs-lookup"><span data-stu-id="f1df4-331">Create a Custom Content-Wrapping Panel Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=159979)
- [<span data-ttu-id="f1df4-332">附加属性概述</span><span class="sxs-lookup"><span data-stu-id="f1df4-332">Attached Properties Overview</span></span>](../advanced/attached-properties-overview.md)
- [<span data-ttu-id="f1df4-333">使用自动布局概述</span><span class="sxs-lookup"><span data-stu-id="f1df4-333">Use Automatic Layout Overview</span></span>](../advanced/use-automatic-layout-overview.md)
- [<span data-ttu-id="f1df4-334">布局和示例</span><span class="sxs-lookup"><span data-stu-id="f1df4-334">Layout and Design</span></span>](../advanced/optimizing-performance-layout-and-design.md)
