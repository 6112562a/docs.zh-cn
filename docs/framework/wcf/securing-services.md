---
title: 保证服务的安全
ms.date: 03/30/2017
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
ms.openlocfilehash: 65d4f2858c2be4c2a6872f96ef3739bb16253d74
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/23/2019
ms.locfileid: "61949859"
---
# <a name="securing-services"></a><span data-ttu-id="d1bca-102">保证服务的安全</span><span class="sxs-lookup"><span data-stu-id="d1bca-102">Securing Services</span></span>
<span data-ttu-id="d1bca-103">Windows Communication Foundation (WCF) 服务的安全性包括两个主要要求： 传输安全和授权。</span><span class="sxs-lookup"><span data-stu-id="d1bca-103">Security of a Windows Communication Foundation (WCF) service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="d1bca-104">(第三个要求中所述的安全事件的审核[审核](../../../docs/framework/wcf/feature-details/auditing-security-events.md)。)简言之，传输安全包括身份验证（验证服务和客户端的标识）、保密性（消息加密）和完整性（进行数字签名以检测是否存在篡改）。</span><span class="sxs-lookup"><span data-stu-id="d1bca-104">(A third requirement, auditing of security events, is described in [Auditing](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="d1bca-105">授权是控制对资源的访问，例如仅允许特权用户读取文件。</span><span class="sxs-lookup"><span data-stu-id="d1bca-105">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="d1bca-106">使用 WCF 的功能，很容易地实现两个主要要求。</span><span class="sxs-lookup"><span data-stu-id="d1bca-106">Using features of WCF, the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="d1bca-107">除<xref:System.ServiceModel.BasicHttpBinding>类 (或[ \<basicHttpBinding >](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md)配置中的元素)，默认情况下，所有预定义绑定启用传输安全。</span><span class="sxs-lookup"><span data-stu-id="d1bca-107">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="d1bca-108">本节中的主题包含两种基本方案：对 Internet 信息服务 (IIS) 上承载的 Intranet 服务实现传输安全和授权，以及对 IIS 上承载的服务实现传输安全和授权。</span><span class="sxs-lookup"><span data-stu-id="d1bca-108">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d1bca-109">Windows XP Home 不支持 Windows 身份验证。</span><span class="sxs-lookup"><span data-stu-id="d1bca-109">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="d1bca-110">因此，不应在该系统上运行服务。</span><span class="sxs-lookup"><span data-stu-id="d1bca-110">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="d1bca-111">安全基本知识</span><span class="sxs-lookup"><span data-stu-id="d1bca-111">Security Basics</span></span>  
 <span data-ttu-id="d1bca-112">安全依赖于凭据 。</span><span class="sxs-lookup"><span data-stu-id="d1bca-112">Security relies on *credentials*.</span></span> <span data-ttu-id="d1bca-113">凭据用于证明实体是否属实。</span><span class="sxs-lookup"><span data-stu-id="d1bca-113">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="d1bca-114">(*实体*可以是个人、 软件过程中，一家公司，或可授权的任何内容。)例如，服务的客户端发出*声明*的*标识*，和凭据用于证明该声明以某种方式。</span><span class="sxs-lookup"><span data-stu-id="d1bca-114">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="d1bca-115">在典型方案中，会发生凭据交换。</span><span class="sxs-lookup"><span data-stu-id="d1bca-115">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="d1bca-116">首先，某服务将对其标识发出声明，并使用凭据向客户端证明该标识。</span><span class="sxs-lookup"><span data-stu-id="d1bca-116">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="d1bca-117">同样，客户端也将对某标识发出声明，并向该服务出具凭据。</span><span class="sxs-lookup"><span data-stu-id="d1bca-117">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="d1bca-118">如果双方都信任对方的凭据，则可以建立安全上下文  ，在此上下文中，将以保密方式对所有消息进行交换，并且所有消息都将进行签名以保护其完整性。</span><span class="sxs-lookup"><span data-stu-id="d1bca-118">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="d1bca-119">服务建立客户端的标识后，它可以匹配将凭据中的声明*角色*或*成员身份*组中。</span><span class="sxs-lookup"><span data-stu-id="d1bca-119">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="d1bca-120">在任何一种情况下，使用客户端所属的角色或组时，服务将授权  该客户端基于角色或组特权执行一组有限的操作。</span><span class="sxs-lookup"><span data-stu-id="d1bca-120">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="d1bca-121">Windows 安全机制</span><span class="sxs-lookup"><span data-stu-id="d1bca-121">Windows Security Mechanisms</span></span>  
 <span data-ttu-id="d1bca-122">如果客户端和服务计算机都位于需要二者登录到网络的 Windows 域中，则凭据将由 Windows 基础结构来提供。</span><span class="sxs-lookup"><span data-stu-id="d1bca-122">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="d1bca-123">在这种情况下，计算机用户登录到网络时将会建立凭据。</span><span class="sxs-lookup"><span data-stu-id="d1bca-123">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="d1bca-124">必须验证网络上的每个用户和每台计算机，确认其属于一组受信任的用户和计算机。</span><span class="sxs-lookup"><span data-stu-id="d1bca-124">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="d1bca-125">在 Windows 系统中，受信任的用户和计算机也称为“安全主体” 。</span><span class="sxs-lookup"><span data-stu-id="d1bca-125">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="d1bca-126">在 Kerberos  控制器支持的 Windows 域中，Kerberos 控制器使用基于向每个安全主体授予票证的方案。</span><span class="sxs-lookup"><span data-stu-id="d1bca-126">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="d1bca-127">控制器授予的票证受系统中的其他票证授予者的信任。</span><span class="sxs-lookup"><span data-stu-id="d1bca-127">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="d1bca-128">实体在尝试执行某种操作或访问资源  （如计算机上的文件或目录）时，都将对票证的有效性进行检查；如果票证通过检查，则主体将再次被授予一个用于执行该操作的票证。</span><span class="sxs-lookup"><span data-stu-id="d1bca-128">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="d1bca-129">这种授予票证的方法比尝试对每项操作的主体都进行验证的备选方法更为高效。</span><span class="sxs-lookup"><span data-stu-id="d1bca-129">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="d1bca-130">Windows 域中使用的一种旧的机制是 NT LAN Manager (NTLM)，这种机制的安全性较低。</span><span class="sxs-lookup"><span data-stu-id="d1bca-130">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="d1bca-131">在无法使用 Kerberos 的情况下（通常是在 Windows 域之外，例如在工作组中），可以将 NTLM 用作备选方法。</span><span class="sxs-lookup"><span data-stu-id="d1bca-131">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="d1bca-132">NTLM 也可用作 IIS 的安全选项。</span><span class="sxs-lookup"><span data-stu-id="d1bca-132">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="d1bca-133">在 Windows 系统上，授权的工作方式是将每个计算机和用户分配到一个角色和组的集合中。</span><span class="sxs-lookup"><span data-stu-id="d1bca-133">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="d1bca-134">例如，每台 Windows 计算机必须由管理员 角色的人员（或一组人员）来进行设置和控制。</span><span class="sxs-lookup"><span data-stu-id="d1bca-134">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="d1bca-135">另外一个角色是用户 角色，该角色拥有一组受到很多约束的权限。</span><span class="sxs-lookup"><span data-stu-id="d1bca-135">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="d1bca-136">除了该角色以外，还可将用户分配到组中。</span><span class="sxs-lookup"><span data-stu-id="d1bca-136">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="d1bca-137">使用组，多个用户可以使用同一个角色来执行操作。</span><span class="sxs-lookup"><span data-stu-id="d1bca-137">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="d1bca-138">因此，Windows 计算机实际上是通过将用户分配到组中来进行管理的。</span><span class="sxs-lookup"><span data-stu-id="d1bca-138">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="d1bca-139">例如，可以将多个用户分配到计算机的用户组，可以将一组受到很多约束的用户分配到管理员组。</span><span class="sxs-lookup"><span data-stu-id="d1bca-139">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="d1bca-140">在本地计算机上，管理员还可以创建新组并将其他用户（甚至其他组）分配到该组。</span><span class="sxs-lookup"><span data-stu-id="d1bca-140">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="d1bca-141">在运行 Windows 的计算机上，可以对目录中的每个文件夹进行保护。</span><span class="sxs-lookup"><span data-stu-id="d1bca-141">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="d1bca-142">即，您可以选择文件夹，并控制哪些用户可以访问文件，以及这些用户是否可以复制文件、更改文件（在最大特权情况下）、删除文件或向文件夹中添加文件。</span><span class="sxs-lookup"><span data-stu-id="d1bca-142">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="d1bca-143">这称为访问控制，这种机制称为访问控制列表 (ACL)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-143">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="d1bca-144">创建 ACL 时，可以为任何一个或多个组以及域中的单个成员分配访问特权。</span><span class="sxs-lookup"><span data-stu-id="d1bca-144">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="d1bca-145">WCF 基础结构设计为使用这些 Windows 安全机制。</span><span class="sxs-lookup"><span data-stu-id="d1bca-145">The WCF infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="d1bca-146">所以，如果您要创建将在 Intranet 中部署的服务，并且仅限 Windows 域的成员使用该服务的客户端，则可以轻松实现安全。</span><span class="sxs-lookup"><span data-stu-id="d1bca-146">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="d1bca-147">仅有效用户才可登录到该域。</span><span class="sxs-lookup"><span data-stu-id="d1bca-147">Only valid users can log on to the domain.</span></span> <span data-ttu-id="d1bca-148">用户登录后，Kerberos 控制器将允许每个用户与任何其他计算机或应用程序建立安全上下文。</span><span class="sxs-lookup"><span data-stu-id="d1bca-148">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="d1bca-149">在本地计算机上，可以轻松创建组，并且在保护特定文件夹时，可以使用这些组来分配计算机的访问特权。</span><span class="sxs-lookup"><span data-stu-id="d1bca-149">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="d1bca-150">在 Intranet 服务上实现 Windows 安全</span><span class="sxs-lookup"><span data-stu-id="d1bca-150">Implementing Windows Security on Intranet Services</span></span>  
 <span data-ttu-id="d1bca-151">若要保证 Windows 域上以独占方式运行的应用程序的安全，可以使用 <xref:System.ServiceModel.WSHttpBinding> 或 <xref:System.ServiceModel.NetTcpBinding> 绑定的默认安全设置。</span><span class="sxs-lookup"><span data-stu-id="d1bca-151">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="d1bca-152">默认情况下，在同一个 Windows 域上的任何人都可以访问 WCF 服务。</span><span class="sxs-lookup"><span data-stu-id="d1bca-152">By default, anyone on the same Windows domain can access WCF services.</span></span> <span data-ttu-id="d1bca-153">由于这些用户已登录到网络，因此他们是受信任的。</span><span class="sxs-lookup"><span data-stu-id="d1bca-153">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="d1bca-154">服务与客户端之间的消息将会进行加密以保证保密性，并将进行签名以保证完整性。</span><span class="sxs-lookup"><span data-stu-id="d1bca-154">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> <span data-ttu-id="d1bca-155">有关如何创建使用 Windows 安全的服务的详细信息，请参阅[如何：使用 Windows 凭据保护服务](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-155">For more information about how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="d1bca-156">使用 PrincipalPermissionAttribute 类进行授权</span><span class="sxs-lookup"><span data-stu-id="d1bca-156">Authorization Using the PrincipalPermissionAttribute Class</span></span>  
 <span data-ttu-id="d1bca-157">如果需要限制对计算机上的资源的访问，最简单的方法是使用 <xref:System.Security.Permissions.PrincipalPermissionAttribute> 类。</span><span class="sxs-lookup"><span data-stu-id="d1bca-157">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="d1bca-158">使用此属性，可以限制对服务操作的调用，方法是要求用户必须属于指定的 Windows 组或角色，或者必须是特定用户。</span><span class="sxs-lookup"><span data-stu-id="d1bca-158">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> <span data-ttu-id="d1bca-159">有关详细信息，请参阅[如何：使用 PrincipalPermissionAttribute 类限制访问](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-159">For more information, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="d1bca-160">Impersonation</span><span class="sxs-lookup"><span data-stu-id="d1bca-160">Impersonation</span></span>  
 <span data-ttu-id="d1bca-161">模拟是可用于控制对资源的访问的另外一种机制。</span><span class="sxs-lookup"><span data-stu-id="d1bca-161">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="d1bca-162">默认情况下，由 IIS 承载的服务将会在 ASPNET 帐户的标识下运行。</span><span class="sxs-lookup"><span data-stu-id="d1bca-162">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="d1bca-163">ASPNET 帐户仅可访问其拥有权限的资源。</span><span class="sxs-lookup"><span data-stu-id="d1bca-163">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="d1bca-164">然而，可以对文件夹设置 ACL 以排除 ASPNET 服务帐户，但允许某些其他标识访问该文件夹。</span><span class="sxs-lookup"><span data-stu-id="d1bca-164">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="d1bca-165">那么问题将变为，如果不允许 ASPNET 帐户访问该文件夹，如何允许其他用户访问该文件夹。</span><span class="sxs-lookup"><span data-stu-id="d1bca-165">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="d1bca-166">答案是使用模拟，由此允许服务使用客户端的凭据来访问特殊资源。</span><span class="sxs-lookup"><span data-stu-id="d1bca-166">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="d1bca-167">另外一个示例是当访问仅某些用户拥有权限的 SQL Server 数据库时的情况。</span><span class="sxs-lookup"><span data-stu-id="d1bca-167">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> <span data-ttu-id="d1bca-168">有关使用模拟的详细信息，请参阅[如何：模拟服务上的客户端](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md)并[委托和模拟](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-168">For more information about using impersonation, see [How to: Impersonate a Client on a Service](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="d1bca-169">Internet 上的安全</span><span class="sxs-lookup"><span data-stu-id="d1bca-169">Security on the Internet</span></span>  
 <span data-ttu-id="d1bca-170">Internet 上的安全包含与 Intranet 上的安全相同的要求。</span><span class="sxs-lookup"><span data-stu-id="d1bca-170">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="d1bca-171">服务需要提供其凭据以证明其真实性，客户端需要向服务证明其标识。</span><span class="sxs-lookup"><span data-stu-id="d1bca-171">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="d1bca-172">在证明了客户端的标识之后，服务可以控制客户端拥有怎样的资源访问权限。</span><span class="sxs-lookup"><span data-stu-id="d1bca-172">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="d1bca-173">但是，由于 Internet 的特性不同，所提供的凭据与 Windows 域中使用的凭据会有所不同。</span><span class="sxs-lookup"><span data-stu-id="d1bca-173">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="d1bca-174">Kerberos 控制器可以使用凭据的票证处理域中用户的身份验证，而在 Internet 上，服务和客户端依赖于多种不同方法的任何一种来提供凭据。</span><span class="sxs-lookup"><span data-stu-id="d1bca-174">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="d1bca-175">但是，本主题的目的是提供常用的方法，可用于创建可在 Internet 访问的 WCF 服务。</span><span class="sxs-lookup"><span data-stu-id="d1bca-175">The objective of this topic, however, is to present a common approach that enables you to create a WCF service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="d1bca-176">使用 IIS 和 ASP.NET</span><span class="sxs-lookup"><span data-stu-id="d1bca-176">Using IIS and ASP.NET</span></span>  
 <span data-ttu-id="d1bca-177">Internet 安全的要求和用于解决这些问题的机制并不是什么新鲜事物。</span><span class="sxs-lookup"><span data-stu-id="d1bca-177">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="d1bca-178">IIS 是 Microsoft 的 Web 服务器进行 Internet 和具有许多安全功能，解决这些问题;此外，[!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)]包括 WCF 服务可以使用的安全功能。</span><span class="sxs-lookup"><span data-stu-id="d1bca-178">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] includes security features that WCF services can use.</span></span> <span data-ttu-id="d1bca-179">若要利用这些安全功能，托管在 IIS 上的 WCF 服务。</span><span class="sxs-lookup"><span data-stu-id="d1bca-179">To take advantage of these security features, host an WCF service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="d1bca-180">使用 ASP.NET 成员资格和角色提供程序</span><span class="sxs-lookup"><span data-stu-id="d1bca-180">Using ASP.NET Membership and Role Providers</span></span>  
 <span data-ttu-id="d1bca-181">ASP.NET 包括成员资格和角色提供程序。</span><span class="sxs-lookup"><span data-stu-id="d1bca-181">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="d1bca-182">提供程序是一个用于对调用方进行身份验证的用户名/密码对数据库，该数据库还允许您指定每个调用方的访问特权。</span><span class="sxs-lookup"><span data-stu-id="d1bca-182">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="d1bca-183">使用 WCF，可以轻松地使用预先存在的成员身份和角色提供程序通过配置。</span><span class="sxs-lookup"><span data-stu-id="d1bca-183">With WCF, you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="d1bca-184">有关演示此内容的示例应用程序，请参阅 [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) 示例。</span><span class="sxs-lookup"><span data-stu-id="d1bca-184">For a sample application that demonstrates this, see the [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="d1bca-185">IIS 使用的凭据</span><span class="sxs-lookup"><span data-stu-id="d1bca-185">Credentials Used by IIS</span></span>  
 <span data-ttu-id="d1bca-186">与 Kerberos 控制器支持的 Windows 域不同，Internet 环境并没有一个控制器来管理随时登录的成百上千万的用户，</span><span class="sxs-lookup"><span data-stu-id="d1bca-186">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="d1bca-187">而是在其凭据中最常采用 X.509 证书（也称为安全套接字层 (SSL) 证书）的形式。</span><span class="sxs-lookup"><span data-stu-id="d1bca-187">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="d1bca-188">这些证书通常由证书颁发机构 颁发，证书颁发机构可以是担保证书以及将向其颁发证书的人员的真实性的第三方公司。</span><span class="sxs-lookup"><span data-stu-id="d1bca-188">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="d1bca-189">若要在 Internet 上公开服务，还必须提供这样一个受信任的证书来对服务进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="d1bca-189">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="d1bca-190">此时将出现一个问题，如何才能获取这样的证书呢？</span><span class="sxs-lookup"><span data-stu-id="d1bca-190">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="d1bca-191">如果您准备部署服务并购买针对该服务的证书，则获取证书的一种方法是向第三方证书颁发机构（如 Authenticode 或 VeriSign）购买。</span><span class="sxs-lookup"><span data-stu-id="d1bca-191">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="d1bca-192">但是，如果您是在使用 WCF 的开发阶段中，并且尚未准备好购买证书，工具和技术存在用于创建 X.509 证书可用于模拟生产部署。</span><span class="sxs-lookup"><span data-stu-id="d1bca-192">However, if you are in the development phase with WCF and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> <span data-ttu-id="d1bca-193">有关详细信息，请参阅[Working with Certificates](../../../docs/framework/wcf/feature-details/working-with-certificates.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-193">For more information, see [Working with Certificates](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="d1bca-194">安全模式</span><span class="sxs-lookup"><span data-stu-id="d1bca-194">Security Modes</span></span>  
 <span data-ttu-id="d1bca-195">WCF 安全编程涉及到几个关键决策点。</span><span class="sxs-lookup"><span data-stu-id="d1bca-195">Programming WCF security entails a few critical decision points.</span></span> <span data-ttu-id="d1bca-196">最基本的一个决策点是选择安全模式 。</span><span class="sxs-lookup"><span data-stu-id="d1bca-196">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="d1bca-197">两个主要的安全模式是传输模式  和消息模式 。</span><span class="sxs-lookup"><span data-stu-id="d1bca-197">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="d1bca-198">第三种模式是带有消息凭据的传输模式，它结合了前两种主要模式的语义 。</span><span class="sxs-lookup"><span data-stu-id="d1bca-198">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="d1bca-199">安全模式确定如何保证消息的安全，每一种选择都有利有弊，如下所述。</span><span class="sxs-lookup"><span data-stu-id="d1bca-199">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> <span data-ttu-id="d1bca-200">有关设置安全模式的详细信息，请参阅[如何：将安全模式设置](../../../docs/framework/wcf/how-to-set-the-security-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-200">For more information about setting the security mode, see [How to: Set the Security Mode](../../../docs/framework/wcf/how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="d1bca-201">传输模式</span><span class="sxs-lookup"><span data-stu-id="d1bca-201">Transport Mode</span></span>  
 <span data-ttu-id="d1bca-202">网络与应用程序之间存在多个层。</span><span class="sxs-lookup"><span data-stu-id="d1bca-202">There are several layers between the network and the application.</span></span> <span data-ttu-id="d1bca-203">其中之一即是*传输*层 *，* 用于管理终结点之间传输消息。</span><span class="sxs-lookup"><span data-stu-id="d1bca-203">One of these is the *transport* layer *,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="d1bca-204">对于当前目的，它只是所需了解 WCF 使用多个传输协议，其中每个可以保护消息的传输。</span><span class="sxs-lookup"><span data-stu-id="d1bca-204">For the present purpose, it is only required that you understand that WCF uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="d1bca-205">(有关传输的详细信息，请参阅[传输](../../../docs/framework/wcf/feature-details/transports.md)。)</span><span class="sxs-lookup"><span data-stu-id="d1bca-205">(For more information about transports, see [Transports](../../../docs/framework/wcf/feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="d1bca-206">常用的协议是 HTTP，还有 TCP。</span><span class="sxs-lookup"><span data-stu-id="d1bca-206">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="d1bca-207">这些协议中的每一个都可以通过特定于该协议的一个或多个机制来保证消息传输的安全。</span><span class="sxs-lookup"><span data-stu-id="d1bca-207">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="d1bca-208">例如，HTTP 协议使用基于 HTTP 的 SSL（通常缩写为“HTTPS”）来保证安全。</span><span class="sxs-lookup"><span data-stu-id="d1bca-208">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="d1bca-209">因而，当选择传输模式来保证安全时，您要选择使用该协议所指示的机制。</span><span class="sxs-lookup"><span data-stu-id="d1bca-209">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="d1bca-210">例如，如果您选择 <xref:System.ServiceModel.WSHttpBinding> 类并将其安全模式设置为“传输”，则您要选择基于 HTTP 的 SSL (HTTPS) 作为安全机制。</span><span class="sxs-lookup"><span data-stu-id="d1bca-210">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="d1bca-211">传输模式的好处在于它比消息模式更为高效，原因是其安全是在相对较低的级别进行集成的。</span><span class="sxs-lookup"><span data-stu-id="d1bca-211">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="d1bca-212">使用传输模式时，必须根据传输规范实现安全机制，这样消息才能通过传输在各点之间安全流动。</span><span class="sxs-lookup"><span data-stu-id="d1bca-212">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="d1bca-213">消息模式</span><span class="sxs-lookup"><span data-stu-id="d1bca-213">Message Mode</span></span>  
 <span data-ttu-id="d1bca-214">相比之下，消息模式通过在每条消息中都包含安全数据来提供安全保障。</span><span class="sxs-lookup"><span data-stu-id="d1bca-214">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="d1bca-215">使用 XML 和 SOAP 安全标头时，每条消息中都包含确保消息的完整性和保密性所需要的凭据及其他数据。</span><span class="sxs-lookup"><span data-stu-id="d1bca-215">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="d1bca-216">每条消息都包含安全数据时，由于必须逐一处理每条消息，因此将导致性能下降。</span><span class="sxs-lookup"><span data-stu-id="d1bca-216">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="d1bca-217">（在传输模式下，一旦保证传输层的安全，则所有消息都可以自由流动。）但是，消息安全相对于传输安全的一个优势就是：更为灵活。</span><span class="sxs-lookup"><span data-stu-id="d1bca-217">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="d1bca-218">即，安全要求不由传输协议确定。</span><span class="sxs-lookup"><span data-stu-id="d1bca-218">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="d1bca-219">您可以使用任何类型的客户端凭据来保证消息的安全</span><span class="sxs-lookup"><span data-stu-id="d1bca-219">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="d1bca-220">（在传输模式下，传输协议将确定您可以使用的客户端凭据的类型）。</span><span class="sxs-lookup"><span data-stu-id="d1bca-220">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="d1bca-221">带有消息凭据的传输</span><span class="sxs-lookup"><span data-stu-id="d1bca-221">Transport with Message Credentials</span></span>  
 <span data-ttu-id="d1bca-222">此第三种模式集传输安全和消息安全的长处于一身。</span><span class="sxs-lookup"><span data-stu-id="d1bca-222">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="d1bca-223">在此模式下，传输安全用于有效确保每条消息的保密性和完整性。</span><span class="sxs-lookup"><span data-stu-id="d1bca-223">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="d1bca-224">同时，每条消息都包含其凭据数据，这使得可以对消息进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="d1bca-224">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="d1bca-225">通过身份验证，还可以实现授权。</span><span class="sxs-lookup"><span data-stu-id="d1bca-225">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="d1bca-226">通过对发送方进行身份验证，可以根据发送方的标识来授予（或拒绝）对资源的访问权限。</span><span class="sxs-lookup"><span data-stu-id="d1bca-226">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="d1bca-227">指定客户端凭据类型和凭据值</span><span class="sxs-lookup"><span data-stu-id="d1bca-227">Specifying the Client Credential Type and Credential Value</span></span>  
 <span data-ttu-id="d1bca-228">选择安全模式后，可能还需要指定客户端凭据类型。</span><span class="sxs-lookup"><span data-stu-id="d1bca-228">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="d1bca-229">客户端凭据类型指定客户端必须使用哪种类型将其自身向服务器进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="d1bca-229">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="d1bca-230">但是，并非所有方案都要求客户端凭据类型。</span><span class="sxs-lookup"><span data-stu-id="d1bca-230">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="d1bca-231">使用基于 HTTP 的 SSL (HTTPS) 时，服务将其自身向客户端进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="d1bca-231">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="d1bca-232">作为此身份验证的一部分，服务的证书将在称为“协商” 的过程中发送到客户端。</span><span class="sxs-lookup"><span data-stu-id="d1bca-232">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="d1bca-233">通过 SSL 保证安全的传输将确保所有消息都是保密的。</span><span class="sxs-lookup"><span data-stu-id="d1bca-233">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="d1bca-234">如果您要创建要求对客户端进行身份验证的服务，则客户端凭据类型的选择取决于选定的传输和模式。</span><span class="sxs-lookup"><span data-stu-id="d1bca-234">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="d1bca-235">例如，使用 HTTP 传输并选择传输模式将使您可以有多种选择，例如 Basic、Digest 及其他类型。</span><span class="sxs-lookup"><span data-stu-id="d1bca-235">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="d1bca-236">(有关详细信息，有关这些凭据类型，请参阅[了解 HTTP 身份验证](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md)。)</span><span class="sxs-lookup"><span data-stu-id="d1bca-236">(For more information about these credential types, see [Understanding HTTP Authentication](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="d1bca-237">如果您要在 Windows 域中创建服务，且该服务将仅对其他网络用户可用，则最容易使用的是 Windows 客户端凭据类型。</span><span class="sxs-lookup"><span data-stu-id="d1bca-237">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="d1bca-238">但是，您也可能需要向服务提供证书。</span><span class="sxs-lookup"><span data-stu-id="d1bca-238">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="d1bca-239">如下所示[如何：指定客户端凭据值](../../../docs/framework/wcf/how-to-specify-client-credential-values.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-239">This is shown in [How to: Specify Client Credential Values](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="d1bca-240">凭据值</span><span class="sxs-lookup"><span data-stu-id="d1bca-240">Credential Values</span></span>  
 <span data-ttu-id="d1bca-241">“凭据值”  是服务使用的实际凭据。</span><span class="sxs-lookup"><span data-stu-id="d1bca-241">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="d1bca-242">一旦指定了凭据类型，则还可能需要为服务配置实际的凭据。</span><span class="sxs-lookup"><span data-stu-id="d1bca-242">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="d1bca-243">如果您选择的是 Windows（且服务将在 Windows 域中运行），则不用指定实际的凭据值。</span><span class="sxs-lookup"><span data-stu-id="d1bca-243">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="d1bca-244">标识</span><span class="sxs-lookup"><span data-stu-id="d1bca-244">Identity</span></span>  
 <span data-ttu-id="d1bca-245">在 WCF 中，术语*标识*具有不同的含义的服务器和客户端。</span><span class="sxs-lookup"><span data-stu-id="d1bca-245">In WCF, the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="d1bca-246">简言之，在运行服务时，标识将在通过身份验证后分配到安全上下文。</span><span class="sxs-lookup"><span data-stu-id="d1bca-246">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="d1bca-247">若要查看实际的标识，请检查 <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> 类的 <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> 和 <xref:System.ServiceModel.ServiceSecurityContext> 属性。</span><span class="sxs-lookup"><span data-stu-id="d1bca-247">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> <span data-ttu-id="d1bca-248">有关详细信息，请参阅[如何：检查安全上下文](../../../docs/framework/wcf/how-to-examine-the-security-context.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-248">For more information, see [How to: Examine the Security Context](../../../docs/framework/wcf/how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="d1bca-249">而在客户端上，标识用于验证服务。</span><span class="sxs-lookup"><span data-stu-id="d1bca-249">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="d1bca-250">在设计时，客户端开发人员可以设置[\<标识 >](../../../docs/framework/configure-apps/file-schema/wcf/identity.md)为从服务获取的值的元素。</span><span class="sxs-lookup"><span data-stu-id="d1bca-250">At design time, a client developer can set the [\<identity>](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="d1bca-251">在运行时，客户端将对照服务的实际标识检查元素的值。</span><span class="sxs-lookup"><span data-stu-id="d1bca-251">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="d1bca-252">如果检查失败，则客户端将终止通信。</span><span class="sxs-lookup"><span data-stu-id="d1bca-252">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="d1bca-253">如果服务在特定的用户标识下运行，该值可以是用户主体名称 (UPN)；而如果服务在计算机帐户下运行，则该值可以是服务主体名称 (SPN)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-253">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> <span data-ttu-id="d1bca-254">有关详细信息，请参阅[服务标识和身份验证](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-254">For more information, see [Service Identity and Authentication](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="d1bca-255">凭据也可以是证书或者在证书中找到的用于标识该证书的字段。</span><span class="sxs-lookup"><span data-stu-id="d1bca-255">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="d1bca-256">保护级别</span><span class="sxs-lookup"><span data-stu-id="d1bca-256">Protection Levels</span></span>  
 <span data-ttu-id="d1bca-257">`ProtectionLevel` 属性出现在多个特性类（如 <xref:System.ServiceModel.ServiceContractAttribute> 和 <xref:System.ServiceModel.OperationContractAttribute> 类）中。</span><span class="sxs-lookup"><span data-stu-id="d1bca-257">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="d1bca-258">保护级别是一个值，它指定了支持服务的消息（或消息部分）是进行签名、签名并加密，还是未经签名或加密即发送。</span><span class="sxs-lookup"><span data-stu-id="d1bca-258">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="d1bca-259">有关属性的详细信息，请参阅[了解保护级别](../../../docs/framework/wcf/understanding-protection-level.md)，和有关编程示例，请参阅[如何：设置 ProtectionLevel 属性](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-259">For more information about the property, see [Understanding Protection Level](../../../docs/framework/wcf/understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span> <span data-ttu-id="d1bca-260">有关设计的服务协定的更多信息`ProtectionLevel`在上下文中，请参阅[Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md)。</span><span class="sxs-lookup"><span data-stu-id="d1bca-260">For more information about designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d1bca-261">请参阅</span><span class="sxs-lookup"><span data-stu-id="d1bca-261">See also</span></span>

- <xref:System.ServiceModel>
- <xref:System.ServiceModel.Description.ServiceCredentials>
- <xref:System.ServiceModel.ServiceContractAttribute>
- <xref:System.ServiceModel.OperationContractAttribute>
- [<span data-ttu-id="d1bca-262">服务标识和身份验证</span><span class="sxs-lookup"><span data-stu-id="d1bca-262">Service Identity and Authentication</span></span>](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)
- [<span data-ttu-id="d1bca-263">了解保护级别</span><span class="sxs-lookup"><span data-stu-id="d1bca-263">Understanding Protection Level</span></span>](../../../docs/framework/wcf/understanding-protection-level.md)
- [<span data-ttu-id="d1bca-264">委托和模拟</span><span class="sxs-lookup"><span data-stu-id="d1bca-264">Delegation and Impersonation</span></span>](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)
- [<span data-ttu-id="d1bca-265">设计服务协定</span><span class="sxs-lookup"><span data-stu-id="d1bca-265">Designing Service Contracts</span></span>](../../../docs/framework/wcf/designing-service-contracts.md)
- [<span data-ttu-id="d1bca-266">安全性</span><span class="sxs-lookup"><span data-stu-id="d1bca-266">Security</span></span>](../../../docs/framework/wcf/feature-details/security.md)
- [<span data-ttu-id="d1bca-267">安全性概述</span><span class="sxs-lookup"><span data-stu-id="d1bca-267">Security Overview</span></span>](../../../docs/framework/wcf/feature-details/security-overview.md)
- [<span data-ttu-id="d1bca-268">如何：设置 ProtectionLevel 属性</span><span class="sxs-lookup"><span data-stu-id="d1bca-268">How to: Set the ProtectionLevel Property</span></span>](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)
- [<span data-ttu-id="d1bca-269">如何：使用 Windows 凭据保护服务</span><span class="sxs-lookup"><span data-stu-id="d1bca-269">How to: Secure a Service with Windows Credentials</span></span>](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)
- [<span data-ttu-id="d1bca-270">如何：将安全模式设置</span><span class="sxs-lookup"><span data-stu-id="d1bca-270">How to: Set the Security Mode</span></span>](../../../docs/framework/wcf/how-to-set-the-security-mode.md)
- [<span data-ttu-id="d1bca-271">如何：指定客户端凭据类型</span><span class="sxs-lookup"><span data-stu-id="d1bca-271">How to: Specify the Client Credential Type</span></span>](../../../docs/framework/wcf/how-to-specify-the-client-credential-type.md)
- [<span data-ttu-id="d1bca-272">如何：使用 PrincipalPermissionAttribute 类限制访问</span><span class="sxs-lookup"><span data-stu-id="d1bca-272">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="d1bca-273">如何：模拟服务上的客户端</span><span class="sxs-lookup"><span data-stu-id="d1bca-273">How to: Impersonate a Client on a Service</span></span>](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md)
- [<span data-ttu-id="d1bca-274">如何：检查安全上下文</span><span class="sxs-lookup"><span data-stu-id="d1bca-274">How to: Examine the Security Context</span></span>](../../../docs/framework/wcf/how-to-examine-the-security-context.md)
