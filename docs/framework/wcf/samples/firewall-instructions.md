---
title: 防火墙说明
ms.date: 03/30/2017
ms.assetid: a7dc429f-65ac-4faf-974a-77d5fb977fe1
ms.openlocfilehash: f1b576b4e413fa3bae70ef1eb8f8ed768e28e309
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/09/2019
ms.locfileid: "59295154"
---
# <a name="firewall-instructions"></a>防火墙说明
因此，Windows Communication Foundation (WCF) 示例才能运行，必须启用多个端口或程序在防火墙中。 其中许多示例使用范围 8000-8003 中的端口和端口 9000 进行通信。 防火墙默认情况下会打开，阻止对这些端口进行访问。 若要针对这些示例启用防火墙，请完成以下过程之一，具体情况取决于您的需求和安全环境：  
  
-   选项 1：以交互方式启用运行时的示例。 不预先更改防火墙配置，并继续开始生成和运行示例的过程。 运行示例时， **Windows 安全警报**对话框随即出现。 然后，可以通过交互方式将所讨论的示例程序添加到取消阻止列表。 对于此过程，您可能必须随后重新启动示例。  
  
-   选项 2：预先启用示例程序。 启动**Windows 防火墙控制面板**小程序和启用的示例程序计划运行。 您必须首先生成这些程序，以生成它们的可执行文件。 可以在以下过程中找到更详细的说明。  
  
-   选项 3:预先启用端口范围。 启动**Windows 防火墙****控制面板**小程序，启用端口 80、 443、 8000-8003 和 9000，示例使用。 可以在以下过程中找到更详细的说明。 相对于其他选项而言，此选项的安全性较差，因为它允许任何程序（而不仅仅是示例）使用这些端口。  
  
 如果不确定要使用哪个过程，请选择第一个选项。 如果运行其他供应商提供的防火墙，您可能需要进行类似的更改。  
  
> [!IMPORTANT]
>  更改防火墙配置会对安全产生影响。 建议您记录所做的更改，并在使用完示例后移除这些更改。  
  
### <a name="to-enable-samples-programs-in-advance"></a>预先启用示例程序  
  
1. 生成示例。  
  
2. 单击**启动**，单击**运行**，然后键入`firewall.cpl`。 这将打开**Windows 防火墙控制面板**小程序。  
  
    > [!NOTE]
    >  必须具有更改防火墙设置的权限，才能运行需要能够通过 Windows 防火墙进行通信的示例。 如果某些防火墙设置不可用，并且您的计算机连接到域，则系统管理员可以通过组策略控制这些设置。  
  
3. 完成以下特定于操作系统的步骤之一，允许程序通过 Windows 防火墙：  
  
    -   在 Windows 7 或 Windows Server 2008 r2 中，单击**允许某个程序或功能通过 Windows 防火墙**。 单击**更改设置**，允许**另一个程序...**.  
  
    -   上[!INCLUDE[wv](../../../../includes/wv-md.md)]或[!INCLUDE[lserver](../../../../includes/lserver-md.md)]，单击**允许程序通过 Windows 防火墙**。  
  
4. 上**异常**选项卡上，单击**添加程序**。  
  
5. 单击**浏览**按钮，然后选择你打算运行本示例的可执行文件。  
  
6. 重复步骤 4 和 5，直到你打算运行的所有样本的可执行文件添加完毕。  
  
7. 单击**确定**关闭防火墙小程序。  
  
### <a name="to-enable-a-port-range-in-advance"></a>预先启用端口范围  
  
1. 单击**启动**，单击**运行**，然后键入`firewall.cpl`。 这将打开**Windows 防火墙控制面板**小程序。  
  
2. 在 Windows 7 或 Windows Server 2008 R2 上，按以下步骤操作。  
  
    1.  单击**高级设置**的 Windows 防火墙窗口左列中。  
  
    2.  单击**入站规则**左侧列中。  
  
    3.  单击**新规则**右侧列中。  
  
    4.  选择**端口**然后单击**下一步**。  
  
    5.  选择**TCP**并输入`8000, 8001, 8002, 8003, 9000, 80, 443`中**特定本地端口**字段。  
  
    6.  单击 **“下一步”**。  
  
    7.  选择**允许连接**，然后单击**下一步**。  
  
    8.  选择**域**并**专用**，然后单击**下一步**。  
  
    9. 此规则命名`WCF-WF 4.0 Samples`，然后单击**完成**。  
  
    10. 单击**出站规则**并重复步骤 c 到 h。  
  
3. 在 [!INCLUDE[wv](../../../../includes/wv-md.md)] 或 [!INCLUDE[lserver](../../../../includes/lserver-md.md)] 上，按以下步骤操作。  
  
    1.  单击**允许程序通过 Windows 防火墙**。  
  
    2.  上**异常**选项卡上，单击**添加端口**。  
  
    3.  输入一个名称，输入 8000 作为端口号，然后选择**TCP**选项。  
  
    4.  单击**更改作用域**按钮，选择**我的网络**（子网） 的唯一选项，然后单击**确定**。  
  
    5.  为端口 8001、8002、8003、9000、80 和 443 重复步骤 b 到 d。  
  
4. 单击**确定**关闭防火墙小程序。  
  
> [!NOTE]
>  使用完示例后，请移除任何防火墙例外。 若要执行此操作，打开**Windows 防火墙控制面板**小程序并删除所有的程序或端口由前面的过程添加的项。
