---
title: 状态机工作流
ms.date: 03/30/2017
ms.assetid: 344caacd-bf3b-4716-bd5a-eca74fc5a61d
ms.openlocfilehash: d3c6f4f815f16ec4878b9aa70bd3a69c862d7800
ms.sourcegitcommit: c4e9d05644c9cb89de5ce6002723de107ea2e2c4
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/19/2019
ms.locfileid: "65876134"
---
# <a name="state-machine-workflows"></a><span data-ttu-id="1b26b-102">状态机工作流</span><span class="sxs-lookup"><span data-stu-id="1b26b-102">State Machine Workflows</span></span>
<span data-ttu-id="1b26b-103">状态机是用于开发程序的已知范例。</span><span class="sxs-lookup"><span data-stu-id="1b26b-103">A state machine is a well-known paradigm for developing programs.</span></span> <span data-ttu-id="1b26b-104"><xref:System.Activities.Statements.StateMachine> 活动与 <xref:System.Activities.Statements.State>、<xref:System.Activities.Statements.Transition> 以及其他活动一起可用于生成状态机工作流程序。</span><span class="sxs-lookup"><span data-stu-id="1b26b-104">The <xref:System.Activities.Statements.StateMachine> activity, along with <xref:System.Activities.Statements.State>, <xref:System.Activities.Statements.Transition>, and other activities can be used to build state machine workflow programs.</span></span> <span data-ttu-id="1b26b-105">本主题概述如何创建状态机工作流。</span><span class="sxs-lookup"><span data-stu-id="1b26b-105">This topic provides an overview of creating state machine workflows.</span></span>  
  
## <a name="state-machine-workflow-overview"></a><span data-ttu-id="1b26b-106">状态机工作流概述</span><span class="sxs-lookup"><span data-stu-id="1b26b-106">State Machine Workflow Overview</span></span>  
 <span data-ttu-id="1b26b-107">状态机工作流提供建模样式，使用该样式可以通过事件驱动方式对您的工作流进行建模。</span><span class="sxs-lookup"><span data-stu-id="1b26b-107">State machine workflows provide a modeling style with which you can model your workflow in an event-driven manner.</span></span> <span data-ttu-id="1b26b-108"><xref:System.Activities.Statements.StateMachine> 活动包含状态和转换，它们构成了状态机的逻辑，并且可以在能够使用活动的任何地方使用。</span><span class="sxs-lookup"><span data-stu-id="1b26b-108">A <xref:System.Activities.Statements.StateMachine> activity contains the states and transitions that make up the logic of the state machine, and can be used anywhere an activity can be used.</span></span> <span data-ttu-id="1b26b-109">状态机运行时有若干类：</span><span class="sxs-lookup"><span data-stu-id="1b26b-109">There are several classes in the state machine runtime:</span></span>  
  
- <xref:System.Activities.Statements.StateMachine>  
  
- <xref:System.Activities.Statements.State>  
  
- <xref:System.Activities.Statements.Transition>  
  
 <span data-ttu-id="1b26b-110">为了创建状态机工作流，需要将状态将添加到 <xref:System.Activities.Statements.StateMachine> 活动中，并且使用转换控制各状态之间的流。</span><span class="sxs-lookup"><span data-stu-id="1b26b-110">To create a state machine workflow, states are added to a <xref:System.Activities.Statements.StateMachine> activity, and transitions are used control the flow between states.</span></span> <span data-ttu-id="1b26b-111">以下屏幕截图中，从[入门教程](getting-started-tutorial.md)步骤[如何：创建状态机工作流](how-to-create-a-state-machine-workflow.md)，显示了三种状态和三个转换的状态机工作流。</span><span class="sxs-lookup"><span data-stu-id="1b26b-111">The following screenshot, from the [Getting Started Tutorial](getting-started-tutorial.md) step [How to: Create a State Machine Workflow](how-to-create-a-state-machine-workflow.md), shows a state machine workflow with three states and three transitions.</span></span> <span data-ttu-id="1b26b-112">**初始化目标**是初始状态，表示工作流中的第一个状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-112">**Initialize Target** is the initial state and represents the first state in the workflow.</span></span> <span data-ttu-id="1b26b-113">这指定的行，从而导致它从**启动**节点。</span><span class="sxs-lookup"><span data-stu-id="1b26b-113">This is designated by the line leading to it from the **Start** node.</span></span> <span data-ttu-id="1b26b-114">名为工作流中的最终状态**FinalState**，并表示在其中完成工作流的点。</span><span class="sxs-lookup"><span data-stu-id="1b26b-114">The final state in the workflow is named **FinalState**, and represents the point at which the workflow is completed.</span></span>  
  
 ![显示已完成的状态机工作流的图例。](./media/state-machine-workflows/complete-state-machine-workflow.jpg)  
  
 <span data-ttu-id="1b26b-116">状态机工作流必须有且只有一个初始状态，并且至少有一个最终状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-116">A state machine workflow must have one and only one initial state, and at least one final state.</span></span> <span data-ttu-id="1b26b-117">不属于最终状态的每个状态都必须具有至少一个转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-117">Each state that is not a final state must have at least one transition.</span></span> <span data-ttu-id="1b26b-118">下面的几节将介绍如何创建和配置状态和转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-118">The following sections cover creating and configuring states and transitions.</span></span>  
  
## <a name="creating-and-configuring-states"></a><span data-ttu-id="1b26b-119">创建和配置状态</span><span class="sxs-lookup"><span data-stu-id="1b26b-119">Creating and Configuring States</span></span>  
 <span data-ttu-id="1b26b-120"><xref:System.Activities.Statements.State> 表示状态机可具有的状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-120">A <xref:System.Activities.Statements.State> represents a state in which a state machine can be in.</span></span> <span data-ttu-id="1b26b-121">若要添加<xref:System.Activities.Statements.State>到工作流，拖动**状态**活动设计器从**状态机**一部分**工具箱**放到<xref:System.Activities.Statements.StateMachine>上的活动[!INCLUDE[wfd1](../../../includes/wfd1-md.md)]图面。</span><span class="sxs-lookup"><span data-stu-id="1b26b-121">To add a <xref:System.Activities.Statements.State> to a workflow, drag the **State** activity designer from the **State Machine** section of the **Toolbox** and drop it onto a <xref:System.Activities.Statements.StateMachine> activity on the [!INCLUDE[wfd1](../../../includes/wfd1-md.md)] surface.</span></span>  
  
 ![工具箱的状态机部分的屏幕截图。](./media/state-machine-workflows/state-machine-section-toolbox.jpg)  
  
 <span data-ttu-id="1b26b-123">若要配置状态作为**初始状态**，右键单击状态，然后选择**设置为初始状态**。</span><span class="sxs-lookup"><span data-stu-id="1b26b-123">To configure a state as the **Initial State**, right-click the state and select **Set as Initial State**.</span></span> <span data-ttu-id="1b26b-124">此外，如果没有任何当前的初始状态，初始状态可以指定通过拖动中的一行**启动**的所需状态的工作流的顶部节点。</span><span class="sxs-lookup"><span data-stu-id="1b26b-124">Additionally, if there is no current initial state, the initial state can be designated by dragging a line from the **Start** node at the top of the workflow to the desired state.</span></span> <span data-ttu-id="1b26b-125">当<xref:System.Activities.Statements.StateMachine>活动拖放到工作流设计器，它具有名为初始状态预先配置**State1**。</span><span class="sxs-lookup"><span data-stu-id="1b26b-125">When a <xref:System.Activities.Statements.StateMachine> activity is dropped onto the workflow designer, it is pre-configured with an initial state named **State1**.</span></span> <span data-ttu-id="1b26b-126">一个状态机工作流必须有且只有一个初始状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-126">A state machine workflow must have one and only one initial state.</span></span>  
  
 <span data-ttu-id="1b26b-127">表示状态机终止状态的状态称为最终状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-127">A state that represents a terminating state in a state machine is called a final state.</span></span> <span data-ttu-id="1b26b-128">最终状态是 <xref:System.Activities.Statements.State.IsFinal%2A> 属性设置为 `true`、没有 <xref:System.Activities.Statements.State.Exit%2A> 活动且没有源自它的转换的一种状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-128">A final state is a state that has its <xref:System.Activities.Statements.State.IsFinal%2A> property set to `true`, has no <xref:System.Activities.Statements.State.Exit%2A> activity, and no transitions originating from it.</span></span> <span data-ttu-id="1b26b-129">若要添加到工作流的最终状态，请拖动**FinalState**活动设计器从**状态机**一部分**工具箱**放到<xref:System.Activities.Statements.StateMachine>上的活动[!INCLUDE[wfd1](../../../includes/wfd1-md.md)]图面。</span><span class="sxs-lookup"><span data-stu-id="1b26b-129">To add a final state to a workflow, drag a **FinalState** activity designer from the **State Machine** section of the **Toolbox** and drop it onto a <xref:System.Activities.Statements.StateMachine> activity on the [!INCLUDE[wfd1](../../../includes/wfd1-md.md)] surface.</span></span> <span data-ttu-id="1b26b-130">一个状态机工作流必须具有至少一个最终状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-130">A state machine workflow must have at least one final state.</span></span>  
  
### <a name="configuring-entry-and-exit-actions"></a><span data-ttu-id="1b26b-131">配置进入和退出操作</span><span class="sxs-lookup"><span data-stu-id="1b26b-131">Configuring Entry and Exit Actions</span></span>  
 <span data-ttu-id="1b26b-132">一个状态可以具有一个 <xref:System.Activities.Statements.State.Entry%2A> 和一个 <xref:System.Activities.Statements.State.Exit%2A> 操作。</span><span class="sxs-lookup"><span data-stu-id="1b26b-132">A state can have an <xref:System.Activities.Statements.State.Entry%2A> and an <xref:System.Activities.Statements.State.Exit%2A> action.</span></span> <span data-ttu-id="1b26b-133">（配置为最终状态的状态只能具有一个进入操作）。</span><span class="sxs-lookup"><span data-stu-id="1b26b-133">(A state configured as a final state may have only an entry action).</span></span> <span data-ttu-id="1b26b-134">当某个工作流实例进入某一状态时，进入操作中的所有活动都将执行。</span><span class="sxs-lookup"><span data-stu-id="1b26b-134">When a workflow instance enters a state, any activities in the entry action execute.</span></span> <span data-ttu-id="1b26b-135">在该进入操作完成后，将计划针对状态转换的触发器。</span><span class="sxs-lookup"><span data-stu-id="1b26b-135">When the entry action is complete, the triggers for the state’s transitions are scheduled.</span></span> <span data-ttu-id="1b26b-136">当确认转换到另一状态时，即使该状态转换回相同状态，也将执行退出操作中的活动。</span><span class="sxs-lookup"><span data-stu-id="1b26b-136">When a transition to another state is confirmed, the activities in the exit action are executed, even if the state transitions back to the same state.</span></span> <span data-ttu-id="1b26b-137">退出操作完成后，转换操作中的活动将执行，然后转换到新状态，并将计划其进入操作。</span><span class="sxs-lookup"><span data-stu-id="1b26b-137">After the exit action completes, the activities in the transition’s action execute, and then the new state is transitioned to, and its entry actions are scheduled.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1b26b-138">当调试某一状态机工作流时，可以将断点放置在状态机根活动上以及状态机工作流内的状态上。</span><span class="sxs-lookup"><span data-stu-id="1b26b-138">When debugging a state machine workflow, breakpoints can be placed on the root state machine activity and states within the state machine workflow.</span></span> <span data-ttu-id="1b26b-139">断点不能直接放置于转换上，但可以放置于状态和转换中包含的任何活动上。</span><span class="sxs-lookup"><span data-stu-id="1b26b-139">Breakpoints may not be placed directly on the transitions, but they may be placed on any activities contained within the states and transitions.</span></span>  
  
## <a name="creating-and-configuring-transitions"></a><span data-ttu-id="1b26b-140">创建和配置转换</span><span class="sxs-lookup"><span data-stu-id="1b26b-140">Creating and Configuring Transitions</span></span>  
 <span data-ttu-id="1b26b-141">所有状态必须均具有至少一个转换，只有最终状态除外，最终状态不能具有任何转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-141">All states must have at least one transition, except for a final state which may not have any transitions.</span></span> <span data-ttu-id="1b26b-142">在某一状态添加到状态机工作流后可以添加转换，或者可以在删除状态时创建转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-142">Transitions may be added after a state is added to a state machine workflow, or they can be created as the state is dropped.</span></span>  
  
 <span data-ttu-id="1b26b-143">若要添加<xref:System.Activities.Statements.State>并在一个步骤中，将创建转换**状态**活动从**状态机**一部分**工具箱**并将其悬停在另一种状态工作流设计器。</span><span class="sxs-lookup"><span data-stu-id="1b26b-143">To add a <xref:System.Activities.Statements.State> and create a transition in one step, drag a **State** activity from the **State Machine** section of the **Toolbox** and hover it over another state in the workflow designer.</span></span> <span data-ttu-id="1b26b-144">在另一个 <xref:System.Activities.Statements.State> 上拖动 <xref:System.Activities.Statements.State> 时，在另一个 <xref:System.Activities.Statements.State> 周围将出现四个三角形。</span><span class="sxs-lookup"><span data-stu-id="1b26b-144">When the dragged <xref:System.Activities.Statements.State> is over another <xref:System.Activities.Statements.State>, four triangles will appear around the other <xref:System.Activities.Statements.State>.</span></span> <span data-ttu-id="1b26b-145">如果将 <xref:System.Activities.Statements.State> 放置到其中一个三角形，则将其添加到状态机，而且创建从源 <xref:System.Activities.Statements.State> 到放置目标 <xref:System.Activities.Statements.State> 的转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-145">If the <xref:System.Activities.Statements.State> is dropped onto one of the four triangles, it is added to the state machine and a transition is created from the source <xref:System.Activities.Statements.State> to the dropped destination <xref:System.Activities.Statements.State>.</span></span> <span data-ttu-id="1b26b-146">有关详细信息，请参阅[Transition 活动设计器](/visualstudio/workflow-designer/transition-activity-designer)。</span><span class="sxs-lookup"><span data-stu-id="1b26b-146">For more information, see [Transition Activity Designer](/visualstudio/workflow-designer/transition-activity-designer).</span></span>  
  
 <span data-ttu-id="1b26b-147">若要在添加状态后创建转换，有两个选项。</span><span class="sxs-lookup"><span data-stu-id="1b26b-147">To create a transition after a state is added, there are two options.</span></span> <span data-ttu-id="1b26b-148">第一个选项就是从工作流设计器图面拖动状态，并悬停在现有状态上，然后放置在其中一个放置点上。</span><span class="sxs-lookup"><span data-stu-id="1b26b-148">The first option is to drag the state from the workflow designer surface and hover it over an existing state and drop it on one of the drop points.</span></span> <span data-ttu-id="1b26b-149">这个选项与上一节中介绍的方法非常相似。</span><span class="sxs-lookup"><span data-stu-id="1b26b-149">This is very similar to the method described in the previous section.</span></span> <span data-ttu-id="1b26b-150">您也可以将鼠标悬停在所需的源状态上，然后拖动线条到所需的目标状态上。</span><span class="sxs-lookup"><span data-stu-id="1b26b-150">You can also hover the mouse over the desired source state, and drag a line to the desired destination state.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1b26b-151">状态机中的单个状态使用工作流设计器可以创建多达 76 个转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-151">A single state in a state machine can have up to 76 transitions created using the workflow designer.</span></span> <span data-ttu-id="1b26b-152">对在设计器外创建的工作流状态的转换限制只受系统资源限制。</span><span class="sxs-lookup"><span data-stu-id="1b26b-152">The limit on transitions for a state for workflows created outside the designer is limited only by system resources.</span></span>  
  
 <span data-ttu-id="1b26b-153">一个转换可以具有一个 <xref:System.Activities.Statements.Transition.Trigger%2A>、一个 <xref:System.Activities.Statements.Transition.Condition%2A> 和一个 <xref:System.Activities.Statements.Transition.Action%2A>。</span><span class="sxs-lookup"><span data-stu-id="1b26b-153">A transition may have a <xref:System.Activities.Statements.Transition.Trigger%2A>, a <xref:System.Activities.Statements.Transition.Condition%2A>, and an <xref:System.Activities.Statements.Transition.Action%2A>.</span></span> <span data-ttu-id="1b26b-154">在转换的源状态的 <xref:System.Activities.Statements.Transition.Trigger%2A> 操作完成时，将会计划转换的 <xref:System.Activities.Statements.State.Entry%2A>。</span><span class="sxs-lookup"><span data-stu-id="1b26b-154">A transition’s <xref:System.Activities.Statements.Transition.Trigger%2A> is scheduled when the transition’s source state’s <xref:System.Activities.Statements.State.Entry%2A> action is complete.</span></span> <span data-ttu-id="1b26b-155">通常，<xref:System.Activities.Statements.Transition.Trigger%2A> 是一种等待某种类型的事件发生的活动，但它可以是任何活动，也可以是完全没有任何活动。</span><span class="sxs-lookup"><span data-stu-id="1b26b-155">Typically the <xref:System.Activities.Statements.Transition.Trigger%2A> is an activity that waits for some type of event to occur, but it can be any activity, or no activity at all.</span></span> <span data-ttu-id="1b26b-156">在 <xref:System.Activities.Statements.Transition.Trigger%2A> 活动完成后，将会对 <xref:System.Activities.Statements.Transition.Condition%2A>（如果有）进行计算。</span><span class="sxs-lookup"><span data-stu-id="1b26b-156">Once the <xref:System.Activities.Statements.Transition.Trigger%2A> activity is complete, the <xref:System.Activities.Statements.Transition.Condition%2A>, if present, is evaluated.</span></span> <span data-ttu-id="1b26b-157">如果没有 <xref:System.Activities.Statements.Transition.Trigger%2A> 活动，则立即对 <xref:System.Activities.Statements.Transition.Condition%2A> 进行计算。</span><span class="sxs-lookup"><span data-stu-id="1b26b-157">If there is no <xref:System.Activities.Statements.Transition.Trigger%2A> activity then the <xref:System.Activities.Statements.Transition.Condition%2A> is immediately evaluated.</span></span> <span data-ttu-id="1b26b-158">如果条件的计算结果为 `false`，则取消转换，并且来自该状态的所有转换的 <xref:System.Activities.Statements.Transition.Trigger%2A> 活动都将重新计划。</span><span class="sxs-lookup"><span data-stu-id="1b26b-158">If the condition evaluates to `false`, the transition is cancelled, and the <xref:System.Activities.Statements.Transition.Trigger%2A> activity for all transitions from the state are rescheduled.</span></span> <span data-ttu-id="1b26b-159">如果存在与当前转换共享相同源状态的其他转换，也将取消并且重新计划这些 <xref:System.Activities.Statements.Transition.Trigger%2A> 操作。</span><span class="sxs-lookup"><span data-stu-id="1b26b-159">If there are other transitions that share the same source state as the current transition, those <xref:System.Activities.Statements.Transition.Trigger%2A> actions are cancelled and rescheduled as well.</span></span> <span data-ttu-id="1b26b-160">如果 <xref:System.Activities.Statements.Transition.Condition%2A> 的计算结果为 `true` 或没有任何条件，则执行源状态的 <xref:System.Activities.Statements.State.Exit%2A> 操作，然后执行转换的 <xref:System.Activities.Statements.Transition.Action%2A>。</span><span class="sxs-lookup"><span data-stu-id="1b26b-160">If the <xref:System.Activities.Statements.Transition.Condition%2A> evaluates to `true`, or there is no condition, then the <xref:System.Activities.Statements.State.Exit%2A> action of the source state is executed, and then the <xref:System.Activities.Statements.Transition.Action%2A> of the transition is executed.</span></span> <span data-ttu-id="1b26b-161">当<xref:System.Activities.Statements.Transition.Action%2A>完成后，控制权将传递给**目标**状态</span><span class="sxs-lookup"><span data-stu-id="1b26b-161">When the <xref:System.Activities.Statements.Transition.Action%2A> completes, control passes to the **Target** state</span></span>  
  
 <span data-ttu-id="1b26b-162">共享公共触发器的转换称作共享触发器转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-162">Transitions that share a common trigger are known as shared trigger transitions.</span></span> <span data-ttu-id="1b26b-163">一组共享触发器转换中的每个转换都具有相同触发器，但具有唯一的 <xref:System.Activities.Statements.Transition.Condition%2A> 和 Action。</span><span class="sxs-lookup"><span data-stu-id="1b26b-163">Each transition in a group of shared trigger transitions has the same trigger, but a unique <xref:System.Activities.Statements.Transition.Condition%2A> and Action.</span></span> <span data-ttu-id="1b26b-164">若要将其他操作添加到转换和创建共享转换，请单击指示所需转换的开始的圆并将它拖到所需的状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-164">To add additional actions to a transition and create a shared transition, click the circle that indicates the start of the desired transition and drag it to the desired state.</span></span> <span data-ttu-id="1b26b-165">新转换将与初始转换共享相同的触发器，但它将具有一个唯一的条件和操作。</span><span class="sxs-lookup"><span data-stu-id="1b26b-165">The new transition will share a same trigger as the initial transition, but it will have a unique condition and action.</span></span> <span data-ttu-id="1b26b-166">共享的转换还可以创建从在转换设计器通过单击**添加共享的触发器转换**底部的转换设计器，然后选择所需的目标状态从**若要连接的可用状态**下拉列表。</span><span class="sxs-lookup"><span data-stu-id="1b26b-166">Shared transitions can also be created from within the transition designer by clicking **Add shared trigger transition** at the bottom of the transition designer, and then selecting the desired target state from the **Available states to connect** drop-down.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1b26b-167">注意，如果转换的 <xref:System.Activities.Statements.Transition.Condition%2A> 计算结果为 `False`（或所有共享触发转换条件的计算结果均为 `False`），转换将不发生，并且此状态下的所有转换的所有触发将被重新计划。</span><span class="sxs-lookup"><span data-stu-id="1b26b-167">Note that if the <xref:System.Activities.Statements.Transition.Condition%2A> of a transition evaluates to `False` (or all of the conditions of a shared trigger transition evaluate to `False`), the transition will not occur and all triggers for all the transitions from the state will be rescheduled.</span></span>  
  
 <span data-ttu-id="1b26b-168">有关创建状态机工作流的详细信息，请参阅[如何：创建状态机工作流](how-to-create-a-state-machine-workflow.md)， [StateMachine 活动设计器](/visualstudio/workflow-designer/statemachine-activity-designer)，[状态活动设计器](/visualstudio/workflow-designer/state-activity-designer)， [FinalState 活动设计器](/visualstudio/workflow-designer/finalstate-activity-designer)，并且[转换活动设计器](/visualstudio/workflow-designer/transition-activity-designer)。</span><span class="sxs-lookup"><span data-stu-id="1b26b-168">For more information on creating state machine workflows, see [How to: Create a State Machine Workflow](how-to-create-a-state-machine-workflow.md), [StateMachine Activity Designer](/visualstudio/workflow-designer/statemachine-activity-designer), [State Activity Designer](/visualstudio/workflow-designer/state-activity-designer), [FinalState Activity Designer](/visualstudio/workflow-designer/finalstate-activity-designer), and [Transition Activity Designer](/visualstudio/workflow-designer/transition-activity-designer).</span></span>  
  
## <a name="state-machine-terminology"></a><span data-ttu-id="1b26b-169">状态机术语</span><span class="sxs-lookup"><span data-stu-id="1b26b-169">State Machine Terminology</span></span>  
 <span data-ttu-id="1b26b-170">本节定义本主题中使用的状态机词汇。</span><span class="sxs-lookup"><span data-stu-id="1b26b-170">This section defines the state machine vocabulary used throughout this topic.</span></span>  
  
 <span data-ttu-id="1b26b-171">状态</span><span class="sxs-lookup"><span data-stu-id="1b26b-171">State</span></span>  
 <span data-ttu-id="1b26b-172">构成状态机的基本单位。</span><span class="sxs-lookup"><span data-stu-id="1b26b-172">The basic unit that composes a state machine.</span></span> <span data-ttu-id="1b26b-173">状态机在任何特定时间都可处于某一状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-173">A state machine can be in one state at any particular time.</span></span>  
  
 <span data-ttu-id="1b26b-174">进入操作</span><span class="sxs-lookup"><span data-stu-id="1b26b-174">Entry Action</span></span>  
 <span data-ttu-id="1b26b-175">进入状态时执行的活动</span><span class="sxs-lookup"><span data-stu-id="1b26b-175">An activity executed when entering the state</span></span>  
  
 <span data-ttu-id="1b26b-176">退出操作</span><span class="sxs-lookup"><span data-stu-id="1b26b-176">Exit Action</span></span>  
 <span data-ttu-id="1b26b-177">退出状态时执行的活动</span><span class="sxs-lookup"><span data-stu-id="1b26b-177">An activity executed when exiting the state</span></span>  
  
 <span data-ttu-id="1b26b-178">切换</span><span class="sxs-lookup"><span data-stu-id="1b26b-178">Transition</span></span>  
 <span data-ttu-id="1b26b-179">两个状态之间的定向关系，表示状态机对发生的特定类型事件的整个响应。</span><span class="sxs-lookup"><span data-stu-id="1b26b-179">A directed relationship between two states which represents the complete response of a state machine to an occurrence of an event of a particular type.</span></span>  
  
 <span data-ttu-id="1b26b-180">共享转换</span><span class="sxs-lookup"><span data-stu-id="1b26b-180">Shared Transition</span></span>  
 <span data-ttu-id="1b26b-181">与一个或多个转换共享源状态和触发器、但具有唯一条件和操作的一种转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-181">A transition that shares a source state and trigger with one or more transitions, but has a unique condition and action.</span></span>  
  
 <span data-ttu-id="1b26b-182">触发器</span><span class="sxs-lookup"><span data-stu-id="1b26b-182">Trigger</span></span>  
 <span data-ttu-id="1b26b-183">导致转换发生的触发活动。</span><span class="sxs-lookup"><span data-stu-id="1b26b-183">A triggering activity that causes a transition to occur.</span></span>  
  
 <span data-ttu-id="1b26b-184">条件</span><span class="sxs-lookup"><span data-stu-id="1b26b-184">Condition</span></span>  
 <span data-ttu-id="1b26b-185">一个约束条件，该约束的计算结果必须为 `true`，然后触发器才会发生以便完成转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-185">A constraint which must evaluate to `true` after the trigger occurs in order for the transition to complete.</span></span>  
  
 <span data-ttu-id="1b26b-186">转换操作</span><span class="sxs-lookup"><span data-stu-id="1b26b-186">Transition Action</span></span>  
 <span data-ttu-id="1b26b-187">在执行某个转换时执行的活动。</span><span class="sxs-lookup"><span data-stu-id="1b26b-187">An activity which is executed when performing a certain transition.</span></span>  
  
 <span data-ttu-id="1b26b-188">条件转换</span><span class="sxs-lookup"><span data-stu-id="1b26b-188">Conditional Transition</span></span>  
 <span data-ttu-id="1b26b-189">具有显式条件的转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-189">A transition with an explicit condition.</span></span>  
  
 <span data-ttu-id="1b26b-190">自行转换</span><span class="sxs-lookup"><span data-stu-id="1b26b-190">Self-transition</span></span>  
 <span data-ttu-id="1b26b-191">从某一状态转换到该状态本身的一种转换。</span><span class="sxs-lookup"><span data-stu-id="1b26b-191">A transition which transits from a state to itself.</span></span>  
  
 <span data-ttu-id="1b26b-192">初始状态</span><span class="sxs-lookup"><span data-stu-id="1b26b-192">Initial State</span></span>  
 <span data-ttu-id="1b26b-193">表示状态机起始点的一种状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-193">A state which represents the starting point of the state machine.</span></span>  
  
 <span data-ttu-id="1b26b-194">最终状态</span><span class="sxs-lookup"><span data-stu-id="1b26b-194">Final State</span></span>  
 <span data-ttu-id="1b26b-195">表示状态机完成的一种状态。</span><span class="sxs-lookup"><span data-stu-id="1b26b-195">A state which represents the completion of the state machine.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1b26b-196">请参阅</span><span class="sxs-lookup"><span data-stu-id="1b26b-196">See also</span></span>

- [<span data-ttu-id="1b26b-197">如何：创建状态机工作流</span><span class="sxs-lookup"><span data-stu-id="1b26b-197">How to: Create a State Machine Workflow</span></span>](how-to-create-a-state-machine-workflow.md)
- [<span data-ttu-id="1b26b-198">StateMachine 活动设计器</span><span class="sxs-lookup"><span data-stu-id="1b26b-198">StateMachine Activity Designer</span></span>](/visualstudio/workflow-designer/statemachine-activity-designer)
- [<span data-ttu-id="1b26b-199">State 活动设计器</span><span class="sxs-lookup"><span data-stu-id="1b26b-199">State Activity Designer</span></span>](/visualstudio/workflow-designer/state-activity-designer)
- [<span data-ttu-id="1b26b-200">FinalState 活动设计器</span><span class="sxs-lookup"><span data-stu-id="1b26b-200">FinalState Activity Designer</span></span>](/visualstudio/workflow-designer/finalstate-activity-designer)
- [<span data-ttu-id="1b26b-201">Transition 活动设计器</span><span class="sxs-lookup"><span data-stu-id="1b26b-201">Transition Activity Designer</span></span>](/visualstudio/workflow-designer/transition-activity-designer)
