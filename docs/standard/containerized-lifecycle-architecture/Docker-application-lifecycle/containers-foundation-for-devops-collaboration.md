---
title: 容器作为 DevOps 协作的基础
description: 了解容器来简化开发运营的关键角色。
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 11/23/2018
ms.openlocfilehash: d0339199092304dd6c91707d8cf4da213f110b58
ms.sourcegitcommit: 30e2fe5cc4165aa6dde7218ec80a13def3255e98
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/13/2019
ms.locfileid: "56219278"
---
# <a name="containers-as-the-foundation-for-devops-collaboration"></a><span data-ttu-id="e0ee7-103">容器作为 DevOps 协作的基础</span><span class="sxs-lookup"><span data-stu-id="e0ee7-103">Containers as the foundation for DevOps collaboration</span></span>

<span data-ttu-id="e0ee7-104">由容器和 Docker 技术的性质，开发人员可以其软件和依赖项通过轻松地共享 IT 操作和生产环境同时消除典型的"适用于我的计算机"借口。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-104">By the very nature of the containers and Docker technology, developers can share their software and dependencies easily with IT operations and production environments while eliminating the typical "it works on my machine" excuse.</span></span> <span data-ttu-id="e0ee7-105">容器解决不同的环境之间的应用程序冲突。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-105">Containers solve application conflicts between different environments.</span></span> <span data-ttu-id="e0ee7-106">间接，容器和 Docker 将开发人员和 IT 运营更接近组合在一起，使它们更高效地协作更轻松。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-106">Indirectly, containers and Docker bring developers and IT operations closer together, making it easier for them to collaborate effectively.</span></span> <span data-ttu-id="e0ee7-107">采用容器工作流将许多客户提供 DevOps 连续性它们已试图但以前版本更复杂的配置通过实现和构建管道。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-107">Adopting the container workflow provides many customers with the DevOps continuity they've sought but previously had to implement via more complex configuration for release and build pipelines.</span></span> <span data-ttu-id="e0ee7-108">容器简化 DevOps 中的生成/测试/部署管道。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-108">Containers simplify the build/test/deploy pipelines in DevOps.</span></span>

![](./media/image1.png)

<span data-ttu-id="e0ee7-109">图 2-1:每个容器化 Docker 应用程序生命周期中的"人员"的主工作负荷</span><span class="sxs-lookup"><span data-stu-id="e0ee7-109">Figure 2-1: Main workloads per "personas" in the life cycle for containerized Docker applications</span></span>

<span data-ttu-id="e0ee7-110">使用 Docker 容器，开发人员自己的容器 （应用程序和服务，并向框架和组件的依赖项） 和容器和服务的行为方式一起作为一个服务的集合构成应用程序中是什么。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-110">With Docker containers, developers own what's within the container (application and service, and dependencies to frameworks and components) and how the containers and services behave together as an application composed by a collection of services.</span></span> <span data-ttu-id="e0ee7-111">Docker-compose.yml 文件，或那些可称为中定义多个容器的相互依赖项*部署清单*。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-111">The interdependencies of the multiple containers are defined in a docker-compose.yml file, or what could be called a *deployment manifest*.</span></span> <span data-ttu-id="e0ee7-112">同时，（IT 专业人员和管理） 的 IT 运营团队可以专注于生产环境; 的管理基础结构使用;可伸缩性;监视;和从根本上讲，确保该应用程序传送正确的最终用户，而无需了解各种容器的内容。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-112">Meanwhile, IT operations teams (IT professionals and management) can focus on the management of production environments; infrastructure; scalability; monitoring; and, ultimately, ensuring that the applications are delivering properly for the end users, without having to know the contents of the various containers.</span></span> <span data-ttu-id="e0ee7-113">因此，名称"容器，"重新调用到实际的集装箱类比。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-113">Hence, the name "container," recalling the analogy to real-world shipping containers.</span></span> <span data-ttu-id="e0ee7-114">因此的容器的内容所有者需要考虑自身与容器如何需要通过寄送和传送的公司传输从起点到其目标的容器而无需了解或关注的内容。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-114">Thus, the owners of a container's content need not concern themselves with how the container will be shipped, and the shipping company transports a container from its point of origin to its destination without knowing or caring about the contents.</span></span> <span data-ttu-id="e0ee7-115">以类似方式，开发人员可以创建并拥有 Docker 容器，而无需自己考虑"传输"机制中的内容。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-115">In a similar manner, developers can create and own the contents within a Docker container without the need to concern themselves with the "transport" mechanisms.</span></span>

<span data-ttu-id="e0ee7-116">在左侧和右侧图 2-1 的支柱，开发人员编写，并在 Docker 容器中本地运行代码，通过使用 Docker 的 Windows 或 mac。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-116">In the pillar on the left side of Figure 2-1, developers write and run code locally in Docker containers by using Docker for Windows or Mac.</span></span> <span data-ttu-id="e0ee7-117">它们使用 Dockerfile，指定基本操作系统以及到 Docker 映像生成其代码的生成步骤运行定义操作环境的代码。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-117">They define the operating environment for the code by using a Dockerfile that specifies the base operating system to run as well as the build steps for building their code into a Docker image.</span></span> <span data-ttu-id="e0ee7-118">开发人员定义的一个或多个映像将交互使用前面提到*docker compose.yml*文件部署清单。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-118">The developers define how the one or more images will interoperate using the aforementioned *docker-compose.yml* file deployment manifest.</span></span> <span data-ttu-id="e0ee7-119">完成其本地开发，它们将推送其应用程序代码加上的 Docker 配置文件到其选择 （也就是说，Git 存储库） 的代码存储库。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-119">As they complete their local development, they push their application code plus the Docker configuration files to the code repository of their choice (that is, Git repository).</span></span>

<span data-ttu-id="e0ee7-120">DevOps 支柱定义使用在代码存储库中提供的 Dockerfile 生成 – 持续集成 (CI) 管道。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-120">The DevOps pillar defines the build–Continuous Integration (CI) pipelines using the Dockerfile provided in the code repository.</span></span> <span data-ttu-id="e0ee7-121">CI 系统从所选的 Docker 注册表中拉取内容的基容器映像，并生成应用程序的自定义 Docker 映像。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-121">The CI system pulls the base container images from the selected Docker registry and builds the custom Docker images for the application.</span></span> <span data-ttu-id="e0ee7-122">映像然后进行验证，并推送到 Docker 注册表用于部署到多个环境。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-122">The images then are validated and pushed to the Docker registry used for the deployments to multiple environments.</span></span>

<span data-ttu-id="e0ee7-123">在右侧的支柱，操作团队管理部署的应用程序和基础结构，以便它们可以提供反馈和有关如何才能在应用程序开发团队的见解，监视的环境和应用程序时的生产环境中改进了。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-123">In the pillar on the right, operations teams manage deployed applications and infrastructure in production while monitoring the environment and applications so that they can provide feedback and insights to the development team about how the application might be improved.</span></span> <span data-ttu-id="e0ee7-124">容器应用程序通常使用容器业务流程协调程序的生产环境中运行。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-124">Container apps are typically run in production using container orchestrators.</span></span>

<span data-ttu-id="e0ee7-125">通过提供关注点的分离为一个协定，从而大大提高应用程序生命周期中的两个团队的协作的基础平台 （Docker 容器），两个团队正在进行协作。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-125">The two teams are collaborating through a foundational platform (Docker containers) that provides a separation of concerns as a contract, while greatly improving the two teams' collaboration in the application life cycle.</span></span> <span data-ttu-id="e0ee7-126">开发人员拥有容器内容、 其运行环境和容器相互依赖关系，而运营团队需要在清单以及构建的映像，并在其业务流程系统中运行它们。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-126">The developers own the container contents, its operating environment, and the container interdependencies, whereas the operations teams take the built images along with the manifest and runs them in their orchestration system.</span></span>

## <a name="introduction-to-a-generic-end-to-end-docker-application-life-cycle-workflow"></a><span data-ttu-id="e0ee7-127">泛型的端到端的 Docker 应用程序生命周期工作流简介</span><span class="sxs-lookup"><span data-stu-id="e0ee7-127">Introduction to a generic end-to-end Docker application life cycle workflow</span></span>

<span data-ttu-id="e0ee7-128">图 2-2 提供更详细的工作流的 Docker 应用程序生命周期，在这种情况致力于 DevOps 的特定活动和资产。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-128">Figure 2-2 presents a more detailed workflow for a Docker application life cycle, focusing in this instance on specific DevOps activities and assets.</span></span>

![](./media/image2.png)

<span data-ttu-id="e0ee7-129">图 2-2:Docker 容器化应用程序生命周期的高级工作流</span><span class="sxs-lookup"><span data-stu-id="e0ee7-129">Figure 2-2: High-level workflow for the Docker containerized application life cycle</span></span>

<span data-ttu-id="e0ee7-130">开发人员，启动内部循环工作流中编写代码的所有内容开始。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-130">Everything begins with the developer, who starts writing code in the inner-loop workflow.</span></span> <span data-ttu-id="e0ee7-131">内部循环阶段是开发人员在其中定义发生之前将代码推送到代码存储库 （例如，Git 等源代码管理系统）。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-131">The inner-loop stage is where developers define everything that happens before pushing code into the code repository (for example, a source control system such as Git).</span></span> <span data-ttu-id="e0ee7-132">将提交这批后，存储库触发持续集成 (CI) 和工作流的其余部分。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-132">After it is committed, the repository triggers Continuous Integration (CI) and the rest of the workflow.</span></span>

<span data-ttu-id="e0ee7-133">内部循环基本上包含"与代码一样，""，""test"和"调试，"以及执行其他步骤之前立即运行在本地运行应用程序的典型步骤。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-133">The inner loop basically consists of typical steps like "code," "run," "test," and "debug," plus additional steps directly before running the app locally.</span></span> <span data-ttu-id="e0ee7-134">这是当开发人员运行并测试应用作为 Docker 容器。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-134">This is when the developer runs and tests the app as a Docker container.</span></span> <span data-ttu-id="e0ee7-135">内部循环工作流将在后面的部分中所述。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-135">The inner-loop workflow will be explained in the sections that follow.</span></span>

<span data-ttu-id="e0ee7-136">后退一步要查看端到端工作流，DevOps 工作流不只是一项技术或工具集： 它是一种心态需要区域性演变。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-136">Taking a step back to look at the end-to end workflow, the DevOps workflow is more than a technology or a tool set: it's a mindset that requires cultural evolution.</span></span> <span data-ttu-id="e0ee7-137">它是人员、 流程和相应的工具，以使您的应用程序生命周期更快、 更可预测。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-137">It is people, processes, and the appropriate tools to make your application life cycle faster and more predictable.</span></span> <span data-ttu-id="e0ee7-138">企业通常采用容器化工作流重构其组织来表示人员和流程相匹配的容器化工作流。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-138">Enterprises that adopt a containerized workflow typically restructure their organizations to represent people and processes that match the containerized workflow.</span></span>

<span data-ttu-id="e0ee7-139">DevOps 在其中完成练习可帮助团队更快地响应一起竞争压力通过自动化，这会导致改进可跟踪性和可重复的工作流以代替容易出错的手动过程。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-139">Practicing DevOps can help teams respond faster together to competitive pressures by replacing error-prone manual processes with automation, which results in improved traceability and repeatable workflows.</span></span> <span data-ttu-id="e0ee7-140">组织还可以更有效地管理环境并实现成本节约与在本地和云资源的组合以及紧密集成的工具。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-140">Organizations also can manage environments more efficiently and realize cost savings with a combination of on-premises and cloud resources as well as tightly integrated tooling.</span></span>

<span data-ttu-id="e0ee7-141">在实现 Docker 应用程序 DevOps 工作流时，您将看到 Docker 的技术是出现在工作流，几乎每个阶段中开发环境中生成测试 CI 阶段中，在内部循环 （代码中，运行、 调试） 中工作时，当然，在生产和过渡环境，并将容器部署到这些环境。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-141">When implementing your DevOps workflow for Docker applications, you'll see that Docker's technologies are present in almost every stage of the workflow, from your development box while working in the inner loop (code, run, debug), to the build-test-CI phase, and, of course, at the production and staging environments and when deploying your containers to those environments.</span></span>

<span data-ttu-id="e0ee7-142">改进质量做法有助于识别在开发周期，降低了成本修复它们的早期的缺陷。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-142">Improvement of quality practices helps to identify defects early in the development cycle, which reduces the cost of fixing them.</span></span> <span data-ttu-id="e0ee7-143">通过在映像中包括的环境和依赖项，并采用相同的映像部署到多个环境的理念，您将升级提取提高部署可靠性的特定于环境的配置这一规定。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-143">By including the environment and dependencies in the image and adopting a philosophy of deploying the same image across multiple environments, you promote a discipline of extracting the environment-specific configurations making deployments more reliable.</span></span>

<span data-ttu-id="e0ee7-144">通过有效检测 （监视和诊断） 获得的丰富数据提供了深入了解性能问题和用户行为，以指导将来的优先级和投资。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-144">Rich data obtained through effective instrumentation (monitoring and diagnostics) provides insight into performance issues and user behavior to guide future priorities and investments.</span></span>

<span data-ttu-id="e0ee7-145">应考虑 DevOps 之旅，而非目的。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-145">DevOps should be considered a journey, not a destination.</span></span> <span data-ttu-id="e0ee7-146">它应以增量方式实现通过相应地指定了作用域项目从其演示成功、 学习和发展。</span><span class="sxs-lookup"><span data-stu-id="e0ee7-146">It should be implemented incrementally through appropriately scoped projects from which you can demonstrate success, learn, and evolve.</span></span>

## <a name="benefits-of-devops-for-containerized-applications"></a><span data-ttu-id="e0ee7-147">容器化应用程序的 DevOps 的优势</span><span class="sxs-lookup"><span data-stu-id="e0ee7-147">Benefits of DevOps for containerized applications</span></span>

<span data-ttu-id="e0ee7-148">下面是一些提供坚实的 DevOps 工作流的最重要好处：</span><span class="sxs-lookup"><span data-stu-id="e0ee7-148">Here are some of the most important benefits provided by a solid DevOps workflow:</span></span>

-   <span data-ttu-id="e0ee7-149">更好地符合性以更快地交付更高质量软件</span><span class="sxs-lookup"><span data-stu-id="e0ee7-149">Deliver better-quality software, faster and with better compliance</span></span>

-   <span data-ttu-id="e0ee7-150">前面更经济实惠地推动持续改进和调整</span><span class="sxs-lookup"><span data-stu-id="e0ee7-150">Drive continuous improvement and adjustments earlier and more economically</span></span>

-   <span data-ttu-id="e0ee7-151">增加透明度和交付和运行软件所涉及的利益干系人之间的协作</span><span class="sxs-lookup"><span data-stu-id="e0ee7-151">Increase transparency and collaboration among stakeholders involved in delivering and operating software</span></span>

-   <span data-ttu-id="e0ee7-152">控制成本并更有效地利用预配的资源，同时最大程度的安全风险</span><span class="sxs-lookup"><span data-stu-id="e0ee7-152">Control costs and utilize provisioned resources more effectively while minimizing security risks</span></span>

-   <span data-ttu-id="e0ee7-153">即插于许多现有的 DevOps 投资，包括开放源代码中的投资</span><span class="sxs-lookup"><span data-stu-id="e0ee7-153">Plug and play well with many of your existing DevOps investments, including investments in open source</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="e0ee7-154">[上一页](index.md)
>[下一页](../Microsoft-platform-tools-containerized-apps/index.md)</span><span class="sxs-lookup"><span data-stu-id="e0ee7-154">[Previous](index.md)
[Next](../Microsoft-platform-tools-containerized-apps/index.md)</span></span>