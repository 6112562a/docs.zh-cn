---
title: 关键结论
description: 从适用于容器化的 .NET 应用程序的 .Net 微服务体系结构指南/电子书中获取关键信息，以便快速了解在使用微服务体系结构时涉及的高级问题，如优缺点、用于设计和开发的 DDD 模式，以及复原能力、安全性和业务流程协调程序的使用。
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 10/19/2018
ms.openlocfilehash: 90babf9a32d1e139216cbc8eb1c629401b8e83e3
ms.sourcegitcommit: 542aa405b295955eb055765f33723cb8b588d0d0
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/17/2019
ms.locfileid: "54362114"
---
# <a name="key-takeaways"></a><span data-ttu-id="8e097-103">关键结论</span><span class="sxs-lookup"><span data-stu-id="8e097-103">Key Takeaways</span></span>

<span data-ttu-id="8e097-104">下列总结和关键结论是本指南中最重要的结论。</span><span class="sxs-lookup"><span data-stu-id="8e097-104">As a summary and key takeaways, the following are the most important conclusions from this guide.</span></span>

<span data-ttu-id="8e097-105">**使用容器的好处。**</span><span class="sxs-lookup"><span data-stu-id="8e097-105">**Benefits of using containers.**</span></span> <span data-ttu-id="8e097-106">基于容器的解决方案对于节约成本大有裨益，因为它们可以帮助减少由于在生产环境中依赖关系异常而导致的部署问题。</span><span class="sxs-lookup"><span data-stu-id="8e097-106">Container-based solutions provide important cost savings because they help reduce deployment problems caused by failing dependencies in production environments.</span></span> <span data-ttu-id="8e097-107">容器显著改善了 DevOps 和生产操作。</span><span class="sxs-lookup"><span data-stu-id="8e097-107">Containers significantly improve DevOps and production operations.</span></span>

<span data-ttu-id="8e097-108">**容器将无处不在。**</span><span class="sxs-lookup"><span data-stu-id="8e097-108">**Containers will be ubiquitous.**</span></span> <span data-ttu-id="8e097-109">基于 Docker 的容器正在逐渐成为业界的事实标准，受到 Windows 和 Linux 生态系统领域主要供应商的支持，比如 Microsoft、Amazon AWS、Google 和 IBM。</span><span class="sxs-lookup"><span data-stu-id="8e097-109">Docker-based containers are becoming the de facto standard in the industry, supported by key vendors in the Windows and Linux ecosystems, such as Microsoft, Amazon AWS, Google, and IBM.</span></span> <span data-ttu-id="8e097-110">Docker 可能会很快在云和本地的数据中心普及。</span><span class="sxs-lookup"><span data-stu-id="8e097-110">Docker will probably soon be ubiquitous in both the cloud and on-premises datacenters.</span></span>

<span data-ttu-id="8e097-111">**容器可作为部署单位。**</span><span class="sxs-lookup"><span data-stu-id="8e097-111">**Containers as a unit of deployment.**</span></span> <span data-ttu-id="8e097-112">Docker 容器正逐渐成为任何基于服务器的应用程序或服务的标准部署单位。</span><span class="sxs-lookup"><span data-stu-id="8e097-112">A Docker container is becoming the standard unit of deployment for any server-based application or service.</span></span>

<span data-ttu-id="8e097-113">**微服务。**</span><span class="sxs-lookup"><span data-stu-id="8e097-113">**Microservices.**</span></span> <span data-ttu-id="8e097-114">微服务体系结构正成为基于多个独立子系统的分布式和大型或复杂的任务关键型应用程序的首选方法，其形式是自治服务。</span><span class="sxs-lookup"><span data-stu-id="8e097-114">The microservices architecture is becoming the preferred approach for distributed and large or complex mission-critical applications based on many independent subsystems in the form of autonomous services.</span></span> <span data-ttu-id="8e097-115">在基于微服务的体系结构中，将应用程序生成为可独立开发、测试、版本控制、部署和缩放的一系列服务。</span><span class="sxs-lookup"><span data-stu-id="8e097-115">In a microservice-based architecture, the application is built as a collection of services that are developed, tested, versioned, deployed, and scaled independently.</span></span> <span data-ttu-id="8e097-116">每个服务可以包含任何相关的自治数据库。</span><span class="sxs-lookup"><span data-stu-id="8e097-116">Each service can include any related autonomous database.</span></span>

<span data-ttu-id="8e097-117">**域驱动设计和 SOA。**</span><span class="sxs-lookup"><span data-stu-id="8e097-117">**Domain-driven design and SOA.**</span></span> <span data-ttu-id="8e097-118">微服务体系结构模式派生自面向服务的体系结构 (SOA) 和域驱动设计 (DDD)。</span><span class="sxs-lookup"><span data-stu-id="8e097-118">The microservices architecture patterns derive from service-oriented architecture (SOA) and domain-driven design (DDD).</span></span> <span data-ttu-id="8e097-119">在业务需求和规则不断发展的情况下，为环境设计和开发微服务，请务必考虑 DDD 方法和模式。</span><span class="sxs-lookup"><span data-stu-id="8e097-119">When you design and develop microservices for environments with evolving business needs and rules, it's important to consider DDD approaches and patterns.</span></span>

<span data-ttu-id="8e097-120">**微服务挑战。**</span><span class="sxs-lookup"><span data-stu-id="8e097-120">**Microservices challenges.**</span></span> <span data-ttu-id="8e097-121">微服务提供了许多强大的功能，如独立部署、强大的子系统边界和技术多样性。</span><span class="sxs-lookup"><span data-stu-id="8e097-121">Microservices offer many powerful capabilities, like independent deployment, strong subsystem boundaries, and technology diversity.</span></span> <span data-ttu-id="8e097-122">但是，它们也会引发许多与分布式应用程序开发相关的新挑战，例如零碎和独立的数据模型、微服务之间的弹性通信、最终一致性，以及聚合来自多个微服务的日志记录和监视信息所导致的操作复杂性。</span><span class="sxs-lookup"><span data-stu-id="8e097-122">However, they also raise many new challenges related to distributed application development, such as fragmented and independent data models, resilient communication between microservices, eventual consistency, and operational complexity that results from aggregating logging and monitoring information from multiple microservices.</span></span> <span data-ttu-id="8e097-123">与传统单片应用程序相比，这些方面加深了复杂性。</span><span class="sxs-lookup"><span data-stu-id="8e097-123">These aspects introduce a much higher complexity level than a traditional monolithic application.</span></span> <span data-ttu-id="8e097-124">因此，仅特定方案适用于基于微服务的应用程序。</span><span class="sxs-lookup"><span data-stu-id="8e097-124">As a result, only specific scenarios are suitable for microservice-based applications.</span></span> <span data-ttu-id="8e097-125">其中包括具有多个不断发展的子系统的大型复杂应用程序。</span><span class="sxs-lookup"><span data-stu-id="8e097-125">These include large and complex applications with multiple evolving subsystems.</span></span> <span data-ttu-id="8e097-126">在这些情况下，值得投资更复杂的软件体系结构，因为它将提供更好的长期灵活性和应用程序维护。</span><span class="sxs-lookup"><span data-stu-id="8e097-126">In these cases, it's worth investing in a more complex software architecture, because it will provide better long-term agility and application maintenance.</span></span>

<span data-ttu-id="8e097-127">**容器适用于任何应用程序。**</span><span class="sxs-lookup"><span data-stu-id="8e097-127">**Containers for any application.**</span></span> <span data-ttu-id="8e097-128">容器不仅对于微服务很方便，在使用 Windows 容器时，也对基于传统 .Net Framework 的单片应用程序很有用。</span><span class="sxs-lookup"><span data-stu-id="8e097-128">Containers are convenient for microservices, but can also be useful for monolithic applications based on the traditional .NET Framework, when using Windows Containers.</span></span> <span data-ttu-id="8e097-129">使用 Docker 的好处（例如，解决许多从部署到生产的问题，以及提供最先进的开发和测试环境）适用于许多不同类型的应用程序。</span><span class="sxs-lookup"><span data-stu-id="8e097-129">The benefits of using Docker, such as solving many deployment-to-production issues and providing state-of-the-art Dev and Test environments, apply to many different types of applications.</span></span>

<span data-ttu-id="8e097-130">**CLI 与 IDE。**</span><span class="sxs-lookup"><span data-stu-id="8e097-130">**CLI versus IDE.**</span></span> <span data-ttu-id="8e097-131">借助 Microsoft 工具，可使用首选方法开发容器化 .NET 应用程序。</span><span class="sxs-lookup"><span data-stu-id="8e097-131">With Microsoft tools, you can develop containerized .NET applications using your preferred approach.</span></span> <span data-ttu-id="8e097-132">使用 Docker CLI 和 Visual Studio Code，可通过 CLI 和基于编辑器的环境进行开发。</span><span class="sxs-lookup"><span data-stu-id="8e097-132">You can develop with a CLI and an editor-based environment by using the Docker CLI and Visual Studio Code.</span></span> <span data-ttu-id="8e097-133">或者可以配合使用专注于 IDE 的方法和 Visual Studio 及其适用于 Docker 的独特功能（例如多容器调试）。</span><span class="sxs-lookup"><span data-stu-id="8e097-133">Or you can use an IDE-focused approach with Visual Studio and its unique features for Docker, such as multi-container debugging.</span></span>

<span data-ttu-id="8e097-134">**弹性云应用程序。**</span><span class="sxs-lookup"><span data-stu-id="8e097-134">**Resilient cloud applications.**</span></span> <span data-ttu-id="8e097-135">一般情况下，基于云的系统和分布式系统始终存在部分故障风险。</span><span class="sxs-lookup"><span data-stu-id="8e097-135">In cloud-based systems and distributed systems in general, there is always the risk of partial failure.</span></span> <span data-ttu-id="8e097-136">由于客户端和服务是彼此独立的流程（容器），因此服务可能无法及时响应客户端的请求。</span><span class="sxs-lookup"><span data-stu-id="8e097-136">Since clients and services are separate processes (containers), a service might not be able to respond in a timely way to a client’s request.</span></span> <span data-ttu-id="8e097-137">例如，服务可能因为部分故障或维护而关闭；服务可能出现过载并且对请求的响应速度较慢，或者由于网络问题可能无法在短时间内访问服务。</span><span class="sxs-lookup"><span data-stu-id="8e097-137">For example, a service might be down because of a partial failure or for maintenance; the service might be overloaded and responding slowly to requests; or it might not be accessible for a short time because of network issues.</span></span> <span data-ttu-id="8e097-138">因此，基于云的应用程序必须接受这些故障，并制定相应的策略来应对这些故障。</span><span class="sxs-lookup"><span data-stu-id="8e097-138">Therefore, a cloud-based application must embrace those failures and have a strategy in place to respond to those failures.</span></span> <span data-ttu-id="8e097-139">这些策略可以包括重试策略（重新发送消息或重试请求）和实现断路器模式，以避免重复请求的指数负载。</span><span class="sxs-lookup"><span data-stu-id="8e097-139">These strategies can include retry policies (resending messages or retrying requests) and implementing circuit-breaker patterns to avoid exponential load of repeated requests.</span></span> <span data-ttu-id="8e097-140">基本上，基于云的应用程序必须具有复原机制（基于云基础结构的机制或自定义机制），就像业务流程协调程序或服务总线提供的高级机制一样。</span><span class="sxs-lookup"><span data-stu-id="8e097-140">Basically, cloud-based applications must have resilient mechanisms—either based on cloud infrastructure or custom, as the high-level ones provided by  orchestrators or service buses.</span></span>

<span data-ttu-id="8e097-141">**安全性。**</span><span class="sxs-lookup"><span data-stu-id="8e097-141">**Security.**</span></span> <span data-ttu-id="8e097-142">遍布容器和微服务的现代世界可能暴露新的漏洞。</span><span class="sxs-lookup"><span data-stu-id="8e097-142">Our modern world of containers and microservices can expose new vulnerabilities.</span></span> <span data-ttu-id="8e097-143">基本应用程序安全性取决于身份验证和授权；有多种方法可以实现这一安全性。</span><span class="sxs-lookup"><span data-stu-id="8e097-143">There are several ways to implement basic application security, based on authentication and authorization.</span></span> <span data-ttu-id="8e097-144">但是，容器安全性必须考虑从本质上提升应用程序安全性的其他关键组件。</span><span class="sxs-lookup"><span data-stu-id="8e097-144">However, container security must consider additional key components that result in inherently safer applications.</span></span> <span data-ttu-id="8e097-145">构建更安全的应用的关键因素是，能够以安全方式与其他应用和系统进行通信，这通常需要凭据、令牌、密码等 - 通常被称为应用程序机密。</span><span class="sxs-lookup"><span data-stu-id="8e097-145">A critical element of building safer apps is having a secure way of communicating with other apps and systems, something that often requires credentials, tokens, passwords, and the like, commonly referred to as application secrets.</span></span> <span data-ttu-id="8e097-146">任何安全解决方案必须遵循安全最佳做法，例如，在传输和静止时加密机密，并在最终应用程序使用时防止机密泄漏。</span><span class="sxs-lookup"><span data-stu-id="8e097-146">Any secure solution must follow security best practices, such as encrypting secrets while in transit and at rest, and preventing secrets from leaking when consumed by the final application.</span></span> <span data-ttu-id="8e097-147">需要安全地存储和保存这些机密，就像使用 Azure Key Vault 时一样。</span><span class="sxs-lookup"><span data-stu-id="8e097-147">Those secrets need to be stored and kept safely, as when using Azure Key Vault.</span></span>

<span data-ttu-id="8e097-148">**业务流程协调程序。**</span><span class="sxs-lookup"><span data-stu-id="8e097-148">**Orchestrators.**</span></span> <span data-ttu-id="8e097-149">基于容器的业务流程协调程序（如 Azure Kubernetes 服务和 Azure Service Fabric）是任何重要微服务和基于容器的应用程序的关键部分。</span><span class="sxs-lookup"><span data-stu-id="8e097-149">Container-based orchestrators, such as Azure Kubernetes Service and Azure Service Fabric are key part of any significant microservice and container-based application.</span></span> <span data-ttu-id="8e097-150">这些应用程序具有高复杂性、可伸缩性需求，并且不断发展。</span><span class="sxs-lookup"><span data-stu-id="8e097-150">These applications carry with them high complexity, scalability needs, and go through constant evolution.</span></span> <span data-ttu-id="8e097-151">本指南介绍了业务流程协调程序及其在基于微服务和基于容器的解决方案中的角色。</span><span class="sxs-lookup"><span data-stu-id="8e097-151">This guide has introduced orchestrators and their role in microservice-based and container-based solutions.</span></span> <span data-ttu-id="8e097-152">如果应用程序需要转移到复杂的容器化应用，建议查看其他资源以详细了解业务流程协调程序。</span><span class="sxs-lookup"><span data-stu-id="8e097-152">If your application needs are moving you toward complex containerized apps, you will find it useful to seek out additional resources for learning more about orchestrators.</span></span>

>[!div class="step-by-step"]
>[<span data-ttu-id="8e097-153">上一篇</span><span class="sxs-lookup"><span data-stu-id="8e097-153">Previous</span></span>](secure-net-microservices-web-applications/azure-key-vault-protects-secrets.md)