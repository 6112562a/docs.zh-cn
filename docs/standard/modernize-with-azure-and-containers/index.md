---
title: 更新现有.NET 应用程序与 Azure 云和 Windows 容器 （第二版）
description: 了解如何迁移并更新现有应用程序对 Azure 云以及与此电子书的容器。
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 04/28/2018
---
# <a name="modernize-existing-net-applications-with-azure-cloud-and-windows-containers-2nd-edition"></a><span data-ttu-id="bc330-103">更新现有.NET 应用程序使用 Azure 云和 Windows 容器 （第二版）</span><span class="sxs-lookup"><span data-stu-id="bc330-103">Modernize existing .NET applications with Azure cloud and Windows Containers (2nd edition)</span></span>

![实现现代化.NET 应用程序指南的封面图像。](./media/index/web-application-guide-cover-image.png)

<span data-ttu-id="bc330-105">发布者</span><span class="sxs-lookup"><span data-stu-id="bc330-105">PUBLISHED BY</span></span>  
<span data-ttu-id="bc330-106">Microsoft Press 和 Microsoft DevDiv</span><span class="sxs-lookup"><span data-stu-id="bc330-106">Microsoft Press and Microsoft DevDiv</span></span>  
<span data-ttu-id="bc330-107">Microsoft Corporation 的部门</span><span class="sxs-lookup"><span data-stu-id="bc330-107">Divisions of Microsoft Corporation</span></span>  
<span data-ttu-id="bc330-108">One Microsoft Way</span><span class="sxs-lookup"><span data-stu-id="bc330-108">One Microsoft Way</span></span>  
<span data-ttu-id="bc330-109">Redmond, Washington 98052-6399</span><span class="sxs-lookup"><span data-stu-id="bc330-109">Redmond, Washington 98052-6399</span></span>  

<span data-ttu-id="bc330-110">版权所有 © 2018 Microsoft Corporation</span><span class="sxs-lookup"><span data-stu-id="bc330-110">Copyright © 2018 by Microsoft Corporation</span></span>  

<span data-ttu-id="bc330-111">保留所有权利。</span><span class="sxs-lookup"><span data-stu-id="bc330-111">All rights reserved.</span></span> <span data-ttu-id="bc330-112">未经发布者书面许可，不得以任何形式或任何方式复制本书中的任何内容。</span><span class="sxs-lookup"><span data-stu-id="bc330-112">No part of the contents of this book may be reproduced in any form or by any means without the written permission of the publisher.</span></span>

<span data-ttu-id="bc330-113">本书位于免费电子书 （电子图书） 可通过 microsoft 的多个通道的形式如 <https://dot.net/architecture> 。</span><span class="sxs-lookup"><span data-stu-id="bc330-113">This book is available for free in the form of an electronic book (e-book) available through multiple channels at Microsoft such as <https://dot.net/architecture>.</span></span>

<span data-ttu-id="bc330-114">若要了解本书的相关问题，请发送电子邮件至 [dotnet-architecture-ebooks-feedback@service.microsoft.com](mailto:dotnet-architecture-ebooks-feedback@service.microsoft.com?subject=Feedback%20for%20.NET%20Container%20&%20Microservices%20Architecture%20book)</span><span class="sxs-lookup"><span data-stu-id="bc330-114">If you have questions related to this book, email at [dotnet-architecture-ebooks-feedback@service.microsoft.com](mailto:dotnet-architecture-ebooks-feedback@service.microsoft.com?subject=Feedback%20for%20.NET%20Container%20&%20Microservices%20Architecture%20book)</span></span>

<span data-ttu-id="bc330-115">本书“按原样”提供，表达作者的观点和看法。</span><span class="sxs-lookup"><span data-stu-id="bc330-115">This book is provided "as-is" and expresses the author's views and opinions.</span></span> <span data-ttu-id="bc330-116">视图、 观点和本书，包括 URL 和其他 Internet 网站参考中, 表达的信息可能会更改恕不另行通知。</span><span class="sxs-lookup"><span data-stu-id="bc330-116">The views, opinions, and information expressed in this book, including URL and other Internet website references, may change without notice.</span></span>

<span data-ttu-id="bc330-117">本书中提及的一些示例仅用于说明，纯属虚构。</span><span class="sxs-lookup"><span data-stu-id="bc330-117">Some examples depicted herein are provided for illustration only and are fictitious.</span></span> <span data-ttu-id="bc330-118">不存在任何实际关联或联系，请勿妄加推断。</span><span class="sxs-lookup"><span data-stu-id="bc330-118">No real association or connection is intended or should be inferred.</span></span>

<span data-ttu-id="bc330-119">Microsoft 和 <https://www.microsoft.com> 上“商标”网页列出的商标是 Microsoft 集团公司的商标。</span><span class="sxs-lookup"><span data-stu-id="bc330-119">Microsoft and the trademarks listed at <https://www.microsoft.com> on the "Trademarks" webpage are trademarks of the Microsoft group of companies.</span></span> <span data-ttu-id="bc330-120">所有其他标记均为其各自所有者的财产。</span><span class="sxs-lookup"><span data-stu-id="bc330-120">All other marks are property of their respective owners.</span></span>

<span data-ttu-id="bc330-121">作者:</span><span class="sxs-lookup"><span data-stu-id="bc330-121">Author:</span></span>
> <span data-ttu-id="bc330-122">**Cesar de la Torre**，Sr.PM，.NET 产品团队，Microsoft corp.</span><span class="sxs-lookup"><span data-stu-id="bc330-122">**Cesar de la Torre**, Sr. PM, .NET Product Team, Microsoft Corp.</span></span>

<span data-ttu-id="bc330-123">参与者和审阅者：</span><span class="sxs-lookup"><span data-stu-id="bc330-123">Participants and reviewers:</span></span>
> <span data-ttu-id="bc330-124">**Scott Hunter**，Microsoft .NET 团队的合作伙伴总监项目经理</span><span class="sxs-lookup"><span data-stu-id="bc330-124">**Scott Hunter**, Partner Director PM, .NET team, Microsoft</span></span>  
> <span data-ttu-id="bc330-125">**Paul Yuknewicz**，Microsoft Visual Studio Tools 团队的主要项目经理</span><span class="sxs-lookup"><span data-stu-id="bc330-125">**Paul Yuknewicz**, Principal PM Manager, Visual Studio Tools team, Microsoft</span></span>  
> <span data-ttu-id="bc330-126">**Lisa Guthrie**，Sr.PM，Microsoft Visual Studio Tools 团队</span><span class="sxs-lookup"><span data-stu-id="bc330-126">**Lisa Guthrie**, Sr. PM, Visual Studio Tools team, Microsoft</span></span>  
> <span data-ttu-id="bc330-127">**Ankit Asthana**，Microsoft .NET 团队的主要项目经理</span><span class="sxs-lookup"><span data-stu-id="bc330-127">**Ankit Asthana**, Principal PM Manager, .NET team, Microsoft</span></span>  
> <span data-ttu-id="bc330-128">**Unai Zorrilla**，Plain Concepts 的开发者领导</span><span class="sxs-lookup"><span data-stu-id="bc330-128">**Unai Zorrilla**, Developer Lead, Plain Concepts</span></span>  
> <span data-ttu-id="bc330-129">**Javier Valero**，Grupo Solutio 的首席运营官</span><span class="sxs-lookup"><span data-stu-id="bc330-129">**Javier Valero**, Chief Operating Officer at Grupo Solutio</span></span>  

## <a name="introduction"></a><span data-ttu-id="bc330-130">介绍</span><span class="sxs-lookup"><span data-stu-id="bc330-130">Introduction</span></span>

<span data-ttu-id="bc330-131">如果你决定要使 web 应用程序或服务实现现代化，并将它们移动到云，一定不必完全重新构建您的应用程序。</span><span class="sxs-lookup"><span data-stu-id="bc330-131">When you decide to modernize your web applications or services and move them to the cloud, you don't necessarily have to fully rearchitect your apps.</span></span> <span data-ttu-id="bc330-132">重构应用程序即可使用微服务之类的高级的方法并不总是一个选项，由于成本和时间约束。</span><span class="sxs-lookup"><span data-stu-id="bc330-132">Rearchitecting an application by using an advanced approach like microservices isn't always an option because of cost and time restraints.</span></span> <span data-ttu-id="bc330-133">根据应用程序的类型，重构应用程序也可能不需要。</span><span class="sxs-lookup"><span data-stu-id="bc330-133">Depending on the type of application, rearchitecting an app also might not be necessary.</span></span> <span data-ttu-id="bc330-134">为了优化组织云迁移策略的成本效益，必须考虑业务和应用的需求。</span><span class="sxs-lookup"><span data-stu-id="bc330-134">To optimize the cost-effectiveness of your organization's cloud migration strategy, it's important to consider the needs of your business and requirements of your apps.</span></span> <span data-ttu-id="bc330-135">需要确定：</span><span class="sxs-lookup"><span data-stu-id="bc330-135">You'll need to determine:</span></span>

- <span data-ttu-id="bc330-136">哪些应用需要转换或重新架构。</span><span class="sxs-lookup"><span data-stu-id="bc330-136">Which apps require a transformation or rearchitecting.</span></span>

- <span data-ttu-id="bc330-137">哪些应用只需部分更新。</span><span class="sxs-lookup"><span data-stu-id="bc330-137">Which apps need to be only partially modernized.</span></span>

- <span data-ttu-id="bc330-138">哪些应用能直接“直接迁移”到云。</span><span class="sxs-lookup"><span data-stu-id="bc330-138">Which apps you can "lift and shift" directly to the cloud.</span></span>

## <a name="about-this-guide"></a><span data-ttu-id="bc330-139">关于本指南</span><span class="sxs-lookup"><span data-stu-id="bc330-139">About this guide</span></span>

<span data-ttu-id="bc330-140">本指南主要介绍初次更新的现有 Microsoft.NET Framework web 或面向服务的应用程序，这意味着将工作负荷移动到更高版本或更现代的环境，而不会显著改变应用程序的代码的操作和基本体系结构。</span><span class="sxs-lookup"><span data-stu-id="bc330-140">This guide focuses primarily on initial modernization of existing Microsoft .NET Framework web or service-oriented applications, meaning the action of moving a workload to a newer or more modern environment without significantly altering the application's code and basic architecture.</span></span> 

<span data-ttu-id="bc330-141">本指南还强调您的应用程序迁移到云并部分更新应用使用一组特定的新技术和方法，如 Windows 容器和 Azure 支持 Windows 容器中的相关的计算平台的优势。</span><span class="sxs-lookup"><span data-stu-id="bc330-141">This guide also highlights the benefits of moving your apps to the cloud and partially modernizing apps by using a specific set of new technologies and approaches, like Windows Containers and related compute-platforms in Azure supporting Windows Containers.</span></span>

## <a name="path-to-the-cloud-for-existing-net-applications"></a><span data-ttu-id="bc330-142">将现有 .NET 应用程序迁移到云的途径</span><span class="sxs-lookup"><span data-stu-id="bc330-142">Path to the cloud for existing .NET applications</span></span>

<span data-ttu-id="bc330-143">组织通常选择移动到云来使其应用程序获得敏捷性和速度。</span><span class="sxs-lookup"><span data-stu-id="bc330-143">Organizations typically choose to move to the cloud for the agility and speed they can get for their applications.</span></span> <span data-ttu-id="bc330-144">只需几分钟即可在云中设置数千台服务器 (VM)，而设置本地服务器通常需要数周。</span><span class="sxs-lookup"><span data-stu-id="bc330-144">You can set up thousands of servers (VMs) in the cloud in minutes, compared to the weeks it typically takes to set up on-premises servers.</span></span>

<span data-ttu-id="bc330-145">将应用程序迁移到云没有普遍通用的策略。</span><span class="sxs-lookup"><span data-stu-id="bc330-145">There isn't a single, one-size-fits-all strategy for migrating applications to the cloud.</span></span> <span data-ttu-id="bc330-146">合适的迁移方法由组织的需求和优先考虑事项，以及要迁移的应用程序种类决定。</span><span class="sxs-lookup"><span data-stu-id="bc330-146">The right migration strategy for you will depend on your organization's needs and priorities, and the kind of applications you are migrating.</span></span> <span data-ttu-id="bc330-147">并非所有应用程序都保证可以移动到平台即服务 ([PaaS](https://azure.microsoft.com/overview/what-is-paas/)) 模型或开发[云原生](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications)应用程序模型。</span><span class="sxs-lookup"><span data-stu-id="bc330-147">Not all applications warrant the investment of moving to a platform as a service ([PaaS](https://azure.microsoft.com/overview/what-is-paas/)) model or developing a [cloud-native](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications) application model.</span></span> <span data-ttu-id="bc330-148">许多情况下都可根据业务需求采用阶段性或递增性方法将资产移动到云。</span><span class="sxs-lookup"><span data-stu-id="bc330-148">In many cases, you can take a phased or incremental approach to invest in moving your assets to the cloud, based on your business needs.</span></span>

<span data-ttu-id="bc330-149">对于具有最佳长期敏捷性和为组织的值的现代应用程序，您可能会受益于投入*云原生*应用程序体系结构。</span><span class="sxs-lookup"><span data-stu-id="bc330-149">For modern applications with the best long-term agility and value for the organization, you might benefit from investing in *cloud-native* application architectures.</span></span> <span data-ttu-id="bc330-150">但是，对于现有的应用程序或遗留资产，关键是将其移动到云，从而实现显著的好处时花费最少的时间和金钱 （无重新架构或代码更改）。</span><span class="sxs-lookup"><span data-stu-id="bc330-150">However, for applications that are existing or legacy assets, the key is to spend minimal time and money (no rearchitecting or code changes) while moving them to the cloud, to realize significant benefits.</span></span>

<span data-ttu-id="bc330-151">图 1-1 显示了采用递增性方法将现有 .NET 应用程序移动到云时可能使用的途径。</span><span class="sxs-lookup"><span data-stu-id="bc330-151">Figure 1-1 shows the possible paths you can take when you move existing .NET applications to the cloud in incremental phases.</span></span>

 ![现有 .NET 应用程序和服务的更新途径](./media/image1-1.png)

> <span data-ttu-id="bc330-153">**图 1-1**。</span><span class="sxs-lookup"><span data-stu-id="bc330-153">**Figure 1-1**.</span></span> <span data-ttu-id="bc330-154">现有 .NET 应用程序和服务的更新途径</span><span class="sxs-lookup"><span data-stu-id="bc330-154">Modernization paths for existing .NET applications and services</span></span>

<span data-ttu-id="bc330-155">每种迁移方法的优点和使用原因各不相同。</span><span class="sxs-lookup"><span data-stu-id="bc330-155">Each migration approach has different benefits and reasons for using it.</span></span> <span data-ttu-id="bc330-156">可以选择一种方法将应用迁移到云，也可以从多种方法中选择某些组件。</span><span class="sxs-lookup"><span data-stu-id="bc330-156">You can choose a single approach when you migrate apps to the cloud, or choose certain components from multiple approaches.</span></span> <span data-ttu-id="bc330-157">单个应用程序不限于单一的方法或成熟度状态。</span><span class="sxs-lookup"><span data-stu-id="bc330-157">Individual applications aren't limited to a single approach or maturity state.</span></span> <span data-ttu-id="bc330-158">例如，常见的混合方法将包含某些本地组件以及云中的其他组件。</span><span class="sxs-lookup"><span data-stu-id="bc330-158">For instance, a common hybrid approach would have certain on-premises components plus other components in the cloud.</span></span>

<span data-ttu-id="bc330-159">定义和每个应用程序成熟度级别的简短说明如下所示：</span><span class="sxs-lookup"><span data-stu-id="bc330-159">The definition and short explanation for each application maturity level are the following:</span></span>

<span data-ttu-id="bc330-160">**级别 1:云基础结构就绪**应用程序：您可以在此迁移方法，只需将迁移或重新托管基础结构即服务为你当前的本地应用程序 ([IaaS](https://azure.microsoft.com/overview/what-is-iaas/)) 平台。</span><span class="sxs-lookup"><span data-stu-id="bc330-160">**Level 1: Cloud Infrastructure-Ready** applications: In this migration approach, you simply migrate or rehost your current on-premises applications to an infrastructure as a service ([IaaS](https://azure.microsoft.com/overview/what-is-iaas/)) platform.</span></span> <span data-ttu-id="bc330-161">应用的组成与之前基本一致，但现在可将它们部署到云中的 VM。</span><span class="sxs-lookup"><span data-stu-id="bc330-161">Your apps have almost the same composition as before, but now you deploy them to VMs in the cloud.</span></span>
<span data-ttu-id="bc330-162">这种简单的迁移通常称为"提升和切换"。 在业界</span><span class="sxs-lookup"><span data-stu-id="bc330-162">This simple type of migration is typically known in the industry as "Lift & Shift."</span></span>

<span data-ttu-id="bc330-163">**级别 2:云优化**应用程序：在此级别而仍无需重新架构或更改重要的代码，可以获得从使用现代技术，例如容器和其他云托管服务在云中运行您的应用程序的其他好处。</span><span class="sxs-lookup"><span data-stu-id="bc330-163">**Level 2: Cloud Optimized** applications: At this level and still without rearchitecting or altering significant code, you can gain additional benefits from running your app in the cloud with modern technologies like containers and additional cloud-managed services.</span></span> <span data-ttu-id="bc330-164">通过优化企业开发操作 (DevOps) 流程，可以提高应用程序的敏捷性，以实现更快交付。</span><span class="sxs-lookup"><span data-stu-id="bc330-164">You improve the agility of your applications to ship faster by refining your enterprise development operations (DevOps) processes.</span></span> <span data-ttu-id="bc330-165">通过使用 Windows 容器，基于 Docker 引擎等技术来实现此目的。</span><span class="sxs-lookup"><span data-stu-id="bc330-165">You achieve this by using technologies like Windows Containers, which is based on Docker Engine.</span></span> <span data-ttu-id="bc330-166">容器中删除时在多个阶段中部署应用程序依赖项导致的冲突。</span><span class="sxs-lookup"><span data-stu-id="bc330-166">Containers remove the friction that’s caused by application dependencies when you deploy in multiple stages.</span></span> <span data-ttu-id="bc330-167">在此成熟度模型中，你可以部署在 IaaS 上的容器或同时使用附加的 PaaS 云托管服务与数据库相关的缓存即服务、 监视和持续集成/持续部署 (CI/CD) 管道。</span><span class="sxs-lookup"><span data-stu-id="bc330-167">In this maturity model, you can deploy containers on IaaS or PaaS while using additional cloud-managed services related to databases, cache as a service, monitoring, and continuous integration/continuous deployment (CI/CD) pipelines.</span></span>

<span data-ttu-id="bc330-168">第三个成熟度级别是云中的最终目标，但对于很多应用它是可选的，并不是本指南的主要重点：</span><span class="sxs-lookup"><span data-stu-id="bc330-168">The third level of maturity is the ultimate goal in the cloud, but it's optional for many apps and not the main focus of this guide:</span></span>

<span data-ttu-id="bc330-169">**级别 3:云原生**应用程序：此迁移方法通常是由业务需求和目标更新任务关键型应用程序驱动。</span><span class="sxs-lookup"><span data-stu-id="bc330-169">**Level 3: Cloud-Native** applications: This migration approach typically is driven by business need and targets modernizing your mission-critical applications.</span></span> <span data-ttu-id="bc330-170">在此级别，使用 PaaS 服务将应用移动到 PaaS 计算平台。</span><span class="sxs-lookup"><span data-stu-id="bc330-170">At this level, you use PaaS services to move your apps to PaaS computing platforms.</span></span> <span data-ttu-id="bc330-171">实现[云原生](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications)应用程序和微服务体系结构，以改进应用程序，使其具有长期的敏捷性并扩展至新的限制。</span><span class="sxs-lookup"><span data-stu-id="bc330-171">You implement [cloud-native](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications) applications and microservices architecture to evolve applications with long-term agility, and to scale to new limits.</span></span> <span data-ttu-id="bc330-172">此类更新通常需要专门针对云进行构建。</span><span class="sxs-lookup"><span data-stu-id="bc330-172">This type of modernization usually requires architecting specifically for the cloud.</span></span> <span data-ttu-id="bc330-173">通常必须编写新代码，尤其是移动到基于云原生应用程序和微服务的模型时。</span><span class="sxs-lookup"><span data-stu-id="bc330-173">New code often must be written, especially when you move to cloud-native application and microservice-based models.</span></span> <span data-ttu-id="bc330-174">此方法有助于获得一些益处，这些益处在单片和本地应用程序环境中很难实现。</span><span class="sxs-lookup"><span data-stu-id="bc330-174">This approach can help you gain benefits that are difficult to achieve in your monolithic and on-premises application environment.</span></span>

<span data-ttu-id="bc330-175">表 1-1 介绍了选择每种迁移或更新方法的主要优点和原因。</span><span class="sxs-lookup"><span data-stu-id="bc330-175">Table 1-1 describes the main benefits of and reasons for choosing each migration or modernization approach.</span></span>

| <span data-ttu-id="bc330-176">**云基础结构就绪**</span><span class="sxs-lookup"><span data-stu-id="bc330-176">**Cloud Infrastructure-Ready**</span></span> <br /> <span data-ttu-id="bc330-177">*直接迁移*</span><span class="sxs-lookup"><span data-stu-id="bc330-177">*Lift and shift*</span></span> | <span data-ttu-id="bc330-178">**Cloud-Optimized**</span><span class="sxs-lookup"><span data-stu-id="bc330-178">**Cloud-Optimized**</span></span> <br /> <span data-ttu-id="bc330-179">*实现现代化*</span><span class="sxs-lookup"><span data-stu-id="bc330-179">*Modernize*</span></span> | <span data-ttu-id="bc330-180">**Cloud-Native**</span><span class="sxs-lookup"><span data-stu-id="bc330-180">**Cloud-Native**</span></span> <br /> <span data-ttu-id="bc330-181">*实现现代化、 重构和重写*</span><span class="sxs-lookup"><span data-stu-id="bc330-181">*Modernize, rearchitect and rewrite*</span></span> |
|---|---|---|
| <span data-ttu-id="bc330-182">**应用程序的计算目标**</span><span class="sxs-lookup"><span data-stu-id="bc330-182">**Application's compute target**</span></span> |
| <span data-ttu-id="bc330-183">部署到 Azure 中 VM 的应用程序</span><span class="sxs-lookup"><span data-stu-id="bc330-183">Applications deployed to VMs in Azure</span></span> | <span data-ttu-id="bc330-184">单体或 N 层应用程序部署到 Azure 应用服务、 Azure 容器实例 (ACI)、 虚拟机与容器、 Azure Service Fabric 或 AKS （Azure Kubernetes 服务）</span><span class="sxs-lookup"><span data-stu-id="bc330-184">Monolithic or N-Tier apps deployed to Azure App Service, Azure Container Instance (ACI), VMs with containers, Azure Service Fabric, or AKS (Azure Kubernetes Service)</span></span> | <span data-ttu-id="bc330-185">Azure Kubernetes 服务 (AKS)、 Service Fabric 和/或基于 Azure Functions 的无服务器微服务上的容器化微服务。</span><span class="sxs-lookup"><span data-stu-id="bc330-185">Containerized microservices on Azure Kubernetes Service (AKS), Service Fabric and/or serverless microservices based on Azure Functions.</span></span> |
| <span data-ttu-id="bc330-186">**数据目标**</span><span class="sxs-lookup"><span data-stu-id="bc330-186">**Data target**</span></span> |
| <span data-ttu-id="bc330-187">VM 中的 SQL 或任何关系数据库</span><span class="sxs-lookup"><span data-stu-id="bc330-187">SQL or any relational database on a VM</span></span> | <span data-ttu-id="bc330-188">Azure SQL 数据库托管实例或另一个在云中托管的数据库。</span><span class="sxs-lookup"><span data-stu-id="bc330-188">Azure SQL Database Managed Instance or another managed database in the cloud.</span></span> | <span data-ttu-id="bc330-189">每个微服务，基于 Azure SQL 数据库、 Azure Cosmos DB 或在云中的另一个托管的数据库的细粒度数据库</span><span class="sxs-lookup"><span data-stu-id="bc330-189">Fined-grain databases per microservice, based on Azure SQL Database, Azure Cosmos DB, or another managed database in the cloud</span></span> |
| <span data-ttu-id="bc330-190">**优点**</span><span class="sxs-lookup"><span data-stu-id="bc330-190">**Advantages**</span></span>|
| <li><span data-ttu-id="bc330-191">没有任何新的重构代码</span><span class="sxs-lookup"><span data-stu-id="bc330-191">No rearchitecting, no new code</span></span> <li> <span data-ttu-id="bc330-192">需要的工作量最少，实现快速迁移</span><span class="sxs-lookup"><span data-stu-id="bc330-192">Least effort for quick migration</span></span> <li> <span data-ttu-id="bc330-193">Azure 中支持最小公分母</span><span class="sxs-lookup"><span data-stu-id="bc330-193">Least-common denominator supported in Azure</span></span> <li> <span data-ttu-id="bc330-194">保证基本可用性</span><span class="sxs-lookup"><span data-stu-id="bc330-194">Basic availability guarantees</span></span> <li> <span data-ttu-id="bc330-195">移动到云后，更容易更新</span><span class="sxs-lookup"><span data-stu-id="bc330-195">After moving to the cloud, it's easier to modernize even more</span></span> | <li> <span data-ttu-id="bc330-196">不重新架构</span><span class="sxs-lookup"><span data-stu-id="bc330-196">No rearchitecting</span></span> <li> <span data-ttu-id="bc330-197">更改最小代码/配置</span><span class="sxs-lookup"><span data-stu-id="bc330-197">Minimal code/config changes</span></span> <li> <span data-ttu-id="bc330-198">由于容器的原因，改进了部署和 DevOps 发布敏捷性</span><span class="sxs-lookup"><span data-stu-id="bc330-198">Improved deployment and DevOps agility to release because of containers</span></span> <li> <span data-ttu-id="bc330-199">增加了密度，降低了部署成本</span><span class="sxs-lookup"><span data-stu-id="bc330-199">Increased density and lower deployment costs</span></span> <li> <span data-ttu-id="bc330-200">应用的可移植性和依赖项</span><span class="sxs-lookup"><span data-stu-id="bc330-200">Portability of apps and dependencies</span></span> <li> <span data-ttu-id="bc330-201">主机目标的灵活性：PaaS 方法或 IaaS</span><span class="sxs-lookup"><span data-stu-id="bc330-201">Flexibility of host targets: PaaS approaches or IaaS</span></span> | <li> <span data-ttu-id="bc330-202">架构师的云，则获得最大的好处从云中，但需要新的代码</span><span class="sxs-lookup"><span data-stu-id="bc330-202">Architect for the cloud, you get the best benefits from the cloud but new code is needed</span></span> <li> <span data-ttu-id="bc330-203">微服务云原生方法</span><span class="sxs-lookup"><span data-stu-id="bc330-203">Microservices cloud-native approaches</span></span> <li> <span data-ttu-id="bc330-204">新式任务关键型应用程序，云复原的可高度扩展</span><span class="sxs-lookup"><span data-stu-id="bc330-204">Modern mission-critical applications, cloud-resilient hyper-scalable</span></span> <li> <span data-ttu-id="bc330-205">完全托管服务</span><span class="sxs-lookup"><span data-stu-id="bc330-205">Fully managed services</span></span> <li> <span data-ttu-id="bc330-206">优化了规模</span><span class="sxs-lookup"><span data-stu-id="bc330-206">Optimized for scale</span></span> <li> <span data-ttu-id="bc330-207">通过子系统优化了自主敏捷性</span><span class="sxs-lookup"><span data-stu-id="bc330-207">Optimized for autonomous agility by subsystem</span></span> <li> <span data-ttu-id="bc330-208">基于部署和 DevOps</span><span class="sxs-lookup"><span data-stu-id="bc330-208">Built on deployment and DevOps</span></span> |
| <span data-ttu-id="bc330-209">**挑战**</span><span class="sxs-lookup"><span data-stu-id="bc330-209">**Challenges**</span></span> |
| <li> <span data-ttu-id="bc330-210">除了转移运营费用或关闭数据中心之外，云价值较小</span><span class="sxs-lookup"><span data-stu-id="bc330-210">Smaller cloud value, other than shift in operating expense or closing datacenters</span></span> <li> <span data-ttu-id="bc330-211">少托管：无 OS 或中间件修补;可以使用基础结构解决方案，如 Terraform、 Spinnaker 或 Puppet</span><span class="sxs-lookup"><span data-stu-id="bc330-211">Little is managed: No OS or middleware patching; might use infrastructure solutions, like Terraform, Spinnaker, or Puppet</span></span> | <li> <span data-ttu-id="bc330-212">容器化是学习曲线，为开发人员和 IT 运营中一个额外的步骤</span><span class="sxs-lookup"><span data-stu-id="bc330-212">Containerizing is an additional step in the learning curve for developers and IT Operations</span></span> <li> <span data-ttu-id="bc330-213">DevOps 和 CI/CD 管道通常是必需的这种方法。</span><span class="sxs-lookup"><span data-stu-id="bc330-213">DevOps and CI/CD pipelines is usually ‘a must’ for this approach.</span></span> <span data-ttu-id="bc330-214">如果不是当前的区域性组织中存在，它可能是其他挑战</span><span class="sxs-lookup"><span data-stu-id="bc330-214">If not currently present in the culture of the organization, it might be an additional challenge</span></span>| <li> <span data-ttu-id="bc330-215">有关云本机应用程序和微服务体系结构需要体系结构重建而且通常需要大量的代码重构或重写现代化 （增加了的时间和预算）</span><span class="sxs-lookup"><span data-stu-id="bc330-215">Requires rearchitecture for cloud native apps and microservice architectures and usually requires significant code refactoring or rewriting when modernizing (increased time and budget)</span></span> <li> <span data-ttu-id="bc330-216">DevOps 和 CI/CD 管道通常是必需的这种方法。</span><span class="sxs-lookup"><span data-stu-id="bc330-216">DevOps and CI/CD pipelines is usually ‘a must’ for this approach.</span></span> <span data-ttu-id="bc330-217">如果不是当前的区域性组织中存在，它可能是其他挑战</span><span class="sxs-lookup"><span data-stu-id="bc330-217">If not currently present in the culture of the organization, it might be an additional challenge</span></span>|
> <span data-ttu-id="bc330-218">**表 1-1**。</span><span class="sxs-lookup"><span data-stu-id="bc330-218">**Table 1-1.**</span></span> <span data-ttu-id="bc330-219">现有 .NET 应用程序和服务的更新途径的优势和挑战</span><span class="sxs-lookup"><span data-stu-id="bc330-219">Benefits and challenges of modernization paths for existing .NET applications and services</span></span>

### <a name="key-technologies-and-architectures-by-maturity-level"></a><span data-ttu-id="bc330-220">各成熟度级别使用的关键技术和体系结构</span><span class="sxs-lookup"><span data-stu-id="bc330-220">Key technologies and architectures by maturity level</span></span>

<span data-ttu-id="bc330-221">.NET Framework 应用程序的初始版本为 .NET Framework 1.0，该版本于 2001 年年底发布。</span><span class="sxs-lookup"><span data-stu-id="bc330-221">.NET Framework applications initially started with the .NET Framework version 1.0, which was released in late 2001.</span></span> <span data-ttu-id="bc330-222">然后，公司发布了更新的版本（如 2.0、3.5 和 .NET 4.x）。</span><span class="sxs-lookup"><span data-stu-id="bc330-222">Then, companies moved towards newer versions (such as 2.0, 3.5 and .NET 4.x).</span></span> <span data-ttu-id="bc330-223">这些应用程序的大多数运行 Windows Server 和 Internet 信息服务器 (IIS) 上，使用关系数据库中的，如 SQL Server、 Oracle、 MySQL 或任何其他 rdbms 一样。</span><span class="sxs-lookup"><span data-stu-id="bc330-223">Most of those applications ran on Windows Server and Internet Information Server (IIS), and used a relational database, like SQL Server, Oracle, MySQL, or any other RDBMS.</span></span>

<span data-ttu-id="bc330-224">当今大部分现有 .NET 应用程序可能都基于 .NET Framework 4.x，甚至 .NET Framework 3.5，并使用 Web 框架，如 ASP.NET MVC、ASP.NET Web 窗体、ASP.NET Web API、Windows Communication Foundation (WCF)、ASP.NET SignalR 和 ASP.NET 网页。</span><span class="sxs-lookup"><span data-stu-id="bc330-224">Most existing .NET applications might nowadays be based on .NET Framework 4.x, or even on .NET Framework 3.5, and use web frameworks like ASP.NET MVC, ASP.NET Web Forms, ASP.NET Web API, Windows Communication Foundation (WCF), ASP.NET SignalR, and ASP.NET Web Pages.</span></span> <span data-ttu-id="bc330-225">这些既定的 .NET Framework 技术都依赖于 Windows。</span><span class="sxs-lookup"><span data-stu-id="bc330-225">These established .NET Framework technologies depend on Windows.</span></span> <span data-ttu-id="bc330-226">如果只是简单地迁移旧版应用并希望对应用程序基础结构作出最少的更改，依赖项是一项重要的考虑因素。</span><span class="sxs-lookup"><span data-stu-id="bc330-226">That dependency is important to consider if you are simply migrating legacy apps and you want to make minimal changes to your application infrastructure.</span></span>

<span data-ttu-id="bc330-227">图 1-2 显示了三个云成熟度级别中每一个级别所使用的主要技术和体系结构样式：</span><span class="sxs-lookup"><span data-stu-id="bc330-227">Figure 1-2 shows the primary technologies and architecture styles used at each of the three cloud maturity levels:</span></span>

![用于更新现有 .NET Web 应用程序的每个成熟度级别的主要技术](./media/image1-2.png)

> <span data-ttu-id="bc330-229">**图 1-2**。</span><span class="sxs-lookup"><span data-stu-id="bc330-229">**Figure 1-2.**</span></span> <span data-ttu-id="bc330-230">用于更新现有 .NET Web 应用程序的每个成熟度级别的主要技术</span><span class="sxs-lookup"><span data-stu-id="bc330-230">Primary technologies for each maturity level for modernizing existing .NET web applications</span></span>

<span data-ttu-id="bc330-231">图 1-2 强调了最常见的方案，但在体系结构方面，可能存在许多混合变体。</span><span class="sxs-lookup"><span data-stu-id="bc330-231">Figure 1-2 highlights the most common scenarios, but many hybrid and mixed variations are possible when it comes to architecture.</span></span> <span data-ttu-id="bc330-232">例如，成熟度模型不仅适用于现有 Web 应用的单片体系结构，还适用于服务方向、N 层以及其他体系结构样式变体。</span><span class="sxs-lookup"><span data-stu-id="bc330-232">For example, the maturity models apply not only to monolithic architectures in existing web apps, but also to service orientation, N-Tier, and other architecture style variations.</span></span> <span data-ttu-id="bc330-233">更高版本的焦点或上一个或另一个体系结构类型和相关的技术的百分比确定您的应用程序的整体成熟度级别。</span><span class="sxs-lookup"><span data-stu-id="bc330-233">The higher focus or percentage on one or another architecture type and related technologies determines the overall maturity level of your applications.</span></span>

<span data-ttu-id="bc330-234">更新流程中的每个成熟度级别与以下关键技术和方法相关：</span><span class="sxs-lookup"><span data-stu-id="bc330-234">Each maturity level in the modernization process is associated with the following key technologies and approaches:</span></span>

- <span data-ttu-id="bc330-235">**云基础结构就绪**（重新托管或基本提升和切换）：第一步，许多组织只想快速执行云迁移策略。</span><span class="sxs-lookup"><span data-stu-id="bc330-235">**Cloud Infrastructure-Ready** (rehost or basic lift & shift): As a first step, many organizations want only to quickly execute a cloud-migration strategy.</span></span> <span data-ttu-id="bc330-236">在这种情况下，是重新承载的应用程序。</span><span class="sxs-lookup"><span data-stu-id="bc330-236">In this case, applications are rehosted.</span></span> <span data-ttu-id="bc330-237">大多数重新托管均可使用 [Azure Migrate](https://aka.ms/azuremigrate) 自动完成，该服务提供指南、见解和机制，帮助迁移到基于 Azure 的云工具（如 [Azure Site Recovery](https://azure.microsoft.com/services/site-recovery/) 和 [Azure 数据库迁移服务](https://azure.microsoft.com/campaigns/database-migration/)）。</span><span class="sxs-lookup"><span data-stu-id="bc330-237">Most rehosting can be automated by using [Azure Migrate](https://aka.ms/azuremigrate), a service that provides the guidance, insights, and mechanisms needed to assist you in migrating to Azure based on cloud tools like [Azure Site Recovery](https://azure.microsoft.com/services/site-recovery/) and [Azure Database Migration Service](https://azure.microsoft.com/campaigns/database-migration/).</span></span> <span data-ttu-id="bc330-238">也可以手动设置重新托管，以便在将旧版应用移动到云时了解关于这些资产的基础结构详细信息。</span><span class="sxs-lookup"><span data-stu-id="bc330-238">You can also set up rehosting manually, so that you can learn infrastructure details about your assets when you move legacy apps to the cloud.</span></span> <span data-ttu-id="bc330-239">例如，您可以将应用程序移到 Vm 在 Azure 中进行少量修改甚至修改可能与仅配置做出细微更改。</span><span class="sxs-lookup"><span data-stu-id="bc330-239">For example, you can move your applications to VMs in Azure with little modification-probably with only minor configuration changes.</span></span> <span data-ttu-id="bc330-240">这种情况下的网络类似于本地环境，尤其是在 Azure 中创建虚拟网络时。</span><span class="sxs-lookup"><span data-stu-id="bc330-240">The networking in this case is similar to an on-premises environment, especially if you create virtual networks in Azure.</span></span>

- <span data-ttu-id="bc330-241">**云计算得到优化**（托管服务和 Windows 容器）：此模型是有关进行几个重要部署优化，以获得部分显著好处从云，而无需更改应用程序的核心体系结构。</span><span class="sxs-lookup"><span data-stu-id="bc330-241">**Cloud-Optimized** (Managed Services and Windows Containers): This model is about making a few important deployment optimizations to gain some significant benefits from the cloud, without changing the core architecture of the application.</span></span> <span data-ttu-id="bc330-242">此处的基本步骤是对现有 .NET Framework 应用程序增加 [Windows 容器](https://docs.microsoft.com/virtualization/windowscontainers/about/) 支持。</span><span class="sxs-lookup"><span data-stu-id="bc330-242">The fundamental step here is to add [Windows Containers](https://docs.microsoft.com/virtualization/windowscontainers/about/) support to your existing .NET Framework applications.</span></span> <span data-ttu-id="bc330-243">此重要步骤 （容器化） 不需要触及代码，因此总体的提升和转变工作量较轻。</span><span class="sxs-lookup"><span data-stu-id="bc330-243">This important step (containerization) doesn't require touching the code, so the overall lift and shift effort is light.</span></span> <span data-ttu-id="bc330-244">可以使用 [Image2Docker](https://github.com/docker/communitytools-image2docker-win) 或 Visual Studio 之类的工具，Visual Studio 带有适用于 [Docker](https://www.docker.com/) 的工具。</span><span class="sxs-lookup"><span data-stu-id="bc330-244">You can use tools like [Image2Docker](https://github.com/docker/communitytools-image2docker-win) or Visual Studio, with its tools for [Docker](https://www.docker.com/).</span></span> <span data-ttu-id="bc330-245">Visual Studio 自动为 ASP.NET 应用程序和 Windows 容器映像选择智能默认值。</span><span class="sxs-lookup"><span data-stu-id="bc330-245">Visual Studio automatically chooses smart defaults for ASP.NET applications and Windows Containers images.</span></span> <span data-ttu-id="bc330-246">这些工具提供快速内部循环，并提供将容器迁移到 Azure 的快速途径。</span><span class="sxs-lookup"><span data-stu-id="bc330-246">These tools offer both a rapid inner loop, and a fast path to get the containers to Azure.</span></span> <span data-ttu-id="bc330-247">部署到多个环境中时，敏捷性得到提高。</span><span class="sxs-lookup"><span data-stu-id="bc330-247">Your agility is improved when you deploy to multiple environments.</span></span> <span data-ttu-id="bc330-248">然后，转到生产环境，你可以部署到 Windows 容器[用于容器的 Azure Web 应用](https://azure.microsoft.com/services/app-service/containers/)，[Azure 容器实例 (ACI) 和 Windows Server 2016 和容器，如果偏好使用 IaaS 方案的 Azure Vm。</span><span class="sxs-lookup"><span data-stu-id="bc330-248">Then, moving to production, you can deploy your Windows Containers to [Azure Web App for Containers](https://azure.microsoft.com/services/app-service/containers/), [Azure Container Instances (ACI), and Azure VMs with Windows Server 2016 and containers if you prefer an IaaS approach.</span></span> <span data-ttu-id="bc330-249">对于稍微复杂多容器应用程序，到业务流程协调程序，如[Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/)或[Azure Kubernetes 服务 (AKS/ACS)](https://azure.microsoft.com/services/container-service/)。</span><span class="sxs-lookup"><span data-stu-id="bc330-249">For slightly more complex multi-container applications, into orchestrators like [Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/) or [Azure Kubernetes Service (AKS/ACS)](https://azure.microsoft.com/services/container-service/).</span></span> <span data-ttu-id="bc330-250">在此初次更新期间你还可以添加资产从云中，例如使用之类的工具监视[Azure Application Insights](https://docs.microsoft.com/azure/application-insights/app-insights-overview);使用你的应用程序生命周期的 CI/CD 管道[Azure DevOps 服务](https://visualstudio.microsoft.com/team-services/); 和许多其他数据资源服务在 Azure 中可用。</span><span class="sxs-lookup"><span data-stu-id="bc330-250">During this initial modernization, you can also add assets from the cloud, such as monitoring with tools like [Azure Application Insights](https://docs.microsoft.com/azure/application-insights/app-insights-overview); CI/CD pipelines for your app lifecycles with [Azure DevOps Services](https://visualstudio.microsoft.com/team-services/); and many more data resource services that are available in Azure.</span></span> <span data-ttu-id="bc330-251">例如，可以修改单片 Web 应用，该应用最初使用传统 [ASP.NET Web 窗体](https://www.asp.net/web-forms)或 [ASP.NET MVC](https://www.asp.net/mvc) 开发，但现在使用 Windows 容器部署。</span><span class="sxs-lookup"><span data-stu-id="bc330-251">For instance, you can modify a monolithic web app that was originally developed by using traditional [ASP.NET Web Forms](https://www.asp.net/web-forms) or [ASP.NET MVC](https://www.asp.net/mvc), but now you deploy it by using Windows Containers.</span></span> <span data-ttu-id="bc330-252">使用 Windows 容器时，还需要将数据迁移到 [Azure SQL 数据库托管实例](https://docs.microsoft.com/azure/sql-database/)中的数据库，但不需要更改应用程序的核心体系结构。</span><span class="sxs-lookup"><span data-stu-id="bc330-252">When you use Windows Containers, you should also migrate your data to a database in [Azure SQL Database Managed Instance](https://docs.microsoft.com/azure/sql-database/), all without changing the core architecture of your application.</span></span>

- <span data-ttu-id="bc330-253">**云原生**:中引入，你应该看待构建[云原生](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications)时你面向的大型复杂应用程序与多个独立的开发团队致力于不同的微服务，可以是应用程序开发和自主部署。</span><span class="sxs-lookup"><span data-stu-id="bc330-253">**Cloud-Native**: As introduced, you should think about architecting [cloud-native](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications) applications when you are targeting large and complex applications with multiple independent development teams working on different microservices that can be developed and deployed autonomously.</span></span> <span data-ttu-id="bc330-254">此外，由于每个微服务 granularized 和独立可伸缩性。</span><span class="sxs-lookup"><span data-stu-id="bc330-254">Also, due to granularized and independent scalability per microservice.</span></span> <span data-ttu-id="bc330-255">这些体系结构方法面临的非常重要的挑战和复杂性，但可以大大简化了云 PaaS 和业务流程协调程序喜欢[Azure Kubernetes 服务 (AKS/ACS)](https://azure.microsoft.com/services/container-service/) （托管 Kubernetes） [Azure 服务Fabric 中，并[Azure Functions](https://azure.microsoft.com/services/functions/)使用无服务器的方法。</span><span class="sxs-lookup"><span data-stu-id="bc330-255">These architectural approaches face very important challenges and complexities but can be greatly simplified by using cloud PaaS and orchestrators like [Azure Kubernetes Service (AKS/ACS)](https://azure.microsoft.com/services/container-service/) (managed Kubernetes), [Azure Service Fabric, and [Azure Functions](https://azure.microsoft.com/services/functions/) for a serverless approach.</span></span> <span data-ttu-id="bc330-256">所有这些方法 （如微服务和无服务器） 通常要求您针对云构建和编写新代码，经过调整以适应特定的 PaaS 平台的代码或符合特定的体系结构，例如微服务的代码。</span><span class="sxs-lookup"><span data-stu-id="bc330-256">All these approaches (like microservices and Serverless) typically require you to architect for the cloud and write new code—code that is adapted to specific PaaS platforms, or code that aligns with specific architectures, like microservices.</span></span>

<span data-ttu-id="bc330-257">图 1-3 显示了每个成熟度级别可使用的内部技术：</span><span class="sxs-lookup"><span data-stu-id="bc330-257">Figure 1-3 shows the internal technologies that you can use for each maturity level:</span></span>

![每个更新成熟度级别可使用的内部技术](./media/image1-3.png)

> <span data-ttu-id="bc330-259">**图 1-3**。</span><span class="sxs-lookup"><span data-stu-id="bc330-259">**Figure 1-3.**</span></span> <span data-ttu-id="bc330-260">每个更新成熟度级别可使用的内部技术</span><span class="sxs-lookup"><span data-stu-id="bc330-260">Internal technologies for each modernization maturity level</span></span>

## <a name="lift-and-shift-scenario"></a><span data-ttu-id="bc330-261">提升和迁移方案</span><span class="sxs-lookup"><span data-stu-id="bc330-261">Lift and shift scenario</span></span>

<span data-ttu-id="bc330-262">对于直接迁移，请记住，在应用程序方案中可以使用很多不同的直接迁移变体。</span><span class="sxs-lookup"><span data-stu-id="bc330-262">For lift and shift migrations, keep in mind that you can use many different variations of lift and shift in your application scenarios.</span></span> <span data-ttu-id="bc330-263">如果仅重新托管应用程序，则可能拥有类似于图 1-4 中所示的方案，在此方案中，仅对应用程序和数据库服务器使用云中的 VM。</span><span class="sxs-lookup"><span data-stu-id="bc330-263">If you only rehost your application, you might have a scenario like the one shown in Figure 1-4, where you use VMs in the cloud only for your application and for your database server.</span></span>

![云中纯 IaaS 方案的示例](./media/image1-4.png)

> <span data-ttu-id="bc330-265">**图 1-4**。</span><span class="sxs-lookup"><span data-stu-id="bc330-265">**Figure 1-4**.</span></span> <span data-ttu-id="bc330-266">云中纯 IaaS 方案的示例</span><span class="sxs-lookup"><span data-stu-id="bc330-266">Example of a pure IaaS scenario in the cloud</span></span>

## <a name="modernization-scenarios"></a><span data-ttu-id="bc330-267">现代化方案</span><span class="sxs-lookup"><span data-stu-id="bc330-267">Modernization scenarios</span></span>

<span data-ttu-id="bc330-268">对于现代化方案中，您可能必须纯云优化应用程序，使用仅从该成熟度级别的元素。</span><span class="sxs-lookup"><span data-stu-id="bc330-268">For modernization scenarios, you might have a pure Cloud-Optimized application that uses elements only from that maturity level.</span></span> <span data-ttu-id="bc330-269">或者，你可能具有某些元素的中间状态应用程序从云基础结构准备就绪并从云计算得到优化的其他元素 (一个"挑选"或混合的模型)，如图 1-5。</span><span class="sxs-lookup"><span data-stu-id="bc330-269">Or, you might have an intermediate-state application with some elements from Cloud Infrastructure-Ready and other elements from Cloud-Optimized (a "pick and choose" or mixed model), like in Figure 1-5.</span></span>

![“挑选”方案示例，使用 IaaS 数据库、DevOps 和容器化资产](./media/image1-5.png)

> <span data-ttu-id="bc330-271">**图 1-5**。</span><span class="sxs-lookup"><span data-stu-id="bc330-271">**Figure 1-5.**</span></span> <span data-ttu-id="bc330-272">“挑选”方案示例，使用 IaaS 数据库、DevOps 和容器化资产</span><span class="sxs-lookup"><span data-stu-id="bc330-272">Example "pick and choose" scenario, with database on IaaS, DevOps, and containerization assets</span></span>

<span data-ttu-id="bc330-273">接下来，理想的方案的多个现有.NET Framework 应用程序迁移，则无法迁移到云优化应用程序，若要获得一些工作显著的好处。</span><span class="sxs-lookup"><span data-stu-id="bc330-273">Next, as the ideal scenario for many existing .NET Framework applications to migrate, you could migrate to a Cloud-Optimized application, to get significant benefits from little work.</span></span> <span data-ttu-id="bc330-274">此方法还设置了云原生，作为可能的未来发展。</span><span class="sxs-lookup"><span data-stu-id="bc330-274">This approach also sets you up for Cloud-Native as a possible future evolution.</span></span> <span data-ttu-id="bc330-275">图 1-6 显示了一个示例。</span><span class="sxs-lookup"><span data-stu-id="bc330-275">Figure 1-6 shows an example.</span></span>

![云优化的应用程序方案示例，使用 Windows 容器和托管的服务](./media/image1-6.png)

> <span data-ttu-id="bc330-277">**图 1-6**。</span><span class="sxs-lookup"><span data-stu-id="bc330-277">**Figure 1-6.**</span></span> <span data-ttu-id="bc330-278">云优化的应用程序方案示例，使用 Windows 容器和托管的服务</span><span class="sxs-lookup"><span data-stu-id="bc330-278">Example Cloud-Optimized apps scenario, with Windows Containers and managed services</span></span>

<span data-ttu-id="bc330-279">再进一步，可以通过添加适用于特定方案的几个微服务来扩展现有的云优化应用程序。</span><span class="sxs-lookup"><span data-stu-id="bc330-279">Going even further, you could extend your existing Cloud-Optimized application by adding a few microservices for specific scenarios.</span></span> <span data-ttu-id="bc330-280">这会将您部分推向云原生模型，这不是，当前指南的重点的级别。</span><span class="sxs-lookup"><span data-stu-id="bc330-280">This would move you partially to the level of Cloud-Native model, which is not the main focus of the present guidance.</span></span>


## <a name="what-this-guide-does-not-cover"></a><span data-ttu-id="bc330-281">本指南未涵盖的内容</span><span class="sxs-lookup"><span data-stu-id="bc330-281">What this guide does not cover</span></span>

<span data-ttu-id="bc330-282">本指南涵盖了一小部分特定的示例方案，如图 1-7 所示。</span><span class="sxs-lookup"><span data-stu-id="bc330-282">This guide covers a specific subset of the example scenarios, as shown in Figure 1-7.</span></span> <span data-ttu-id="bc330-283">本指南主要仅在直接迁移方案和从根本上讲，云计算得到优化模型。</span><span class="sxs-lookup"><span data-stu-id="bc330-283">This guide focuses only on lift and shift scenarios, and ultimately, on the Cloud-Optimized model.</span></span> <span data-ttu-id="bc330-284">在云计算得到优化模型中，.NET Framework 应用程序现代化通过使用 Windows 容器，以及其他组件，如监视和 CI/CD 管道。</span><span class="sxs-lookup"><span data-stu-id="bc330-284">In the Cloud-Optimized model, a .NET Framework application is modernized by using Windows Containers, plus additional components like monitoring and CI/CD pipelines.</span></span> <span data-ttu-id="bc330-285">每个组件都是确保将应用程序更快地、敏捷地部署到云的基础。</span><span class="sxs-lookup"><span data-stu-id="bc330-285">Each component is fundamental to deploying applications to the cloud, faster, and with agility.</span></span>

![本指南未介绍云原生](./media/image1-7.png)

> <span data-ttu-id="bc330-287">**图 1-7**</span><span class="sxs-lookup"><span data-stu-id="bc330-287">**Figure 1-7.**</span></span> <span data-ttu-id="bc330-288">本指南未介绍云原生</span><span class="sxs-lookup"><span data-stu-id="bc330-288">Cloud-Native is not covered in this guide</span></span>

<span data-ttu-id="bc330-289">本指南的重点具有一定的针对性。</span><span class="sxs-lookup"><span data-stu-id="bc330-289">The focus of this guide is specific.</span></span> <span data-ttu-id="bc330-290">它将显示可用于实现的提升和转变现有.NET 应用程序，而无需重新架构，且无需更改代码的路径。</span><span class="sxs-lookup"><span data-stu-id="bc330-290">It shows you the path you can take to achieve a lift and shift of your existing .NET applications, without rearchitecting, and with no code changes.</span></span> <span data-ttu-id="bc330-291">从根本上讲，它演示如何使应用程序云计算得到优化。</span><span class="sxs-lookup"><span data-stu-id="bc330-291">Ultimately, it shows you how to make your application Cloud-Optimized.</span></span>

<span data-ttu-id="bc330-292">本指南不演示如何创建云本机应用程序，如如何改进到微服务体系结构。</span><span class="sxs-lookup"><span data-stu-id="bc330-292">This guide doesn't show you how to create Cloud-Native applications, such as how to evolve to a microservices architecture.</span></span> <span data-ttu-id="bc330-293">若要重新构建您的应用程序或创建基于微服务的全新应用程序，请参阅电子书[.NET 微服务：容器化.NET 应用程序体系结构](https://aka.ms/microservicesebook)。</span><span class="sxs-lookup"><span data-stu-id="bc330-293">To rearchitect your applications or to create brand-new applications that are based on microservices, see the e-book [.NET Microservices: Architecture for containerized .NET applications](https://aka.ms/microservicesebook).</span></span>

### <a name="additional-resources"></a><span data-ttu-id="bc330-294">其他资源</span><span class="sxs-lookup"><span data-stu-id="bc330-294">Additional resources</span></span>

- <span data-ttu-id="bc330-295">**适用于容器化 Docker 应用程序生命周期使用 Microsoft 平台和工具**（可下载电子书） \\</span><span class="sxs-lookup"><span data-stu-id="bc330-295">**Containerized Docker application lifecycle with Microsoft platform and tools** (downloadable e-book) \\</span></span>
  [https://aka.ms/dockerlifecycleebook](https://aka.ms/dockerlifecycleebook)

- <span data-ttu-id="bc330-296">**.NET 微服务：容器化.NET 应用程序体系结构**（可下载电子书） \\</span><span class="sxs-lookup"><span data-stu-id="bc330-296">**.NET Microservices: Architecture for containerized .NET applications** (downloadable e-book) \\</span></span>
  [https://aka.ms/microservicesebook](https://aka.ms/microservicesebook)

- <span data-ttu-id="bc330-297">**构建现代 web 应用程序使用 ASP.NET Core 和 Azure** （可下载电子书） \\</span><span class="sxs-lookup"><span data-stu-id="bc330-297">**Architecting modern web applications with ASP.NET Core and Azure** (downloadable e-book) \\</span></span>
  [https://aka.ms/webappebook](https://aka.ms/webappebook)

## <a name="who-should-use-this-guide"></a><span data-ttu-id="bc330-298">本指南的目标读者</span><span class="sxs-lookup"><span data-stu-id="bc330-298">Who should use this guide</span></span>

<span data-ttu-id="bc330-299">本指南专为开发人员和解决方案架构师想要使现有的 ASP.NET web 应用程序或基于.NET Framework 中，为交付和发布应用程序灵活性的提高的 WCF 服务实现现代化。</span><span class="sxs-lookup"><span data-stu-id="bc330-299">This guide was written for developers and solution architects who want to modernize existing ASP.NET web applications or WCF services that are based on the .NET Framework, for improved agility in shipping and releasing applications.</span></span>

<span data-ttu-id="bc330-300">本指南可能也对技术决策者有帮助，例如希望大概了解使用 Windows 容器和使用 Microsoft Azure 部署到云可以获得哪些好处的企业架构师或开发负责人/主管。</span><span class="sxs-lookup"><span data-stu-id="bc330-300">You also might find this guide useful if you are a technical decision maker, such as an enterprise architect or a development lead/director who just wants an overview of the benefits that you can get by using Windows Containers, and by deploying to the cloud when using Microsoft Azure.</span></span>

## <a name="how-to-use-this-guide"></a><span data-ttu-id="bc330-301">如何使用本指南</span><span class="sxs-lookup"><span data-stu-id="bc330-301">How to use this guide</span></span>

<span data-ttu-id="bc330-302">本指南解释了需要更新现有应用程序的原因，以及使用 Windows 容器将应用移动到云能获得的具体好处。</span><span class="sxs-lookup"><span data-stu-id="bc330-302">This guide addresses the "why"-why you might want to modernize your existing applications, and the specific benefits you get from using Windows Containers when you move your apps to the cloud.</span></span> <span data-ttu-id="bc330-303">本指南前几章的内容适用于架构师和技术决策者，他们只需大概了解，不需要实现和技术分步细节。</span><span class="sxs-lookup"><span data-stu-id="bc330-303">The content in the first few chapters of the guide is designed for architects and technical decision makers who want an overview, but who don't need to focus on implementation and technical, step-by-step details.</span></span>

<span data-ttu-id="bc330-304">本指南最后一章介绍重点针对特定部署方案的多个演练。</span><span class="sxs-lookup"><span data-stu-id="bc330-304">The last chapter of this guide introduces multiple walkthroughs that focus on specific deployment scenarios.</span></span> <span data-ttu-id="bc330-305">本指南提供较短版本的演练，概况各种方案，并突出显示其权益。</span><span class="sxs-lookup"><span data-stu-id="bc330-305">This guide offers shorter versions of the walkthroughs, to summarize the scenarios and highlight their benefits.</span></span> <span data-ttu-id="bc330-306">完整演练深入到了设置和实现细节，并作为一组 [Wiki 文章](https://github.com/dotnet-architecture/eShopModernizing/wiki)在相同的公共 [GitHub 存储库](https://github.com/dotnet-architecture/eShopModernizing)中发布，该存储库中还存放着相关示例应用（将在下一节讨论）。</span><span class="sxs-lookup"><span data-stu-id="bc330-306">The full walkthroughs drill down into setup and implementation details, and are published as a set of [wiki posts](https://github.com/dotnet-architecture/eShopModernizing/wiki) in the same public [GitHub repo](https://github.com/dotnet-architecture/eShopModernizing) where related sample apps reside (discussed in the next section).</span></span> <span data-ttu-id="bc330-307">关注实现细节的开发者和架构师将对最后一章以及 GitHub 上的分步 Wiki 演练更感兴趣。</span><span class="sxs-lookup"><span data-stu-id="bc330-307">The last chapter and the step-by-step wiki walkthroughs on GitHub will be of more interest to developers and architects who want to focus on implementation details.</span></span>

## <a name="sample-apps-for-modernizing-legacy-apps-eshopmodernizing"></a><span data-ttu-id="bc330-308">用于更新旧版应用的示例应用：eShopModernizing</span><span class="sxs-lookup"><span data-stu-id="bc330-308">Sample apps for modernizing legacy apps: eShopModernizing</span></span>

<span data-ttu-id="bc330-309">GitHub 上的 [EShopModernizing](https://github.com/dotnet-architecture/eShopModernizing) 存储库提供了两个示例应用程序，用以模拟旧版单片 Web 应用程序。</span><span class="sxs-lookup"><span data-stu-id="bc330-309">The [eShopModernizing](https://github.com/dotnet-architecture/eShopModernizing) repo on GitHub offers two sample applications that simulate legacy monolithic web applications.</span></span> <span data-ttu-id="bc330-310">通过使用 ASP.NET MVC; 开发一个 web 应用通过使用 ASP.NET Web 窗体开发第二个 web 应用和第三个应用程序是具有 WinForms 客户端桌面应用程序使用 WCF 服务后端的 N 层应用。</span><span class="sxs-lookup"><span data-stu-id="bc330-310">One web app is developed by using ASP.NET MVC; the second web app is developed by using ASP.NET Web Forms and the third app is an N-Tier app with a WinForms client desktop app consuming a WCF service backend.</span></span> <span data-ttu-id="bc330-311">所有这些应用基于传统.NET Framework。</span><span class="sxs-lookup"><span data-stu-id="bc330-311">All these apps are based on the traditional .NET Framework.</span></span> <span data-ttu-id="bc330-312">这些示例应用不使用 .NET Core 或 ASP.NET Core，它们是要更新的现有/旧版 .NET Framework 应用程序。</span><span class="sxs-lookup"><span data-stu-id="bc330-312">These sample apps don't use .NET Core or ASP.NET Core as they are supposed to be existing/legacy .NET Framework applications to be modernized.</span></span>

<span data-ttu-id="bc330-313">这些示例应用都有第二个版本，使用新式代码，哪些是非常简单。</span><span class="sxs-lookup"><span data-stu-id="bc330-313">These sample apps have a second version, with modernized code, and which are fairly straightforward.</span></span> <span data-ttu-id="bc330-314">两个应用版本之间最重要的差异是第二个版本使用 Windows 容器作为部署选项。</span><span class="sxs-lookup"><span data-stu-id="bc330-314">The most important difference between the app versions is that the second versions use Windows Containers as the deployment choice.</span></span> <span data-ttu-id="bc330-315">第二个版本中还新增了一些组件，如用于管理映像的 Azure 存储 Blobs、管理安全的 Azure Active Directory，以及用于监视和审核应用程序的 Azure Application Insights。</span><span class="sxs-lookup"><span data-stu-id="bc330-315">There also are a few additions to the second versions, like Azure Storage Blobs for managing images, Azure Active Directory for managing security, and Azure Application Insights for monitoring and auditing the applications.</span></span>

## <a name="send-your-feedback"></a><span data-ttu-id="bc330-316">提供你的反馈</span><span class="sxs-lookup"><span data-stu-id="bc330-316">Send your feedback</span></span>

<span data-ttu-id="bc330-317">本指南旨在帮助你了解改进和更新现有.NET web 应用程序的选项。</span><span class="sxs-lookup"><span data-stu-id="bc330-317">This guide was written to help you understand your options for improving and modernizing existing .NET web applications.</span></span> <span data-ttu-id="bc330-318">本指南以及相关示例应用程序不断更新。</span><span class="sxs-lookup"><span data-stu-id="bc330-318">The guide and related sample applications are evolving.</span></span> <span data-ttu-id="bc330-319">你的反馈是欢迎使用 ！</span><span class="sxs-lookup"><span data-stu-id="bc330-319">Your feedback is welcome!</span></span> <span data-ttu-id="bc330-320">如有关于本指南的改进建议，请将其发送到 [dotnet-architecture-ebooks-feedback@service.microsoft.com](mailto:dotnet-architecture-ebooks-feedback@service.microsoft.com?subject=Feedback%20for%20.NET%20Container%20&%20Microservices%20Architecture%20book)。</span><span class="sxs-lookup"><span data-stu-id="bc330-320">If you have comments about how this guide might be more helpful, please send them to [dotnet-architecture-ebooks-feedback@service.microsoft.com](mailto:dotnet-architecture-ebooks-feedback@service.microsoft.com?subject=Feedback%20for%20.NET%20Container%20&%20Microservices%20Architecture%20book).</span></span>

>[!div class="step-by-step"]
>[<span data-ttu-id="bc330-321">下一页</span><span class="sxs-lookup"><span data-stu-id="bc330-321">Next</span></span>](lift-and-shift-existing-apps-azure-iaas.md)
