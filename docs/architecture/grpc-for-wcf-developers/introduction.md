---
title: 介绍 - gRPC 面向 WCF 开发人员
description: 简介
ms.date: 09/02/2019
ms.openlocfilehash: 41f470eb02a77b1b6a26a7d4c2ca347ad07d828d
ms.sourcegitcommit: e3cbf26d67f7e9286c7108a2752804050762d02d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/09/2020
ms.locfileid: "80988929"
---
# <a name="introduction"></a>简介

帮助机器相互通信一直是数字时代的主要关注点之一。 特别是，正在努力确定满足当前基础架构互操作性需求的最佳远程通信机制。 可以想象，随着需求或基础结构的发展，该机制会发生变化。

.NET Core 3.0 的发布标志着 Microsoft 向希望跨一系列平台提供服务的开发人员提供远程通信解决方案的方式发生了转变。 .NET Core 不提供现成的 Windows 通信基础 （WCF），但随着 ASP.NET酷睿 3.0 的发布，它确实提供了内置的 gRPC 功能。

gRPC 是更广泛的软件社区中一个流行的框架。 开发人员跨许多编程语言用于现代 RPC 方案。 社区和生态系统充满活力和活跃。 对 gRPC 协议的支持正在添加到基础结构组件中，如 Kubernetes、服务网、负载均衡器等。 这些因素及其性能、效率和跨平台兼容性使 gRPC 成为新应用和 WCF 应用迁移到 .NET Core 的自然选择。

## <a name="history"></a>历史记录

计算机网络的基本原理只不过是一组相互交换数据以实现一组相互关联的任务的计算机，自成立以来没有改变。 但复杂性、规模和预期呈指数级增长。  

在1990年代，主要强调改进使用同一语言和平台的内部网络。 TCP/IP 成为此类通信的黄金标准。

重点很快转移到如何通过推广与语言无关的方法来优化跨多个平台的通信。 面向服务的体系结构 （SOA） 提供了一个结构，用于松散地耦合可提供给应用程序的广泛服务集合。

*网络服务*的发展发生在所有主要平台都可以访问互联网时，但它们仍然无法相互交互。 Web 服务具有开放的标准和协议，包括：

- 用于标记和代码数据的 XML。
- 用于传输数据的简单对象访问协议 （SOAP）。
- Web 服务定义语言 （WSDL） 用于描述 Web 服务并将其连接到客户端应用程序。
- 通用描述、发现和集成 （UDDI），使 Web 服务可以被其他服务发现。

SOAP 定义了应用程序分布式元素可以相互通信的规则，即使它们位于不同的平台上也是如此。 SOAP 基于 XML，因此它是人类可读的。 使SOAP易于理解的牺牲是大小;SOAP 消息大于类似协议中的消息。 SOAP 旨在在不丢失安全性或控制的情况下将单片应用程序分解为多组件形式。 因此，WCF被设计为与这种系统一起工作，不像gRPC，它最初是一个分布式系统。 WCF 通过开发和记录 SOAP 堆栈的专有扩展协议来解决其中一些限制，但代价是缺乏其他平台的支持。

Windows 通信基础是构建服务的框架。 它设计于 21 世纪初，旨在帮助使用早期 SOA 的开发人员管理使用 SOAP 的复杂性。 尽管它消除了开发人员编写自己的 SOAP 协议的要求，但 WCF 仍使用 SOAP 来实现与其他系统的互操作性。 WCF 还设计用于跨多个协议（HTTP/1.1、Net.TCP 等）提供解决方案。

## <a name="microservices"></a>微服务

在微服务体系结构中，大型应用程序构建为小型模块化服务的集合。 每个组件执行特定任务或过程，并且组件设计为可互操作，但可以根据需要隔离。

微服务的优势包括：

- 更改和升级可以独立处理。
- 错误处理变得更加高效，因为问题可以追溯到特定服务，然后独立于其他服务进行隔离、重建、测试和重新部署。
- 可伸缩性可以局限于特定的实例或服务，而不是整个应用程序。
- 开发可以跨多个团队进行，与许多团队在单个代码库上工作时发生的摩擦更少。

向虚拟化、云计算、容器和物联网迈进，推动了微服务的持续崛起。 但是，微服务并非没有挑战。 分散/分散的基础架构更加强调在服务之间通信时对简单性和速度的需求。 这反过来又引起了人们对SOAP有时费力和扭曲性的关注。

正是在这个环境中，gRPC在微软首次发布WCF10年后推出。 gRPC 直接从 Google 的内部基础设施 RPC （Stubby） 演变而来，它从未基于许多早期 RPC 的参数的相同标准和协议。 gRPC 只基于 HTTP/2。 这就是为什么它可以利用高级传输协议提供的新功能。 特别是双向流、二进制消息和多路复用。

## <a name="about-this-guide"></a>关于本指南

本指南介绍了 gRPC 的主要功能。 早期章节对 WCF 的主要特征进行高级别观察，并将其与 gRPC 的主要特征进行比较。 它标识了 WCF 和 gRPC 之间存在直接相关性的位置，以及 gRPC 提供优势的位置。 当 WCF 和 gRPC 之间没有关联，或者 gRPC 无法提供 WCF 等效解决方案时，本指南将建议解决方法或何处了解更多信息。

使用一组示例 WCF 应用程序，第 5 章深入探讨将 WCF 服务的主要类型（简单的请求回复、单向和流式处理）转换为 gRPC 中的等效服务。

本书的最后一部分将介绍如何在实践中从 gRPC 中获得最佳结果。 本节包括有关使用附加工具（如 Docker 容器或 Kubernetes）以利用 gRPC 效率的信息。 它还包括有关日志记录、指标和分布式跟踪的监视的详细信息。

## <a name="who-this-guide-is-for"></a>本指南适用对象

本指南是为在 .NET 框架或 .NET Core 中工作的开发人员编写的，这些开发人员使用过 WCF，并且他们寻求将其应用程序迁移到用于 .NET Core 3.0 和更高版本的现代 RPC 环境。 本指南对于升级或考虑升级到 .NET Core 3.0 以及希望使用内置 gRPC 工具的开发人员可能更普遍有用。

>[!div class="step-by-step"]
>[上一页](index.md)
>[下一页](grpc-overview.md)
