---
title: GRPC for WCF 开发人员
description: 简介
author: markrendle
ms.date: 09/02/2019
ms.openlocfilehash: 9eb12d5060ddf4f345ebe095738c98238c6caab7
ms.sourcegitcommit: 337bdc5a463875daf2cc6883e5a2da97d56f5000
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/24/2019
ms.locfileid: "73841569"
---
# <a name="introduction"></a>简介

帮助计算机相互通信是数字时代的主要 preoccupations 之一。 特别要注意的是，我们正在努力确定适合当前基础结构的互操作性要求的最佳远程通信机制。 正如您所想象的那样，该机制随着需求或基础结构的演变而变化。

.NET Core 3.0 的发布标记了 Microsoft 向要跨一系列平台提供服务的开发人员提供远程通信解决方案的方式。 .NET Core 不提供 Windows Communication Foundation （WCF），但在版本 ASP.NET Core 3.0 的版本中，它提供内置的 gRPC 功能。

gRPC 是更广泛的软件社区中的常用框架，开发人员可跨多种编程语言使用现代 RPC 方案。 社区和生态系统的工作非常鲜明，并支持添加到基础结构组件（如 Kubernetes、服务网格、负载均衡器等）的 gRPC 协议。 这些因素以及性能、效率和跨平台兼容性使 gRPC 成为新应用程序和 WCF 应用程序的自然选择。

## <a name="history"></a>历史记录

计算机网络的基本原则是除了一组相互交换数据的计算机，还不能实现一组相关的任务。 但是，复杂性、规模和期望呈指数级增长。  

在二十世纪九十年代，重点主要是为了改进使用相同语言和平台的内部网络。 对于这种类型的通信，TCP/IP 成为金牌标准。

不过，重点是如何最好地跨多个平台上的通信进行优化，从而实现一种与语言无关的方法。 面向服务的体系结构（SOA）提供了一个结构，用于松散耦合可提供给应用程序的广泛的服务集合。

*Web 服务*的开发一旦所有主要平台都可以访问 Internet，但仍无法彼此交互。 Web 服务具有开放的标准和协议，其中包括：

- XML 到标记和代码的数据;
- 用于传输数据的简单对象访问协议（SOAP）;
- Web 服务定义语言（WSDL）–描述 web 服务并将其连接到客户端应用程序;*和*
- 通用描述发现集成（UDDI）-允许其他服务发现 Web 服务

SOAP 定义了应用程序的分布式元素可以彼此通信的规则（即使它们位于不同的平台上）。 SOAP 是基于 XML 的，因此是可读的。 使 SOAP 易于理解的牺牲是大小;SOAP 消息比可比较协议中的消息要大。 SOAP 旨在将单一应用程序分解成多组件形式，而不会丢失安全性或控制。 因此，WCF 设计为与该类型的系统一起使用，这不同于 gRPC，后者以分布式系统开头。 WCF 通过开发和记录 SOAP stack 的专有扩展协议来解决其中一些限制，但代价是从其他平台缺少支持。

Windows Communication Foundation 是用于生成服务的框架。 它是在早期2000s 中设计的，旨在帮助开发人员使用早期 SOA 来管理使用 SOAP 的复杂性。 尽管它不再要求开发人员编写自己的 SOAP 协议，但 WCF 仍使用 SOAP 来实现与其他系统的互操作性。 WCF 还旨在提供跨多个协议的解决方案（HTTP/1.1、Wcf-nettcp 等）。

## <a name="microservices"></a>微服务

在微服务体系结构中，大型应用程序构建为较小的模块化服务的集合。 每个组件都执行特定的任务或过程，组件专门用于 interoperably，但可以根据需要进行隔离。

微服务的优点包括：

- 更改和升级可单独处理。
- 错误处理变得更高效，因为问题可以跟踪到特定服务，然后独立于其他服务进行隔离、重新生成、测试和重新部署。
- 可伸缩性可以局限于特定实例或服务，而不是整个应用程序。
- 开发可能跨多个团队发生，而不是在多个团队处理单个代码库时进行。

提高虚拟化、云计算、容器和物联网的发展使微服务的不断上升。 不过，微服务不会遇到问题。 分散/分散的基础结构更侧重于在服务之间进行通信时对简易性和速度的需求。 这进而会注意到 SOAP 的有时费力和 contorted 的特性。

在此环境中，gRPC 已启动，Microsoft 首次发布 WCF 后10年。 直接从 Google 的内部基础结构 RPC （Stubby）演变而来，gRPC 从不基于相同的标准和协议，这些协议已经通知了许多早期 Rpc 的参数。 此外，gRPC 只是基于 HTTP/2，因此它可以在提供高级传输协议的新功能上进行绘制。 特别是双向流式处理、二进制消息传递和多路复用。

## <a name="about-this-guide"></a>关于本指南

本指南涵盖了 gRPC 的主要功能。 早期章节大致了解 WCF 的主要功能，并将其与 gRPC 进行比较。 它确定 WCF 与 gRPC 之间的直接相关性，以及 gRPC 提供优点的位置。 如果 WCF 与 gRPC 之间没有关联关系，或者 gRPC 不能为 WCF 提供等效的解决方案，本指南将建议解决方法或有关详细信息的位置。

使用一组示例 WCF 应用程序，第5章深入探讨了如何将 WCF 服务（简单的请求-答复、单向和流式处理）的主要类型转换为 gRPC 中的等效项。

本书的最后一部分介绍如何在实践中充分利用 gRPC，包括使用 Docker 容器或 Kubernetes 等其他工具来利用 gRPC 的效率，并详细介绍了日志记录、指标和分布式监视描绘.

## <a name="whom-this-guide-is-for"></a>本指南适用的

本指南专为在以前使用 WCF 的 .NET Framework 或 .NET Core 中的开发人员编写，并正在寻求将其应用程序迁移到 .NET Core 3.0 及更高版本的新式 RPC 环境。 本指南还可能更适用于开发人员升级或考虑升级到需要使用内置 gRPC 工具的 .NET Core 3.0 的开发人员。

>[!div class="step-by-step"]
>[上一页](index.md)
>[下一页](grpc-overview.md)
