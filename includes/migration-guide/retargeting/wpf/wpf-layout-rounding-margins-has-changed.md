---
ms.openlocfilehash: 73096e5f61e5257e062df9743cae0f5464892357
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/08/2019
ms.locfileid: "59234367"
---
### <a name="wpf-layout-rounding-of-margins-has-changed"></a><span data-ttu-id="228a2-101">边距的 WPF 布局舍入已更改</span><span class="sxs-lookup"><span data-stu-id="228a2-101">WPF layout rounding of margins has changed</span></span>

|   |   |
|---|---|
|<span data-ttu-id="228a2-102">详细信息</span><span class="sxs-lookup"><span data-stu-id="228a2-102">Details</span></span>|<span data-ttu-id="228a2-103">边距舍入的方式以及边框和边框内的背景已更改。</span><span class="sxs-lookup"><span data-stu-id="228a2-103">The way in which margins are rounded and borders and the background inside of them has changed.</span></span> <span data-ttu-id="228a2-104">此更改的结果是：</span><span class="sxs-lookup"><span data-stu-id="228a2-104">As a result of this change:</span></span><ul><li><span data-ttu-id="228a2-105">元素的宽度或高度最多可以扩大或收缩一个像素。</span><span class="sxs-lookup"><span data-stu-id="228a2-105">The width or height of elements may grow or shrink by at most one pixel.</span></span></li><li><span data-ttu-id="228a2-106">对象的位置最多可以移动一个像素。</span><span class="sxs-lookup"><span data-stu-id="228a2-106">The placement of an object can move by at most one pixel.</span></span></li><li><span data-ttu-id="228a2-107">居中的元素最多可以垂直或水平地偏离中心一个像素。</span><span class="sxs-lookup"><span data-stu-id="228a2-107">Centered elements can be vertically or horizontally off center by at most one pixel.</span></span></li></ul><span data-ttu-id="228a2-108">默认情况下，仅对面向 .NET Framework 4.6 的应用启用此新布局。</span><span class="sxs-lookup"><span data-stu-id="228a2-108">By default, this new layout is enabled only for apps that target the .NET Framework 4.6.</span></span>|
|<span data-ttu-id="228a2-109">建议</span><span class="sxs-lookup"><span data-stu-id="228a2-109">Suggestion</span></span>|<span data-ttu-id="228a2-110">由于这种修改往往会消除高 DPI 处 WPF 控件的右侧或底部剪辑，因此面向早期版本的 .NET framework 但在.NET Framework 4.6 上运行的应用可以通过将下面的行添加到 app.config 文件的 <code>&lt;runtime&gt;</code> 部分来选择加入此新行为：</span><span class="sxs-lookup"><span data-stu-id="228a2-110">Since this modification tends to eliminate clipping of the right or bottom of WPF controls at high DPIs, apps that target earlier versions of the .NET Framework but are running on the .NET Framework 4.6 can opt into this new behavior by adding the following line to the <code>&lt;runtime&gt;</code> section of the app.config file:</span></span><pre><code class="lang-xml">&lt;AppContextSwitchOverrides value=&quot;Switch.MS.Internal.DoNotApplyLayoutRoundingToMarginsAndBorderThickness=false&quot; /&gt;&#39;&#13;&#10;</code></pre><span data-ttu-id="228a2-111">面向 .NET Framework 4.6 但希望 WPF 控件使用之前的布局算法来呈现的应用可以通过将下面的行添加到 app.config 文件的 <code>&lt;runtime&gt;</code> 部分来执行此操作：</span><span class="sxs-lookup"><span data-stu-id="228a2-111">Apps that target the .NET Framework 4.6 but want WPF controls to render using the previous layout algorithm can do so by adding the following line to the <code>&lt;runtime&gt;</code> section of the app.config file:</span></span><pre><code class="lang-xml">&lt;AppContextSwitchOverrides value=&quot;Switch.MS.Internal.DoNotApplyLayoutRoundingToMarginsAndBorderThickness=true&quot; /&gt;&#39;.&#13;&#10;</code></pre>|
|<span data-ttu-id="228a2-112">范围</span><span class="sxs-lookup"><span data-stu-id="228a2-112">Scope</span></span>|<span data-ttu-id="228a2-113">次要</span><span class="sxs-lookup"><span data-stu-id="228a2-113">Minor</span></span>|
|<span data-ttu-id="228a2-114">版本</span><span class="sxs-lookup"><span data-stu-id="228a2-114">Version</span></span>|<span data-ttu-id="228a2-115">4.6</span><span class="sxs-lookup"><span data-stu-id="228a2-115">4.6</span></span>|
|<span data-ttu-id="228a2-116">类型</span><span class="sxs-lookup"><span data-stu-id="228a2-116">Type</span></span>|<span data-ttu-id="228a2-117">重定目标</span><span class="sxs-lookup"><span data-stu-id="228a2-117">Retargeting</span></span>|
