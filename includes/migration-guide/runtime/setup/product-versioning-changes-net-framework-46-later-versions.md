---
ms.openlocfilehash: 21aa431bc0d0566b69247dd45b8cd1c87aebffdf
ms.sourcegitcommit: 155012a8a826ee8ab6aa49b1b3a3b532e7b7d9bd
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/04/2019
ms.locfileid: "66488309"
---
### <a name="product-versioning-changes-in-the-net-framework-46-and-later-versions"></a><span data-ttu-id="572d4-101">.NET Framework 4.6 和更高版本中产品版本控制的更改</span><span class="sxs-lookup"><span data-stu-id="572d4-101">Product versioning changes in the .NET Framework 4.6 and later versions</span></span>

|   |   |
|---|---|
|<span data-ttu-id="572d4-102">详细信息</span><span class="sxs-lookup"><span data-stu-id="572d4-102">Details</span></span>|<span data-ttu-id="572d4-103">产品版本控制已更改从早期版本的.NET Framework 中，尤其是从.NET Framework 4、 4.5、 4.5.1 和 4.5.2。</span><span class="sxs-lookup"><span data-stu-id="572d4-103">Product versioning has changed from the previous releases of the .NET Framework, and particularly from the .NET Framework 4, 4.5, 4.5.1, and 4.5.2.</span></span> <span data-ttu-id="572d4-104">以下是详细更改：</span><span class="sxs-lookup"><span data-stu-id="572d4-104">The following are the detailed changes:</span></span><ul><li><span data-ttu-id="572d4-105">值<code>Version</code>中的条目<code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full</code>密钥已更改为<code>4.6.xxxxx</code>.NET Framework 4.6 及其单点版本，以及到<code>4.7.xxxxx</code>用于.NET Framework 4.7 和其单点版本，以及到<code> 4.8.xxxxx </CODE>针对.NET Framework 4.8。</span><span class="sxs-lookup"><span data-stu-id="572d4-105">The value of the <code>Version</code> entry in the <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full</code> key has changed to <code>4.6.xxxxx</code> for the .NET Framework 4.6 and its point releases, to <code>4.7.xxxxx</code> for the .NET Framework 4.7 and its point releases, and to <code>4.8.xxxxx</CODE> for the .NET Framework 4.8.</span></span> <span data-ttu-id="572d4-106">在 .NET Framework 4.5、4.5.1 和 4.5.2 中，它的格式为 <code>4.5.xxxxx</code>。</span><span class="sxs-lookup"><span data-stu-id="572d4-106">In the .NET Framework 4.5, 4.5.1, and 4.5.2, it had the format <code>4.5.xxxxx</code>.</span></span></li><li><span data-ttu-id="572d4-107">.NET Framework 文件的文件和产品版本控制已从 4.0.30319.x 的早期版本控制方案到 4.6.X.0 对于.NET Framework 4.6 及其点版本中，为 4.7.X.0 以及.NET Framework 4.7 及其单点版本，并适用于.NET 的 4.8.X.04.8 的框架。</span><span class="sxs-lookup"><span data-stu-id="572d4-107">The file and product versioning for .NET Framework files has changed from the earlier versioning scheme of 4.0.30319.x to 4.6.X.0 for the .NET Framework 4.6 and its point releases, to 4.7.X.0 for the .NET Framework 4.7 and its point releases, and to 4.8.X.0 for .NET Framework 4.8.</span></span> <span data-ttu-id="572d4-108">右键单击某个文件后，查看文件的“属性”时可以看到这些新值。</span><span class="sxs-lookup"><span data-stu-id="572d4-108">You can see these new values when you view the file's Properties after right-clicking on a file.</span></span></li><li><span data-ttu-id="572d4-109"><xref:System.Reflection.AssemblyFileVersionAttribute>和<xref:System.Reflection.AssemblyInformationalVersionAttribute>特性的托管程序集具有的版本值格式 4.6.X.0 对于.NET Framework 4.6 及其点的释放，4.7.X.0 的.NET Framework 4.7 及其单点版本和.NET Framework 4.8 的 4.8.X.0。</span><span class="sxs-lookup"><span data-stu-id="572d4-109">The <xref:System.Reflection.AssemblyFileVersionAttribute> and <xref:System.Reflection.AssemblyInformationalVersionAttribute> attributes for managed assemblies have Version values in the form 4.6.X.0 for the .NET Framework 4.6 and its point releases, 4.7.X.0 for the .NET Framework 4.7 and its point releases, and 4.8.X.0 for .NET Framework 4.8.</span></span></li><li><span data-ttu-id="572d4-110">在.NET Framework 4.6 和更高版本<xref:System.Environment.Version?displayProperty=nameWithType>属性将返回修正后的版本字符串<code>4.0.30319.42000</code>。</span><span class="sxs-lookup"><span data-stu-id="572d4-110">In the .NET Framework 4.6 and later versions, the <xref:System.Environment.Version?displayProperty=nameWithType> property returns the fixed version string <code>4.0.30319.42000</code>.</span></span> <span data-ttu-id="572d4-111">在.NET Framework 4、 4.5、 4.5.1 和 4.5.2 中，它将返回版本字符串的格式<code>4.0.30319.xxxxx</code>，其中<code>xxxxx</code>是小于 42000 (例如， &quot;4.0.30319.18010&quot;)。</span><span class="sxs-lookup"><span data-stu-id="572d4-111">In the .NET Framework 4, 4.5, 4.5.1, and 4.5.2, it returns version strings in the format <code>4.0.30319.xxxxx</code>, where <code>xxxxx</code> is less than 42000 (for example, &quot;4.0.30319.18010&quot;).</span></span> <span data-ttu-id="572d4-112">请注意，我们不建议应用程序代码对 Environment.Version 属性产生任何新的依赖关系。</span><span class="sxs-lookup"><span data-stu-id="572d4-112">Note that we do not recommend application code taking any new dependency on the Environment.Version property.</span></span></li></ul><span data-ttu-id="572d4-113">有关详细信息，请参阅[如何：确定已安装的 .NET Framework 版本](~/docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md)。</span><span class="sxs-lookup"><span data-stu-id="572d4-113">For more information, see [How to: Determine which .NET Framework Versions Are Installed](~/docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md).</span></span>|
|<span data-ttu-id="572d4-114">建议</span><span class="sxs-lookup"><span data-stu-id="572d4-114">Suggestion</span></span>|<span data-ttu-id="572d4-115">一般情况下，应用程序应依赖于用于检测诸如 .NET Framework 的运行时版本和安装目录等内容的推荐技术：</span><span class="sxs-lookup"><span data-stu-id="572d4-115">In general, applications should depend on the recommended techniques for detecting such things as the runtime version of the .NET Framework and the installation directory:</span></span><ul><li><span data-ttu-id="572d4-116">要检测 .NET Framework 的运行时版本，请参阅[如何：确定已安装的 .NET Framework 版本](~/docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md)。</span><span class="sxs-lookup"><span data-stu-id="572d4-116">To detect the runtime version of the .NET Framework, see [How to: Determine Which .NET Framework Versions Are Installed](~/docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md).</span></span></li><li><span data-ttu-id="572d4-117">若要确定 .NET Framework 的安装路径，请使用 <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full</code> 密钥中的 <code>InstallPath</code> 条目的值。</span><span class="sxs-lookup"><span data-stu-id="572d4-117">To determine the installation path for the .NET Framework, use the value of the <code>InstallPath</code> entry in the <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full</code> key.</span></span></li></ul> <blockquote> [!IMPORTANT] <span data-ttu-id="572d4-118">子项名称是 <code>NET Framework Setup</code>，而不是 <code>.NET Framework Setup</code>。</span><span class="sxs-lookup"><span data-stu-id="572d4-118">The subkey name is <code>NET Framework Setup</code>, not <code>.NET Framework Setup</code>.</span></span></blockquote> <ul><li><span data-ttu-id="572d4-119">若要确定.NET Framework 公共语言运行时的目录路径，请调用 <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetRuntimeDirectory?displayProperty=nameWithType> 方法。</span><span class="sxs-lookup"><span data-stu-id="572d4-119">To determine the directory path to the .NET Framework common language runtime, call the <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetRuntimeDirectory?displayProperty=nameWithType> method.</span></span></li><li><span data-ttu-id="572d4-120">若要获取 CLR 版本，请调用 <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetSystemVersion?displayProperty=nameWithType> 方法。</span><span class="sxs-lookup"><span data-stu-id="572d4-120">To get the CLR version, call the <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetSystemVersion?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="572d4-121">对于 .NET Framework 4 及其子版本（.NET Framework 4.5、4.5.1、4.5.2 以及 .NET Framework 4.6、4.6.1、4.6.2、4.7 和 4.7.1），它将返回字符串 v4.0.30319。</span><span class="sxs-lookup"><span data-stu-id="572d4-121">For the .NET Framework 4 and its point releases (the .NET Framework 4.5, 4.5.1, 4.5.2, and .NET Framework 4.6, 4.6.1, 4.6.2, 4.7, and 4.7.1), it returns the string v4.0.30319.</span></span></li></ul>|
|<span data-ttu-id="572d4-122">范围</span><span class="sxs-lookup"><span data-stu-id="572d4-122">Scope</span></span>|<span data-ttu-id="572d4-123">次要</span><span class="sxs-lookup"><span data-stu-id="572d4-123">Minor</span></span>|
|<span data-ttu-id="572d4-124">版本</span><span class="sxs-lookup"><span data-stu-id="572d4-124">Version</span></span>|<span data-ttu-id="572d4-125">4.6</span><span class="sxs-lookup"><span data-stu-id="572d4-125">4.6</span></span>|
|<span data-ttu-id="572d4-126">类型</span><span class="sxs-lookup"><span data-stu-id="572d4-126">Type</span></span>|<span data-ttu-id="572d4-127">运行时</span><span class="sxs-lookup"><span data-stu-id="572d4-127">Runtime</span></span>|
